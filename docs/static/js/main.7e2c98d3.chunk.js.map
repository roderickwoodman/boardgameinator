{"version":3,"sources":["img/purple-meeple-64.png","img/bgg-logo-50.png","ViewControls.js","Api.js","AddGames.js","VotingSection.js","VoteAttributes.js","VoteTitles.js","ImportPoll.js","MainControls.js","Thumbnail.js","GameCardFront.js","GameCardBack.js","GameList.js","Boardgameinator.js","index.js"],"names":["module","exports","ViewControls","props","_useState","useState","_useState2","Object","slicedToArray","sortIsOpen","setSortIsOpen","_useState3","_useState4","filterIsOpen","setFilterIsOpen","hideSortModal","hideFilterModal","react_default","a","createElement","Fragment","id","className","onClick","index_es","icon","faSortAmountDown","Modal","size","show","onHide","ModalBody","concat","sortby","e","onsortchange","ModalFooter","faFilter","filtertitles","onfilterchange","filterplayercount","filterweight","exactSearchApi","title","url","replace","fetch","then","exactSearchResponse","text","exactSearchText","parseSearchApiXml","searchApi","searchResponse","searchText","gamedataApi","gameId","gamedataResponse","gamedataText","str","game","attributes","categories","mechanics","gamesHtmlCollection","DOMParser","parseFromString","getElementsByTagName","makeReadable","parseIntoParagraphs","length","parseInt","childNodes","forEach","node","nodeType","Node","ELEMENT_NODE","tagName","getAttribute","innerHTML","push","childNode","grandchildNode","weight","parseFloat","average_weight","weightname","comment","author","newComment","hasOwnProperty","link","newVideo","keys","parseGamedataApiXml","resp_str","games","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_loop","matchedGame","value","_iterator","Symbol","iterator","next","done","err","return","split","voteinpollApi","poll_id","game_id","newvote","user","console","log","clearmyvotesApi","AddGames","inputValue","setTextareaValue","statusMessages","setStatusMessages","_useState5","_useState6","disambiguousTitleIsSelected","setDisambiguousTitleIsSelected","_useState7","_useState8","ambiguityRemains","setAmbiguityRemains","withoutYear","extractYearFromTitle","matchesDate","match","matchesId","addMessages","new_messages","newStatusMessages","toConsumableArray","getExactSearchResults","_ref","asyncToGenerator","regenerator_default","mark","_callee","titles","titleData","wrap","_context","prev","Promise","all","map","gameTitle","sent","abrupt","stop","_x","apply","this","arguments","getNonexactSearchResults","_ref2","_callee2","_context2","_x2","getGamedataResults","_ref3","_callee3","gamedata","_context3","_x3","updateAmbiguityRemains","disambiguation","values","filter","duplicates","includes","doesAmbiguityRemain","addUnselectedAmbiguousTitles","unambiguous_titles","new_disambiguous_title_is_selected","JSON","parse","stringify","unambiguous_title","base_name","new_base_name","getDisambiguousTitle","entries","entry","validateAmbiguousTitles","validateUserTitles","_ref4","_callee4","user_titles","second_pass","uncached_titles","uncached_ids","potential_cached_titles","cached_titles","ambiguous_titles","titles_for_api","disambiguous_user_titles","all_cached_titles","potential_cached_titles_disambiguation","searchresults_for_ids","searchresults_for_ambiguous","ambiguous_titles_info","gamedata_results","ambiguous_titles_without_year","_context4","cachedgametitles","title_to_lookup","title_is_id_cache","cached","active","message_str","cached_title","isNaN","potential_cached_title","new_disambiguation","name","unambiguous_name","year_published","sort","b","ambiguous_arr","ambiguous","possible_match","toString","result","idx","new_game_to_lookup","is_ambiguous","years_published","ambiguous_result","disambiguation_year","per_title_results","titles_given_with_disambiguation","disambiguation_was_given","unambiguous_name_from_results","onaddcachedtitle","closemymodal","game_data","onaddnewtitle","oncachenewtitle","_x4","_x5","addButton","message","classes","new_classes","key","selectUnambiguousTitle","onChange","event","target","placeholder","required","delimiter","preventDefault","line","userTitles","trim","Array","from","Set","i","toLowerCase","startsWith","faLongArrowAltRight","VotableElement","elementStyle","vote","preferences","votingon","thumbsup","votable_text","votingonlabel","attrcount","suppresslowcounts","faThumbsUp","data-votingtype","votingtype","data-votingon","data-newvote","onnewvote","VotingSection","origVotables","counts","orderedVotables","alphabetize","attrCount","attrName","elementid","index","VotingSection_VotableElement","sectionthumbs","type","attrId","VoteAttributes","votingOn","setVotingOn","handleSectionChange","newSelection","attributestally","playercounts","countsObj","activegamedata","playercount","min_players","max_players","playerCountAttr","countsArray","elementTag","newCount","slice","tallyPlayerCounts","weightcounts","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","average_weight_name","_i","_weights","tallyWeightCounts","categorycounts","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","category","tallyCategoryCounts","mechaniccounts","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","mechanic","tallyMechanicCounts","TransitionGroup","CSSTransition","in","appear","timeout","classNames","VotingSection_VotingSection","attrthumbs","VoteTitles","titlethumbs","hardcoded_polls","pollThumbs","5782","266192","total_title_votes","175914","199478","ImportPoll","activepoll","setInputValue","handleChange","onviewpoll","polls","htmlFor","checked","poll","MainControls","addIsOpen","setAddIsOpen","addErrorIsOpen","setAddErrorIsOpen","voteAttributesIsOpen","setVoteAttributesIsOpen","voteAttributesErrorIsOpen","setVoteAttributesErrorIsOpen","_useState9","_useState10","voteTitlesIsOpen","setVoteTitlesIsOpen","_useState11","_useState12","importPollIsOpen","setImportPollIsOpen","closeMyModal","showAddModal","hideAddModal","showAddErrorModal","hideAddErrorModal","showVoteAttributesModal","hideVoteAttributesModal","showVoteAttributesErrorModal","hideVoteAttributesErrorModal","showVoteTitlesModal","hideVoteTitlesModal","showImportPollModal","hideImportPollModal","useEffect","num_title_votes","activethumbs","_Object$keys","num_attr_votes","players","handleCopyToClipboard","window","location","href","clipboardElement","document","getElementById","select","execCommand","inlineStyle","position","left","top","AddGames_AddGames","VoteTitles_VoteTitles","ondeleteall","disabled","onclearsectionvotes","VoteAttributes_VoteAttributes","ImportPoll_ImportPoll","faClipboard","style","defaultValue","Thumbnail","src","alt","total_attribute_votes","thumbcounts","getClasses","extra_text","my_rank","printTitleTally","attributecount","reallynarrow","printAttributeTally","GameCardFront","section","getWeightVote","getPlayersVote","myminplayers","mymaxplayers","votedPlayercount","voted","myweight","votedWeight","thumbnail","yearpublished","ontoggleinspection","ondelete","upvoted_attributes","faTrash","faInfoCircle","Thumbnail_Thumbnail","faUserFriends","min_playtime","max_playtime","faClock","getWeightName","Description","paragraphs","description","paragraph","Comments","comments","Videos","videos","video","rel","GameCardBack","inspectingsection","oninspectionsectionchange","GameCardBack_Description","GameCardBack_Comments","GameCardBack_Videos","defaultProps","GameFooter","gameid","bggLogo","Game","gamecard","gamecardClasses","idunderinspection","GameCardFront_GameCardFront","GameCardBack_GameCardBack","GameList_GameFooter","GameList","idUnderInspection","setIdUnderInspection","inspectingSection","setInspectingSection","stored_idunderinspection","localStorage","getItem","votecounts","handleInspectionChange","setItem","handleInspectionSectionChange","all_vote_counts","new_vote_counts","thumbsup_data","getTotalVotes","sortedFilteredGames","favoredWeights","weights","getThumbedWeights","filterWeight","favoredPlayercounts","getThumbedPlayercounts","filterPlayercount","favoredTitles","_Object$entries","getThumbedTitles","filterTitles","MainControls_MainControls","GameList_Game","Boardgameinator","_React$Component","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","gamedataVersion","state","activeGameList","activePoll","allGameData","activeThumbs","allThumbs","local","localGameList","sortOrder","windowWidth","windowHeight","totalTitleVotes","bind","assertThisInitialized","totalAttributeVotes","getCachedGameTitles","gameHasBeenAdded","gameSupportsPlayercount","voteTitleInPoll","clearMyTitleVotesInPoll","addGameById","onAddCachedTitle","onAddNewTitle","onCacheNewTitle","onNewVote","onDeleteTitle","onDeleteAllTitles","onClearSectionVotes","onViewPoll","handleSortChange","handleFilterChange","updateDimensions","onHamburger","inherits","createClass","new_list","addto_list","path","search","query_string","qs","stored_localGameList","setState","stored_activeGameList","stored_activePoll","self","stored_allThumbs","stored_activeThumbs","stored_sortorder","stored_filtertitles","stored_filterplayercount","stored_filterweight","addEventListener","removeEventListener","innerWidth","innerHeight","new_cache_info","gameSet","_addGameById","_this2","json","prevState","newGameData","now","Date","getTime","number","_this3","votedplayercount","attributeStillOccurs","votedweight","votedcategory","votedmechanic","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","new_allThumbs","new_pollThumbs","_clearMyTitleVotesInPoll","all_title_thumbs","count","all_attribute_thumbs","_voteTitleInPoll","_x6","_x7","_this4","_Object$assign","assign","currentTarget","dataset","updated_activeThumbs","updated_thistitle","updated_vote","updated_thisattribute","new_pollName","new_activeGameList","new_activeThumbs","_this5","clearVotes","_this6","alert","_this7","styles","reallyNarrow","activeGameData","gameData","cachedGameTitles","faBars","purpleMeeple","ViewControls_ViewControls","GameList_GameList","React","Component","routing","react_router_dom","react_router","component","ReactDOM","render"],"mappings":"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","file":"static/js/main.7e2c98d3.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport Modal from 'react-bootstrap/Modal'\nimport ModalBody from 'react-bootstrap/ModalBody'\nimport ModalFooter from 'react-bootstrap/ModalFooter'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSortAmountDown } from '@fortawesome/free-solid-svg-icons'\nimport { faFilter } from '@fortawesome/free-solid-svg-icons'\n\nexport const ViewControls = (props) => {\n\n    const [sortIsOpen, setSortIsOpen] = useState(false)\n    const [filterIsOpen, setFilterIsOpen] = useState(false)\n\n    const showSortModal = () => {\n        setFilterIsOpen(false)\n        setSortIsOpen(true)\n    }\n\n    const hideSortModal = () => {\n        setSortIsOpen(false)\n    }\n\n    const showFilterModal = () => {\n        setSortIsOpen(false)\n        setFilterIsOpen(true)\n    }\n\n    const hideFilterModal = () => {\n        setFilterIsOpen(false)\n    }\n\n    return (\n        <React.Fragment>\n        <div id=\"view-controls\">\n\n            <button className=\"fa fa-button\" onClick={showSortModal}><FontAwesomeIcon icon={faSortAmountDown}/></button>\n            <Modal size=\"md\" show={sortIsOpen} onHide={hideSortModal}>\n                <ModalBody>\n                    <div id=\"gamesorting-controls\">\n                        <h4>Order the board games by the...</h4>\n                        <button className={`default-secondary-styles ${(props.sortby === 'maxtitlevotes') ? 'active-button' : ''}`} onClick={ (e) => props.onsortchange(e, \"maxtitlevotes\") }>most title votes</button>\n                        <button className={`default-secondary-styles ${(props.sortby === 'maxattrvotes') ? 'active-button' : ''}`} onClick={ (e) => props.onsortchange(e, \"maxattrvotes\") }>most attribute votes</button>\n                        <button className={`default-secondary-styles ${(props.sortby === 'minplaytime') ? 'active-button' : ''}`} onClick={ (e) => props.onsortchange(e, \"minplaytime\") }>shortest playtime</button>\n                        <button className={`default-secondary-styles ${(props.sortby === 'maxplayers') ? 'active-button' : ''}`} onClick={ (e) => props.onsortchange(e, \"maxplayers\") }>most players</button>\n                    </div>\n                </ModalBody>\n                <ModalFooter> \n                    <button className=\"default-primary-styles\" onClick={hideSortModal}>Close</button>\n                </ModalFooter>\n            </Modal>\n\n            <button className=\"fa fa-button\" onClick={showFilterModal}><FontAwesomeIcon icon={faFilter}/></button>\n            <Modal size=\"md\" show={filterIsOpen} onHide={hideFilterModal}>\n                <ModalBody>\n                    <div id=\"gamefiltering-controls\">\n                        <h4>Show only the board games that support...</h4>\n                        <button className={`default-secondary-styles ${(props.filtertitles) ? 'active-button' : ''}`} onClick={ (e) => props.onfilterchange(e, \"titles\") }>upvoted titles</button>\n                        <button className={`default-secondary-styles ${(props.filterplayercount) ? 'active-button' : ''}`} onClick={ (e) => props.onfilterchange(e, \"playercount\") }>upvoted player counts</button>\n                        <button className={`default-secondary-styles ${(props.filterweight) ? 'active-button' : ''}`} onClick={ (e) => props.onfilterchange(e, \"weight\") }>upvoted weights</button>\n                    </div>\n                </ModalBody>\n                <ModalFooter> \n                    <button className=\"default-primary-styles\" onClick={hideFilterModal}>Close</button>\n                </ModalFooter>\n            </Modal>\n\n        </div>\n        </React.Fragment>\n    )\n}\n\nViewControls.propTypes = {\n    sortby: PropTypes.string.isRequired,\n    onsortchange: PropTypes.func.isRequired,\n    filtertitles: PropTypes.bool.isRequired,\n    filterplayercount: PropTypes.bool.isRequired,\n    filterweight: PropTypes.bool.isRequired,\n    onfilterchange: PropTypes.func.isRequired,\n}","export function exactSearchApi(title) {\n    let url = 'https://boardgamegeek.com/xmlapi2/search?type=boardgame&exact=1&query=' + title.replace(' ', '+')\n    return (\n        fetch(url)\n        .then(exactSearchResponse => exactSearchResponse.text())\n        .then(exactSearchText => parseSearchApiXml(exactSearchText))\n    )\n}\n\nexport function searchApi(title) {\n    let url = 'https://boardgamegeek.com/xmlapi2/search?type=boardgame&query='+ title.replace(' ', '+')\n    return (\n        fetch(url)\n        .then(searchResponse => searchResponse.text())\n        .then(searchText => parseSearchApiXml(searchText))\n    )\n}\n\nexport function gamedataApi(gameId) {\n    let url =  'https://boardgamegeek.com/xmlapi2/thing?type=boardgame&stats=1&ratingcomments=1&videos=1&id=' + gameId\n    return (\n        fetch(url)\n        .then(gamedataResponse => gamedataResponse.text())\n        .then(gamedataText => parseGamedataApiXml(gamedataText))\n    )\n}\n\nfunction parseSearchApiXml(resp_str) {\n    let games = []\n    let responseDoc = new DOMParser().parseFromString(resp_str, 'application/xml')\n    let gamesHtmlCollection = responseDoc.getElementsByTagName(\"item\")\n    for (let matchedGame of gamesHtmlCollection) {\n        let game = {}\n        game['id'] = parseInt(matchedGame.id)\n        matchedGame.childNodes.forEach(\n            function (node) {\n                if (node.nodeType === Node.ELEMENT_NODE) {\n                    if ( (node.tagName === \"name\") && (node.getAttribute(\"type\") === \"primary\") ) {\n                        game[\"name\"] = node.getAttribute(\"value\")\n                    }\n                    if (node.tagName === \"yearpublished\") {\n                        game[\"year_published\"] = parseInt(node.getAttribute(\"value\"))\n                    }\n                }\n            }\n        )\n        if (\"name\" in game) {\n            games.push(game)\n        }\n        if (!(\"year_published\" in game)) {\n            game[\"year_published\"] = null\n        }\n    }\n    return games\n}\n\nfunction parseGamedataApiXml(str) {\n    let game = {\n        \"attributes\": {\n            \"categories\": [], \n            \"mechanics\": []\n        }\n    }\n    let responseDoc = new DOMParser().parseFromString(str, \"application/xml\")\n    let gamesHtmlCollection = responseDoc.getElementsByTagName(\"item\")\n    let makeReadable = parseIntoParagraphs\n    if (gamesHtmlCollection.length) {\n        game[\"id\"] = parseInt(gamesHtmlCollection[0].id)\n        gamesHtmlCollection[0].childNodes.forEach(\n            function (node) {\n                if (node.nodeType === Node.ELEMENT_NODE) {\n                    if ( (node.tagName === \"name\") && (node.getAttribute(\"type\") === \"primary\") ) {\n                        game[\"name\"] = node.getAttribute(\"value\")\n                    }\n                    if (node.tagName === \"thumbnail\") {\n                        game[\"thumbnail\"] = node.innerHTML\n                    }\n                    if (node.tagName === \"description\") {\n                        game[\"description\"] = makeReadable(node.innerHTML)\n                    }\n                    if (node.tagName === \"yearpublished\") {\n                        game[\"year_published\"] = parseInt(node.getAttribute(\"value\"))\n                    }\n                    if (node.tagName === \"minplayers\") {\n                        game.attributes[\"min_players\"] = parseInt(node.getAttribute(\"value\"))\n                    }\n                    if (node.tagName === \"maxplayers\") {\n                        game.attributes[\"max_players\"] = parseInt(node.getAttribute(\"value\"))\n                    }\n                    if (node.tagName === \"minplaytime\") {\n                        game.attributes[\"min_playtime\"] = parseInt(node.getAttribute(\"value\"))\n                    }\n                    if (node.tagName === \"maxplaytime\") {\n                        game.attributes[\"max_playtime\"] = parseInt(node.getAttribute(\"value\"))\n                    }\n                    if ( (node.tagName === \"link\")\n                        && (node.getAttribute(\"type\") === \"boardgamecategory\") ) {\n                        game.attributes.categories.push(node.getAttribute(\"value\"))\n                    }\n                    if ( (node.tagName === \"link\")\n                        && (node.getAttribute(\"type\") === \"boardgamemechanic\") ) {\n                        game.attributes.mechanics.push(node.getAttribute(\"value\"))\n                    }\n                    if ( node.tagName === \"statistics\") {\n                        node.childNodes.forEach(\n                            function (childNode) {\n                                if (childNode.tagName === \"ratings\") {\n                                    childNode.childNodes.forEach(\n                                        function (grandchildNode) {\n                                            if (grandchildNode.tagName === \"numweights\") {\n                                                game[\"num_weights\"] = grandchildNode.getAttribute(\"value\")\n                                            }\n                                            if (grandchildNode.tagName === \"averageweight\") {\n                                                game.attributes[\"average_weight\"] = grandchildNode.getAttribute(\"value\")\n                                                let weight = parseFloat(game.attributes.average_weight)\n                                                let weightname = null\n                                                if (weight < 1.5) {\n                                                    weightname = \"light\"\n                                                } else if (weight < 2.5) {\n                                                    weightname = \"medium light\"\n                                                } else if (weight < 3.5) {\n                                                    weightname = \"medium\"\n                                                } else if (weight < 4.5) {\n                                                    weightname = \"medium heavy\"\n                                                } else {\n                                                    weightname = \"heavy\"\n                                                }\n                                                game.attributes[\"average_weight_name\"] = weightname\n                                            }\n                                        }\n                                    )\n                                }\n                            }\n                        )\n                    }\n                    if ( node.tagName === \"comments\") {\n                        node.childNodes.forEach(\n                            function (childNode) {\n                                if (childNode.tagName === \"comment\") {\n                                    let comment = childNode.getAttribute(\"value\")\n                                    if (comment.length > 30 && comment.length < 800) {\n                                        let author = childNode.getAttribute(\"username\")\n                                        let newComment = {\"comment\": comment, \"author\": author}\n                                        if (game.hasOwnProperty(\"comments\")) {\n                                            game[\"comments\"].push(newComment)\n                                        } else {\n                                            game[\"comments\"] = [newComment]\n                                        }\n                                    }\n                                }\n                    })}\n                    if ( node.tagName === \"videos\") {\n                        node.childNodes.forEach(\n                            function (childNode) {\n                                if ((childNode.tagName === \"video\") \n                                    && (childNode.getAttribute(\"language\") === \"English\")\n                                    && (childNode.getAttribute(\"category\") === \"review\")) {\n                                    let title = childNode.getAttribute(\"title\")\n                                    let link = childNode.getAttribute(\"link\")\n                                    let author = childNode.getAttribute(\"username\")\n                                    let newVideo = {\"title\": title, \"link\": link, \"author\": author}\n                                    if (game.hasOwnProperty(\"videos\")) {\n                                        game[\"videos\"].push(newVideo)\n                                    } else {\n                                        game[\"videos\"] = [newVideo]\n                                    }\n                                }\n                    })}\n                }\n            }\n        )\n    }\n    if ( Object.keys(game) && (!game.hasOwnProperty(\"year_published\") || game[\"year_published\"] === 0) ) {\n        game[\"year_published\"] = null\n    }\n    return game\n}\n\nfunction parseIntoParagraphs(str) {\n    let paragraphs = str\n      .replace(/&amp;/g, '&')\n      .replace(/&rsquo;/g, \"'\")\n      .replace(/&quot;/g, '\"')\n      .replace(/&ndash;/g, '')\n      .replace(/&mdash;/g, '')\n      .replace(/&nbsp;/g, ' ')\n      .split('&#10;');\n    return paragraphs;\n}\n\nexport function voteinpollApi(poll_id, game_id, newvote, user) {\n    console.log('FIXME (WIP): implement a \"' + newvote + '\" vote by ' + user + ' in poll #' + poll_id + ' for game #' + game_id + '.')\n    return { }\n}\n\nexport function clearmyvotesApi(poll_id, user) {\n    console.log('FIXME (WIP): implement clearing all title votes by ' + user + ' in poll #' + poll_id + '.')\n    return { }\n}\n","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faLongArrowAltRight } from '@fortawesome/free-solid-svg-icons'\nimport { searchApi, exactSearchApi, gamedataApi } from './Api.js'\n\nexport const AddGames = (props) => {\n\n    const [ inputValue, setTextareaValue ] = useState('')\n    const [ statusMessages, setStatusMessages ] = useState([])\n    const [ disambiguousTitleIsSelected, setDisambiguousTitleIsSelected ] = useState({}) \n    const [ ambiguityRemains, setAmbiguityRemains ] = useState(true)\n\n    function doesAmbiguityRemain(disambiguation) {\n        let num_still_ambiguous = Object.values(disambiguation).filter(function(duplicates) {\n            if (Object.values(duplicates).includes(true)) {\n                return 0\n            } else {\n                return 1\n            }\n        }).length\n        return (num_still_ambiguous) ? true : false\n    }\n\n    const withoutYear = (title) => {\n        if (typeof title === 'string' && title.length) {\n            return title.replace(/(( +)\\(([-#]?)\\d{1,6}\\))$/, '')\n        } else {\n            return title\n        }\n    }\n\n    // for disambiguation of titles, the game ID will be put in parentheses when the API does not provide yearpublished info\n    const extractYearFromTitle = (title) => {\n        if (typeof title === 'string' && title.length) {\n            let matchesDate = title.match(/(( +)\\((-?)\\d{1,4}\\))$/)\n            if (matchesDate !== null) {\n                return matchesDate[0].replace(/[^0-9-]/g, \"\")\n            } else {\n                let matchesId = title.match(/(( +)\\(#\\d{1,6}\\))$/)\n                if (matchesId !== null) {\n                    return matchesId[0].replace(/[^#0-9-]/g, \"\")\n                } else {\n                    return null\n                }\n            }\n        }\n    }\n\n    const addMessages = (new_messages) => {\n        const newStatusMessages = [...statusMessages, ...new_messages]\n        setStatusMessages(newStatusMessages)\n    }\n\n    const getExactSearchResults = async function (titles) {\n        const titleData = await Promise.all(\n            titles.map( function(gameTitle) {\n                return (\n                    exactSearchApi(withoutYear(gameTitle)) // query the API without the disambiguation\n        )}))\n        return titleData\n    }\n\n    const getNonexactSearchResults = async function (titles) {\n        const titleData = await Promise.all(\n            titles.map( function(gameTitle) {\n                return (\n                    searchApi(withoutYear(gameTitle)) // query the API without the disambiguation\n        )}))\n        return titleData\n    }\n\n    const getGamedataResults = async function (games) {\n        const gamedata = await Promise.all(\n            games.map( function(game) {\n                return (\n                    gamedataApi(game.id) // query the API with the BGG game ID\n        )}))\n        return gamedata\n    }\n\n    const updateAmbiguityRemains = (disambiguation) => {\n        if (doesAmbiguityRemain(disambiguation)) {\n            setAmbiguityRemains(true)\n        } else {\n            setAmbiguityRemains(false)\n        }\n    }\n\n    const addUnselectedAmbiguousTitles = function (unambiguous_titles) { \n        let new_disambiguous_title_is_selected = JSON.parse(JSON.stringify(disambiguousTitleIsSelected))\n        unambiguous_titles.forEach(function(unambiguous_title) {\n            let base_name = withoutYear(unambiguous_title)\n            if (new_disambiguous_title_is_selected.hasOwnProperty(base_name)) {\n                new_disambiguous_title_is_selected[base_name][unambiguous_title] = false\n            } else {\n                let new_base_name = {}\n                new_base_name[unambiguous_title] = false\n                new_disambiguous_title_is_selected[base_name] = new_base_name\n            }\n        })\n        updateAmbiguityRemains(new_disambiguous_title_is_selected)\n        setDisambiguousTitleIsSelected(new_disambiguous_title_is_selected)\n    }\n\n    const selectUnambiguousTitle = function (unambiguous_title) { \n        let new_disambiguous_title_is_selected = JSON.parse(JSON.stringify(disambiguousTitleIsSelected))\n        let base_name = withoutYear(unambiguous_title)\n        if (new_disambiguous_title_is_selected.hasOwnProperty(base_name)) {\n            if (new_disambiguous_title_is_selected[base_name].hasOwnProperty(unambiguous_title)) {\n                let originally_selected_title = Object.entries(new_disambiguous_title_is_selected[base_name]).filter( game => game[1] === true )\n                if (originally_selected_title[0] !== unambiguous_title) {\n                    Object.keys(new_disambiguous_title_is_selected[base_name]).forEach(function(game) {\n                        if (game === unambiguous_title) {\n                            new_disambiguous_title_is_selected[base_name][game] = true\n                        } else {\n                            new_disambiguous_title_is_selected[base_name][game] = false\n                        }\n                    })\n                    updateAmbiguityRemains(new_disambiguous_title_is_selected)\n                    setDisambiguousTitleIsSelected(new_disambiguous_title_is_selected)\n                    validateAmbiguousTitles([unambiguous_title])\n                }\n            }\n        }\n    }\n\n    const getDisambiguousTitle = function (title) {\n        if (disambiguousTitleIsSelected.hasOwnProperty(withoutYear(title))) {\n            let disambiguation = Object.entries(disambiguousTitleIsSelected[withoutYear(title)]).filter( entry => entry[1] )\n            if (disambiguation.length) {\n                return disambiguation[0]\n            } else {\n                return title\n            }\n        } else {\n            return title\n        }\n    }\n\n    const validateAmbiguousTitles = function (unambiguous_titles) { \n        validateUserTitles(unambiguous_titles, true)\n    }\n\n    // The param 'second_pass' indicates the second pass through this function. It is only\n    // necessary when the title given on the first pass was ambiguous, and the second pass\n    // is accompanied by a title with disambiguation so that it can be resolved uniquely.\n    const validateUserTitles = async function (user_titles, second_pass) { \n\n        let new_messages = []\n        let uncached_titles = []\n        let uncached_ids = []\n        let potential_cached_titles = []\n        let cached_titles = []\n        let ambiguous_titles = []\n        let titles_for_api = []\n\n        // console.log('[',second_pass,'] user_titles:',user_titles)\n        let disambiguous_user_titles = user_titles.map( title => getDisambiguousTitle(title) )\n        // console.log('[',second_pass,'] disambiguous_user_titles:',disambiguous_user_titles)\n\n        // STEP 0: Look up the title in the cache\n        let all_cached_titles = Object.keys(props.cachedgametitles)\n        disambiguous_user_titles.forEach(function(title) {\n            let title_to_lookup = title\n\n            // if title is an ID, use cache to convert it to an unambiguous title\n            let title_is_id_cache = Object.entries(props.cachedgametitles).filter( cached => cached[1].id === parseInt(title) )\n            if (title_is_id_cache.length) {\n                title_to_lookup = title_is_id_cache[0][0]\n            }\n\n            // note that cache is keyed by unambiguous title, which may or may not need to include a year for disambiguation\n            if ( props.cachedgametitles.hasOwnProperty(title)\n                || props.cachedgametitles.hasOwnProperty(withoutYear(title))\n                || title_is_id_cache.length ) {\n                if (props.cachedgametitles.hasOwnProperty(withoutYear(title))) {\n                    title_to_lookup = withoutYear(title)\n                } \n                if (props.cachedgametitles[title_to_lookup].active) {\n                    new_messages.push({ message_str: '\"' + title_to_lookup + '\" was previously added'})\n                } else {\n                    // console.log('[',second_pass,']  ==> IS CACHED:',title_to_lookup)\n                    cached_titles.push(title_to_lookup)\n                }\n            } else if (all_cached_titles.filter(cached_title => cached_title.includes(title)).length) {\n                // console.log('[',second_pass,']  ==> marking',title,'as ambiguous')\n                potential_cached_titles.push(title)\n            } else if (all_cached_titles.filter(cached_title => cached_title.includes(withoutYear(title))).length) {\n                // console.log('[',second_pass,']  ==> marking',title,'as ambiguous')\n                potential_cached_titles.push(withoutYear(title))\n            } else {\n                if (isNaN(title)) {\n                    uncached_titles.push(title_to_lookup)\n                } else {\n                    uncached_ids.push(title_to_lookup)\n                }\n            }\n        })\n\n        // console.log('[',second_pass,'] potential_cached_titles:',potential_cached_titles)\n\n        // STEP 0.5: If cache-matching is uncertain, prompt the user for more information.\n        if (potential_cached_titles.length === 1) {\n            let potential_cached_titles_disambiguation = {}\n            potential_cached_titles.forEach(function(potential_cached_title) {\n                Object.entries(props.cachedgametitles).forEach(function(cached_title) {\n                    if (cached_title[0].includes(potential_cached_title)) {\n                        // collect the ambiguous references for this game name\n                        let new_disambiguation = {\n                            name: cached_title[1].name,\n                            unambiguous_name: cached_title[1].name + ' (' + cached_title[1].year_published + ')',\n                            id: cached_title[1].id,\n                            year_published: cached_title[1].year_published\n                        }\n                        if (potential_cached_titles_disambiguation.hasOwnProperty(cached_title[1].name)) {\n                            potential_cached_titles_disambiguation[cached_title[1].name].push(new_disambiguation)\n                            potential_cached_titles_disambiguation[cached_title[1].name] = potential_cached_titles_disambiguation[cached_title[1].name].sort(function(a,b) {\n                                if (a.year_published < b.year_published) {\n                                    return -1\n                                } else if (a.year_published > b.year_published) {\n                                    return 1\n                                } else {\n                                    return 0\n                                }\n                            })\n                        } else {\n                            potential_cached_titles_disambiguation[cached_title[1].name] = [new_disambiguation]\n                        }\n                    }\n                })\n            })\n            // console.log('[',second_pass,'] potential_cached_titles_disambiguation:',potential_cached_titles_disambiguation)\n            if (Object.keys(potential_cached_titles_disambiguation).length) {\n                Object.entries(potential_cached_titles_disambiguation).forEach(function(entry) {\n                    let ambiguous_arr = JSON.parse(JSON.stringify(entry[1]))\n                    let ambiguous_titles = []\n                    // console.log('[',second_pass,']  ==> IS AMBIGUOUS:',entry[0])\n                    ambiguous_arr.forEach(function(game) {\n                        // console.log('[',second_pass,']  ==> adding',game.unambiguous_name,'as unselected ambiguous title')\n                        ambiguous_titles.push(game.unambiguous_name)\n                    })\n                    addUnselectedAmbiguousTitles(ambiguous_titles) \n                    new_messages.push({ message_str: 'A Which version of \"'+ entry[0] + '\": ', ambiguous: ambiguous_arr })\n                })\n                addMessages(new_messages)\n                return\n            }\n        }\n\n        // console.log('[',second_pass,'] uncached_ids:',uncached_ids)\n        // STEP 1 API: If uncached IDs were submitted instead of titles, use BGG non-exact search API to convert IDs into titles.\n        const searchresults_for_ids = await getNonexactSearchResults(uncached_ids)\n        if (searchresults_for_ids.length === 1) {\n            searchresults_for_ids[0].forEach(function(possible_match) {\n                if (uncached_ids.includes(possible_match.id.toString())) {\n                    uncached_titles.push(possible_match.name)\n                }\n            })\n        }\n\n        // console.log('[',second_pass,'] uncached_titles:',uncached_titles)\n        // STEP 2 API: Use BGG exact search API to determine the unique titles.\n        const searchresults_for_uncached = await getExactSearchResults(uncached_titles)\n        searchresults_for_uncached.forEach(function(result,idx) {\n            if (result.length === 1) {\n                let new_game_to_lookup = {\n                    id: result[0].id,\n                    is_ambiguous: false\n                }\n                titles_for_api.push(new_game_to_lookup)\n                // console.log('[',second_pass,']  ==> FOR API:',result[0].id, result[0].name)\n            } else if (result.length > 1) {\n                let years_published = result.map( ambiguous_result => ambiguous_result.year_published )\n                let disambiguation_year = extractYearFromTitle(uncached_titles[idx])\n                if (years_published.includes(parseInt(disambiguation_year))) {\n                    ambiguous_titles.push(uncached_titles[idx])\n                    // console.log('[',second_pass,']  ==> IS AMBIGUOUS:',uncached_titles[idx])\n                } else {\n                    ambiguous_titles.push(withoutYear(uncached_titles[idx])) // the given year was wrong, so strike the yeear input\n                    // console.log('[',second_pass,']  ==> IS AMBIGUOUS:',withoutYear(uncached_titles[idx]))\n                }\n            } else if (!result.length) {\n                new_messages.push({ message_str: 'ERROR: \"' + uncached_titles[idx] + '\" was not found in the BGG database'})\n                addMessages(new_messages)\n                return\n            }\n        })\n\n        // console.log('[',second_pass,'] ambiguous_titles:',ambiguous_titles)\n        // STEP 3 API: If unresolved titles remain, use BGG non-exact search API to determine the potential (ambiguous) titles.\n        const searchresults_for_ambiguous = await getNonexactSearchResults(ambiguous_titles)\n        let ambiguous_titles_info = {}\n        // console.log('searchresults_for_ambiguous:', searchresults_for_ambiguous)\n        if (searchresults_for_ambiguous.length) {\n            searchresults_for_ambiguous.forEach(function(per_title_results) {\n                let titles_given_with_disambiguation = ambiguous_titles.filter( title => title !== withoutYear(title) ).map( title => withoutYear(title) )\n                let disambiguation_was_given = {}\n\n                // identify any titles where disambiguation was given by the user\n                per_title_results.forEach(function(possible_match) {\n                    if (titles_given_with_disambiguation.includes(possible_match.name)) {\n                        const unambiguous_name_from_results = possible_match.name + ' (' + possible_match.year_published + ')'\n                        if (ambiguous_titles.includes(unambiguous_name_from_results)) {\n                            disambiguation_was_given[possible_match.name] = true\n                        }\n                    }\n                })\n\n                per_title_results.forEach(function(possible_match) {\n\n                    if (disambiguation_was_given.hasOwnProperty(possible_match.name)) {\n                        // look up data for this game ID\n                        let new_game_to_lookup = {\n                            id: possible_match.id,\n                            is_ambiguous: true\n                        }\n                        titles_for_api.push(new_game_to_lookup)\n                        // console.log('[',second_pass,']  ==> FOR API:',possible_match.id,'Name:',possible_match.name)\n                    }\n                    // If no user-specified disambiguation, prompt the user for disambiguation\n                    else if (!second_pass && ambiguityRemains && ambiguous_titles.includes(possible_match.name))  {\n\n                        // collect the ambiguous references for this game name\n                        let new_disambiguation = {\n                            name: possible_match.name,\n                            unambiguous_name: possible_match.name + ' (' + possible_match.year_published + ')',\n                            id: possible_match.id,\n                            year_published: possible_match.year_published\n                        }\n                        if (ambiguous_titles_info.hasOwnProperty(possible_match.name)) {\n                            ambiguous_titles_info[possible_match.name].push(new_disambiguation)\n                            ambiguous_titles_info[possible_match.name] = ambiguous_titles_info[possible_match.name].sort(function(a,b) {\n                                if (a.year_published < b.year_published) {\n                                    return -1\n                                } else if (a.year_published > b.year_published) {\n                                    return 1\n                                } else {\n                                    return 0\n                                }\n                            })\n                        } else {\n                            ambiguous_titles_info[possible_match.name] = [new_disambiguation]\n                        }\n                        if (!ambiguous_titles_info.hasOwnProperty(possible_match.name)) {\n                            let new_disambiguation = {\n                                name: possible_match.name,\n                                unambiguous_name: possible_match.name + ' (' + possible_match.year_published + ')',\n                                id: possible_match.id,\n                                year_published: possible_match.year_published\n                            }\n                            ambiguous_titles_info[possible_match.name].push(new_disambiguation)\n                        }\n\n                        // look up data for this game ID\n                        let new_game_to_lookup = {\n                            id: possible_match.id,\n                            is_ambiguous: true\n                        }\n                        titles_for_api.push(new_game_to_lookup)\n                        // console.log('[',second_pass,']  ==> FOR API:',possible_match.id,'Name:',possible_match.name)\n                    }\n                })\n                // console.log('ambiguous_titles_info:',ambiguous_titles_info)\n                let title_disambiguation = Object.entries(ambiguous_titles_info)\n                if (title_disambiguation.length) {\n                    // console.log('ambiguous_titles_info does have some keys')\n                    Object.entries(ambiguous_titles_info).forEach(function(entry) {\n                        let ambiguous_arr = JSON.parse(JSON.stringify(entry[1]))\n                        new_messages.push({ message_str: 'B Which version of \"'+ entry[0] + '\": ', ambiguous: ambiguous_arr })\n                    })\n                    addMessages(new_messages)\n                    return\n                }\n            })\n        }\n\n        // console.log('[',second_pass,'] cached_titles:',cached_titles)\n        // console.log('[',second_pass,'] titles_for_api:',titles_for_api)\n        // STEP 4 API: For each ID collected from previous API results, use BGG game data API to get all of the game-specific details.\n        const gamedata_results = await getGamedataResults(titles_for_api)\n\n        // All APIs are done. Now integrate the game data with this app.\n\n        cached_titles.forEach(function(title) {\n            props.onaddcachedtitle(title)\n        })\n\n        let ambiguous_titles_without_year = ambiguous_titles.map( title => withoutYear(title) )\n\n        if (!gamedata_results.length) {\n            props.closemymodal()\n        }\n        gamedata_results.forEach(function(game_data) {\n\n            // assign a unique game name\n            let disambiguation = \"\"\n            if (ambiguous_titles_without_year.includes(game_data.name)) {\n                disambiguation = (game_data.year_published !== null)\n                    ? \" (\"+ game_data.year_published + \")\"\n                    : \" (#\" + game_data.id + \")\"\n            }\n            let unambiguous_title = game_data.name + disambiguation\n            game_data[\"unambiguous_name\"] = unambiguous_title\n\n            // determine the proper handler for the API data\n            if (ambiguous_titles.includes(unambiguous_title)) {\n                props.onaddnewtitle(game_data)\n            } else if (ambiguous_titles_without_year.includes(game_data.name)) {\n                props.oncachenewtitle(game_data)\n            } else if (ambiguous_titles.includes(game_data.name)){\n                if (user_titles.includes(game_data.unambiguous_name)) {\n                    props.onaddnewtitle(game_data)\n                } else {\n                    props.oncachenewtitle(game_data)\n                }\n            } else {\n                props.onaddnewtitle(game_data)\n            }\n        })\n    }\n\n    const handleChange = (event) => {\n        setTextareaValue(event.target.value)\n    }\n\n    const handleSubmit = (event) => {\n        event.preventDefault()\n        let delimiter, num_nonblank_lines = inputValue.split(/\\r\\n|\\r|\\n/).filter(line => line !== '').length\n        if (num_nonblank_lines > 1) {\n            delimiter = '\\n'\n        } else {\n            delimiter = ','\n        }\n        let userTitles = inputValue\n            .split(delimiter)\n            .map(str => str.trim())\n            .map(str => str.replace(/[^0-9a-zA-Z:()&!#' ]/g, \"\"))\n            .filter( function(e){return e} )\n        validateUserTitles(Array.from(new Set(userTitles)), false)\n    }\n\n    const addButton = (message) => {\n        if (message.hasOwnProperty('ambiguous')) {\n            let classes = {}\n            message.ambiguous.forEach(function(game) {\n                let new_classes = 'default-secondary-styles'\n                let base_name = withoutYear(game.unambiguous_name)\n                if (disambiguousTitleIsSelected.hasOwnProperty(base_name)\n                    && disambiguousTitleIsSelected[base_name].hasOwnProperty(game.unambiguous_name)\n                    && disambiguousTitleIsSelected[base_name][game.unambiguous_name]) {\n                    new_classes += ' active-button'\n                }\n                classes[game.unambiguous_name] = new_classes\n            })\n            return (\n                message.ambiguous.map( disambiguation => \n                    <button key={disambiguation.id} className={classes[disambiguation.unambiguous_name]} onClick={ (e) => selectUnambiguousTitle(disambiguation.unambiguous_name) }>{disambiguation.year_published}</button>\n                )\n            )\n        } else {\n            return null\n        }\n    }\n\n    return (\n        <React.Fragment>\n\n        <h4>Add board game by title:</h4>\n\n        <div id=\"input-section\">\n\n\n                <section id=\"input-by-title\">\n                    <section className=\"buttonrow\">\n                        <input size=\"30\" value={inputValue} onChange={handleChange} placeholder=\"(exact game title or BGG ID)\" required/>\n                        <button onClick={handleSubmit} className=\"default-primary-styles\">Add</button>\n                    </section>\n                    <div className=\"status-messages\">\n                        { statusMessages\n                            .map(\n                                (message, i) => {\n                                    return (message.message_str.toLowerCase().startsWith(\"error\"))\n                                    ? <p key={i} className=\"message error\">{message.message_str} {addButton(message)}</p>\n                                    : <p key={i} className=\"message\"><FontAwesomeIcon icon={faLongArrowAltRight} /> {message.message_str} {addButton(message)}</p>\n                                }\n                            )\n                        }\n                    </div>\n                </section>\n\n        </div>\n\n        </React.Fragment>\n    )\n}\n\nAddGames.propTypes = {\n    closemymodal: PropTypes.func.isRequired,\n    activepoll: PropTypes.string.isRequired,\n    cachedgametitles: PropTypes.object.isRequired,\n    onaddcachedtitle: PropTypes.func.isRequired,\n    onaddnewtitle: PropTypes.func.isRequired,\n    oncachenewtitle: PropTypes.func.isRequired,\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faThumbsUp } from '@fortawesome/free-solid-svg-icons'\n\nconst VotableElement = (props) => {\n\n    let elementStyle = \"voteable\"\n    let vote = (props.preferences.hasOwnProperty(props.votingon)\n      && props.preferences[props.votingon].hasOwnProperty('thumbsup')\n      && props.preferences[props.votingon].thumbsup.length) ? 'thumbsup' : 'novote'\n    elementStyle += ' ' + vote\n    let votable_text = props.votingonlabel\n    if (props.attrcount > 1 || !props.suppresslowcounts) {\n        votable_text += ' ('+props.attrcount+')'\n    }\n    return (\n        <li \n            key={props.votingon} \n            className={elementStyle} \n        > \n            <div className=\"vote\">\n                { vote === 'thumbsup' &&\n                <FontAwesomeIcon icon={faThumbsUp} />\n                }\n            </div>\n            <div\n                className=\"clickable\"\n                data-votingtype={props.votingtype}\n                data-votingon={props.votingon}\n                data-newvote='thumbsup'\n                onClick={props.onnewvote}\n            >\n                {votable_text}\n            </div>\n        </li>\n    )\n}\n\nexport const VotingSection = (props) => {\n\n    let origVotables = JSON.parse(JSON.stringify(props.counts))\n    let orderedVotables = JSON.parse(JSON.stringify(props.counts))\n    // alphabetization is a 2nd-level sort, after the 1st sorting is by count \n    if (props.alphabetize) {\n\n        orderedVotables = origVotables\n            .sort(function(a,b) {\n\n                // 1st sort is by counts, \n                // and here the counts are different\n                if (a.attrCount < b.attrCount) {\n                    return 1\n                } else if (a.attrCount > b.attrCount) {\n                    return -1\n\n                // 2nd sort is by names\n                } else if (a.attrName < b.attrName) {\n                    return -1\n                } else if (a.attrName > b.attrName) {\n                    return 1\n\n                // both count and names are equal\n                } else {\n                    return 0\n                }\n\n            })\n    }\n    return (\n        <ul id={props.elementid}>\n            <li><b>{props.title}</b></li>\n            {orderedVotables.map((key, index) => {\n                return <VotableElement \n                    key={key.attrName}\n                    preferences={props.sectionthumbs}\n                    votingtype={props.type}\n                    votingon={key.attrId} \n                    votingonlabel={key.attrName} \n                    attrcount={key.attrCount} \n                    suppresslowcounts={props.suppresslowcounts}\n                    onnewvote={props.onnewvote}/>\n                })}\n        </ul>\n    )\n}\n\nVotingSection.propTypes = {\n    counts: PropTypes.array.isRequired,\n    elementid: PropTypes.string.isRequired,\n    onnewvote: PropTypes.func.isRequired,\n    sectionthumbs: PropTypes.object.isRequired,\n    title: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n    alphabetize: PropTypes.bool.isRequired,\n    suppresslowcounts: PropTypes.bool.isRequired,\n}","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { VotingSection } from './VotingSection';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\n\nexport const VoteAttributes = (props) => {\n\n    const [ votingOn, setVotingOn ] = useState('players')\n\n    const handleSectionChange = (event) => {\n        let newSelection = event.target.id.replace(/select-/g, '')\n        setVotingOn(newSelection)\n    }\n\n    const emptyMessage = () => {\n        return (\n            <span className=\"message warning\">\n                <p>No board games to compare yet</p>\n                <p>Please add game titles by clicking on \"Add\".</p>\n            </span>\n        )\n    }\n\n    const tallyPlayerCounts = (props) => {\n        // tally each allowable player count occurrence across all games\n        let countsObj = {}\n        for (const game of props.activegamedata) {\n            for (let playercount=game.attributes.min_players; playercount<=game.attributes.max_players; playercount++) {\n                let playerCountAttr = playercount + 'P'\n                if (countsObj.hasOwnProperty(playerCountAttr)) {\n                    countsObj[playerCountAttr] = countsObj[playerCountAttr] + 1\n                } else {\n                    countsObj[playerCountAttr] = 1\n                }\n            }\n        }\n        // sort each attribute according to total occurrences\n        let countsArray = []\n        Object.keys(countsObj).forEach((elementTag) => {\n            let newCount = {'attrId': elementTag, 'attrName': elementTag, 'attrCount': countsObj[elementTag]}\n            countsArray.push(newCount)\n        })\n        countsArray.sort((a, b) => (parseInt(a.attrName.slice(0, -1)) < parseInt(b.attrName.slice(0, -1))) ? 1 : -1)\n        return countsArray\n    }\n\n    const tallyWeightCounts = (props) => {\n        // tally each weight occurrence across all games\n        let countsObj = {}\n        for (const game of props.activegamedata) {\n            if (countsObj.hasOwnProperty(game.attributes.average_weight_name)) {\n                countsObj[game.attributes.average_weight_name] = countsObj[game.attributes.average_weight_name] + 1\n            } else {\n                countsObj[game.attributes.average_weight_name] = 1\n            }\n        }\n        // sort weights into a predefined order\n        let weights = [\"light\", \"medium light\", \"medium\", \"medium heavy\", \"heavy\"]\n        let countsArray = []\n        for (let weight of weights) {\n            if (countsObj.hasOwnProperty(weight)) {\n                countsArray.push({'attrId': weight, 'attrName': weight, 'attrCount': countsObj[weight]})\n            } else {\n                countsArray.push({'attrId': weight, 'attrName': weight, 'attrCount': 0})\n            }\n        }\n        return countsArray\n    }\n\n    const tallyCategoryCounts = (props) => {\n        // tally each attribute's occurrence across all games\n        let countsObj = {}\n        for (const game of props.activegamedata) {\n            for (const category of game.attributes.categories) {\n                if (countsObj.hasOwnProperty(category)) {\n                    countsObj[category] = countsObj[category] + 1\n                } else {\n                    countsObj[category] = 1\n                }\n            }\n        }\n        // sort each attribute according to total occurrences\n        let countsArray = []\n        Object.keys(countsObj).forEach((elementTag) => {\n            countsArray.push({'attrId': elementTag, 'attrName': elementTag, 'attrCount': countsObj[elementTag]})\n        })\n        countsArray.sort((a, b) => (a.attrCount < b.attrCount) ? 1 : (a.attrCount === b.attrCount) && (a.attrName > b.attrName) ? 1 : -1)\n        return countsArray\n    }\n\n    const tallyMechanicCounts = (props) => {\n        // tally each attribute's occurrence across all games\n        let countsObj = {}\n        for (const game of props.activegamedata) {\n            for (const mechanic of game.attributes.mechanics) {\n                if (countsObj.hasOwnProperty(mechanic)) {\n                    countsObj[mechanic] = countsObj[mechanic] + 1\n                } else {\n                    countsObj[mechanic] = 1\n                }\n            }\n        }\n        // sort each attribute according to total occurrences\n        let countsArray = []\n        Object.keys(countsObj).forEach((elementTag) => {\n            countsArray.push({'attrId': elementTag, 'attrName': elementTag, 'attrCount': countsObj[elementTag]})\n        })\n        countsArray.sort((a, b) => (a.attrCount < b.attrCount) ? 1 : (a.attrCount === b.attrCount) && (a.attrName > b.attrName) ? 1 : -1)\n        return countsArray\n    }\n\n    let attributestally = {\n        playercounts: tallyPlayerCounts(props),\n        weightcounts: tallyWeightCounts(props),\n        categorycounts: tallyCategoryCounts(props),\n        mechaniccounts: tallyMechanicCounts(props),\n    }\n\n    return (\n        <React.Fragment>\n\n        <h4>Upvote board game attributes:</h4>\n\n        <ul id=\"votingsection-selector\">\n            <li id=\"select-players\" className={\"segmentedcontrol lightbg\" + ({ votingOn } === \"players\" ? \" selected\" : \"\")} onClick={handleSectionChange}>Players</li>\n            <li id=\"select-weights\" className={\"segmentedcontrol lightbg\" + ({ votingOn } === \"weights\" ? \" selected\" : \"\")} onClick={handleSectionChange}>Weights</li>\n            <li id=\"select-categories\" className={\"segmentedcontrol lightbg\" + ({ votingOn } === \"categories\" ? \" selected\" : \"\")} onClick={handleSectionChange}>Categories</li>\n            <li id=\"select-mechanics\" className={\"segmentedcontrol lightbg\" + ({ votingOn } === \"mechanics\" ? \" selected\" : \"\")} onClick={handleSectionChange}>Mechanics</li>\n        </ul>\n\n        <div id=\"voting-section\">\n            <TransitionGroup>\n            {votingOn === 'players' &&\n                <CSSTransition\n                    key={0}\n                    in={true}\n                    appear={false}\n                    timeout={2000}\n                    classNames={\"showsegment\"}\n                >\n                    <VotingSection \n                        type='players'\n                        elementid='supported-players'\n                        title='PLAYERS:'\n                        counts={attributestally.playercounts}\n                        sectionthumbs={props.attrthumbs['players']}\n                        onnewvote={props.onnewvote}\n                        alphabetize={false}\n                        suppresslowcounts={false}\n                    />\n                </CSSTransition>\n            }\n            {votingOn === 'weights' &&\n                <CSSTransition\n                    key={1}\n                    in={true}\n                    appear={false}\n                    timeout={2000}\n                    classNames={\"showsegment\"}\n                >\n                    <VotingSection \n                        type='weight'\n                        elementid='weight-counts'\n                        title='WEIGHT:'\n                        counts={attributestally.weightcounts}\n                        sectionthumbs={props.attrthumbs['weight']}\n                        onnewvote={props.onnewvote}\n                        alphabetize={false}\n                        suppresslowcounts={false}\n                    />\n                </CSSTransition>\n            }\n            {votingOn === 'categories' &&\n                <CSSTransition\n                    key={2}\n                    in={true}\n                    appear={false}\n                    timeout={2000}\n                    classNames={\"showsegment\"}\n                >\n                    <VotingSection \n                        type='category'\n                        elementid='category-counts'\n                        title='CATEGORY:'\n                        counts={attributestally.categorycounts}\n                        sectionthumbs={props.attrthumbs['category']}\n                        onnewvote={props.onnewvote}\n                        alphabetize={true}\n                        suppresslowcounts={true}\n                    />\n                </CSSTransition>\n            }\n            {votingOn === 'mechanics' &&\n                <CSSTransition\n                    key={3}\n                    in={true}\n                    appear={false}\n                    timeout={2000}\n                    classNames={\"showsegment\"}\n                >\n                    <VotingSection \n                        type='mechanic'\n                        elementid='mechanic-counts'\n                        title='MECHANIC:'\n                        counts={attributestally.mechaniccounts}\n                        sectionthumbs={props.attrthumbs['mechanic']}\n                        onnewvote={props.onnewvote}\n                        alphabetize={true}\n                        suppresslowcounts={true}\n                    />\n                </CSSTransition>\n            }\n            </TransitionGroup>\n            {attributestally.playercounts.length === 0 \n            && attributestally.weightcounts.length === 0 \n            && attributestally.categorycounts.length === 0\n            && attributestally.mechaniccounts.length === 0\n            &&\n                emptyMessage()\n            }\n        </div>\n\n        </React.Fragment>\n    )\n}\n\nVoteAttributes.propTypes = {\n    activegamedata: PropTypes.array.isRequired,\n    attrthumbs: PropTypes.object.isRequired,\n    onnewvote: PropTypes.func.isRequired,\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { VotingSection } from './VotingSection';\n\nexport const VoteTitles = (props) => {\n\n    let countsArray = []\n    props.activegamedata.forEach(function(game) {\n        countsArray.push({'attrId': game.id, 'attrName': game.unambiguous_name, 'attrCount': 1})\n    })\n\n    return (\n        <React.Fragment>\n        <h4>Upvote board game titles:</h4>\n        <VotingSection \n            type='title'\n            elementid='game-titles'\n            title='TITLES:'\n            counts={countsArray}\n            sectionthumbs={props.titlethumbs}\n            onnewvote={props.onnewvote}\n            alphabetize={true}\n            suppresslowcounts={true}\n        />\n        </React.Fragment>\n    )\n}\n\nVoteTitles.propTypes = {\n    activegamedata: PropTypes.array.isRequired,\n    titlethumbs: PropTypes.object,\n    onnewvote: PropTypes.func.isRequired,\n    ondeleteall: PropTypes.func.isRequired,\n}","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\n\nconst hardcoded_polls = [\n    {\n        id: '1',\n        name: 'Poll A',\n        pollThumbs: {\n            titles: {\n                5782: { // Coloretto (2003)\n                    'thumbsup': ['Charles', 'Cassidy']\n                },\n                266192: { // Wingspan\n                    'thumbsup': ['Wendy']\n                }\n            },\n            total_title_votes: 3,\n        }\n    },\n    {\n        id: '2',\n        name: 'Poll B',\n        pollThumbs: {\n            titles: {\n                175914: { // Food Chain Magnate\n                    'thumbsup': ['Fran', 'Filipe', 'Fiona', '_me_']\n                },\n                266192: { // Wingspan\n                    'thumbsup': ['Wesley']\n                },\n                199478: { // Flamme Rouge\n                }\n            },\n            total_title_votes: 4,\n        }\n    }\n]\n\nexport const ImportPoll = (props) => {\n\n    const [ inputValue, setInputValue ] = useState(props.activepoll)\n\n    const handleChange = (event) => {\n        setInputValue(event.target.value)\n        if (event.target.value === 'local') {\n            let no_poll = {\n                id: 'local',\n                name: 'local',\n            }\n            props.onviewpoll(no_poll)\n        } else {\n            props.onviewpoll(hardcoded_polls.filter( polls => polls.name === event.target.value )[0])\n        }\n    }\n\n    return (\n        <React.Fragment>\n        <h4>Import poll:</h4>\n        <div id=\"import-poll\">\n\n            <label \n                htmlFor=\"poll-local\">\n                <input \n                    type=\"radio\" \n                    id=\"poll-local\" \n                    name=\"gamelist\" \n                    value=\"local\"\n                    checked={inputValue === 'local'}\n                    onChange={handleChange} />\n                &nbsp;No poll</label>\n\n            { hardcoded_polls\n                .map( (poll,i) => {\n                    return (\n                        <label \n                            key={i}\n                            htmlFor={\"poll-\" + i}>\n                            <input \n                                type=\"radio\" \n                                id={\"poll-\" + i} \n                                name=\"gamelist\" \n                                value={poll.name}\n                                checked={inputValue === poll.name}\n                                onChange={handleChange} />\n                            &nbsp;{poll.name} ({Object.keys(poll.pollThumbs.titles).length} games, {poll.pollThumbs.total_title_votes} votes)</label>\n                    )})\n            }\n\n        </div>\n        </React.Fragment>\n    )\n}\n\nImportPoll.propTypes = {\n    activepoll: PropTypes.string.isRequired,\n    onviewpoll: PropTypes.func.isRequired,\n}","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { AddGames } from './AddGames'\nimport { VoteAttributes } from './VoteAttributes'\nimport { VoteTitles } from './VoteTitles'\nimport { ImportPoll } from './ImportPoll'\nimport Modal from 'react-bootstrap/Modal'\nimport ModalBody from 'react-bootstrap/ModalBody'\nimport ModalFooter from 'react-bootstrap/ModalFooter'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faClipboard } from '@fortawesome/free-solid-svg-icons'\n\n\nexport const MainControls = (props) => {\n\n    const [addIsOpen, setAddIsOpen] = useState(false)\n    const [addErrorIsOpen, setAddErrorIsOpen] = useState(false)\n    const [voteAttributesIsOpen, setVoteAttributesIsOpen] = useState(false)\n    const [voteAttributesErrorIsOpen, setVoteAttributesErrorIsOpen] = useState(false)\n    const [voteTitlesIsOpen, setVoteTitlesIsOpen] = useState(false)\n    const [importPollIsOpen, setImportPollIsOpen] = useState(false)\n\n    const closeMyModal = () => {\n        setAddIsOpen(false)\n        setAddErrorIsOpen(false)\n        setVoteAttributesIsOpen(false)\n        setVoteAttributesErrorIsOpen(false)\n        setVoteTitlesIsOpen(false)\n        setImportPollIsOpen(false)\n    }\n\n    const showAddModal = () => {\n        setVoteAttributesIsOpen(false)\n        setVoteAttributesErrorIsOpen(false)\n        setVoteTitlesIsOpen(false)\n        setImportPollIsOpen(false)\n        setAddErrorIsOpen(false)\n        setAddIsOpen(true)\n    }\n\n    const hideAddModal = () => {\n        setAddIsOpen(false)\n    }\n\n    const showAddErrorModal = () => {\n        setVoteAttributesIsOpen(false)\n        setVoteAttributesErrorIsOpen(false)\n        setVoteTitlesIsOpen(false)\n        setImportPollIsOpen(false)\n        setAddIsOpen(false)\n        setAddErrorIsOpen(true)\n    }\n\n    const hideAddErrorModal = () => {\n        setAddErrorIsOpen(false)\n    }\n\n    const showVoteAttributesModal = () => {\n        setAddIsOpen(false)\n        setAddErrorIsOpen(false)\n        setVoteTitlesIsOpen(false)\n        setImportPollIsOpen(false)\n        setVoteAttributesErrorIsOpen(false)\n        setVoteAttributesIsOpen(true)\n    }\n\n    const hideVoteAttributesModal = () => {\n        setVoteAttributesIsOpen(false)\n    }\n\n    const showVoteAttributesErrorModal = () => {\n        setAddIsOpen(false)\n        setAddErrorIsOpen(false)\n        setVoteTitlesIsOpen(false)\n        setImportPollIsOpen(false)\n        setVoteAttributesIsOpen(false)\n        setVoteAttributesErrorIsOpen(true)\n    }\n\n    const hideVoteAttributesErrorModal = () => {\n        setVoteAttributesErrorIsOpen(false)\n    }\n\n    const showVoteTitlesModal = () => {\n        setAddIsOpen(false)\n        setAddErrorIsOpen(false)\n        setVoteAttributesIsOpen(false)\n        setVoteAttributesErrorIsOpen(false)\n        setImportPollIsOpen(false)\n        setVoteTitlesIsOpen(true)\n    }\n\n    const hideVoteTitlesModal = () => {\n        setVoteTitlesIsOpen(false)\n    }\n\n    const showImportPollModal = () => {\n        setAddIsOpen(false)\n        setAddErrorIsOpen(false)\n        setVoteAttributesIsOpen(false)\n        setVoteAttributesErrorIsOpen(false)\n        setVoteTitlesIsOpen(false)\n        setImportPollIsOpen(true)\n    }\n\n    const hideImportPollModal = () => {\n        setImportPollIsOpen(false)\n    }\n\n    useEffect( () => {\n        if (props.activegamedata.length === 0) {\n            showAddModal()\n        } else {\n            hideAddModal()\n        }\n    }, [props])\n\n    let num_title_votes = 0\n    for (let gameId in props.activethumbs.titles) {\n        for (let vote of Object.keys(props.activethumbs.titles[gameId])) {\n            num_title_votes += props.activethumbs.titles[gameId][vote].length\n        }\n    }\n\n    let num_attr_votes = Object.keys(props.activethumbs.attributes.players).length\n    + Object.keys(props.activethumbs.attributes.weight).length\n    + Object.keys(props.activethumbs.attributes.category).length\n    + Object.keys(props.activethumbs.attributes.mechanic).length\n\n    const handleCopyToClipboard = () => {\n        let games = \"\"\n        props.activegamedata.forEach((game) => {\n            if (games === \"\") {\n                games += game.id\n            } else {\n                games = games + \"+\" + game.id\n            }\n        })\n        games = window.location.href + \"?newlist=\" + games\n        let clipboardElement = document.getElementById(\"games-clipboard\")\n        clipboardElement.value = games\n        clipboardElement.select()\n        document.execCommand(\"copy\")\n    }\n    let clipboardValue = \"\"\n    let inlineStyle = {\n        position: \"absolute\",\n        left: \"-1000px\",\n        top: \"-1000px\"\n    }\n    const AddModal = () => {\n        if (props.activepoll === 'local') {\n            return (\n                <React.Fragment>\n                <button className=\"default-primary-styles\" onClick={showAddModal}>Add Games</button>\n                <Modal size=\"md\" show={addIsOpen} onHide={hideAddModal}>\n                    <ModalBody>\n                        <div id=\"gameinput-controls\">\n                            <AddGames\n                                closemymodal={closeMyModal}\n                                activepoll={props.activepoll} \n                                cachedgametitles={props.cachedgametitles}\n                                onaddcachedtitle={props.onaddcachedtitle}\n                                onaddnewtitle={props.onaddnewtitle}\n                                oncachenewtitle={props.oncachenewtitle} />\n                        </div>\n                    </ModalBody>\n                    <ModalFooter> \n                        <button className=\"default-primary-styles\" onClick={hideAddModal}>Close</button>\n                    </ModalFooter>\n                </Modal>\n                </React.Fragment>\n            )\n        } else {\n            return (\n                <React.Fragment>\n                <button className=\"default-primary-styles\" onClick={showAddErrorModal}>Add Games</button>\n                <Modal size=\"md\" show={addErrorIsOpen} onHide={hideAddErrorModal}>\n                    <ModalBody>\n                        <div id=\"gameinput-controls\">\n                            <p>INFO: Adding of games is disabled while \"{props.activepoll}\" is selected.</p>\n                        </div>\n                    </ModalBody>\n                    <ModalFooter> \n                        <button className=\"default-primary-styles\" onClick={hideAddErrorModal}>Close</button>\n                    </ModalFooter>\n                </Modal>\n                </React.Fragment>\n            )\n        }\n    }\n\n    const VoteTitlesModal = () => {\n        return (\n            <React.Fragment>\n            <button className=\"default-primary-styles\" onClick={showVoteTitlesModal}>Vote Games</button>\n            <Modal size=\"md\" show={voteTitlesIsOpen} onHide={hideVoteTitlesModal}>\n                <ModalBody>\n                    <div id=\"title-voting-controls\">\n                        <VoteTitles\n                            activegamedata={props.activegamedata} \n                            titlethumbs={props.activethumbs.titles} \n                            onnewvote={props.onnewvote}\n                            ondeleteall={props.ondeleteall} />\n                    </div>\n                </ModalBody>\n                <ModalFooter> \n                    { props.activepoll === 'local' && \n                        <React.Fragment>\n                            <button className=\"default-danger-styles\" onClick={props.ondeleteall} disabled={props.activegamedata.length===0}>Remove All Games</button>\n                            <button className=\"default-danger-styles\" data-votingtype=\"all_titles\" onClick={props.onclearsectionvotes} disabled={num_title_votes===0}>Remove All Title Votes</button>\n                        </React.Fragment>\n                    }\n                    { props.activepoll !== 'local' && \n                        <React.Fragment>\n                            <button className=\"default-danger-styles\" data-votingtype=\"all_titles\" onClick={props.onclearsectionvotes}>Remove All Title Votes</button>\n                        </React.Fragment>\n                    }\n                    <button className=\"default-primary-styles\" onClick={hideVoteTitlesModal}>Close</button>\n                </ModalFooter>\n            </Modal>\n            </React.Fragment>\n        )\n    }\n\n    const VoteAttributesModal = () => {\n        if (props.activepoll === 'local') {\n            return (\n                <React.Fragment>\n                <button className=\"default-primary-styles\" onClick={showVoteAttributesModal}>Vote Attributes</button>\n                <Modal size=\"md\" show={voteAttributesIsOpen} onHide={hideVoteAttributesModal}>\n                    <ModalBody>\n                        <div id=\"attribute-voting-controls\">\n                            <VoteAttributes \n                                activegamedata={props.activegamedata}\n                                attrthumbs={props.activethumbs.attributes} \n                                onnewvote={props.onnewvote} />\n                        </div>\n                    </ModalBody>\n                    <ModalFooter> \n                        <button className=\"default-danger-styles\" data-votingtype=\"all_attributes\" onClick={props.onclearsectionvotes} disabled={num_attr_votes===0}>Remove All Attribute Votes</button>\n                        <button className=\"default-primary-styles\" onClick={hideVoteAttributesModal}>Close</button>\n                    </ModalFooter>\n                </Modal>\n                </React.Fragment>\n            )\n        } else {\n            return (\n                <React.Fragment>\n                <button className=\"default-primary-styles\" onClick={showVoteAttributesErrorModal}>Vote Attributes</button>\n                <Modal size=\"md\" show={voteAttributesErrorIsOpen} onHide={hideVoteAttributesErrorModal}>\n                    <ModalBody>\n                        <div id=\"attribute-voting-controls\">\n                            <p>INFO: Voting on attributes is for personal use only. Votes will not be not saved to \"{props.activepoll}\".</p>\n                            <VoteAttributes \n                                activegamedata={props.activegamedata}\n                                attrthumbs={props.activethumbs.attributes} \n                                onnewvote={props.onnewvote} />\n                        </div>\n                    </ModalBody>\n                    <ModalFooter> \n                        <button className=\"default-danger-styles\" data-votingtype=\"all_attributes\" onClick={props.onclearsectionvotes} disabled={num_attr_votes===0}>Remove All Attribute Votes</button>\n                        <button className=\"default-primary-styles\" onClick={hideVoteAttributesErrorModal}>Close</button>\n                    </ModalFooter>\n                </Modal>\n                </React.Fragment>\n            )\n        }\n    }\n\n    const ImportPollModal = () => {\n        return (\n            <React.Fragment>\n            <button className=\"default-primary-styles\" onClick={showImportPollModal}>Import Poll</button>\n            <Modal size=\"md\" show={importPollIsOpen} onHide={hideImportPollModal}>\n                <ModalBody>\n                    <div id=\"poll-import-controls\">\n                        <ImportPoll\n                            activepoll={props.activepoll}\n                            onviewpoll={props.onviewpoll} />\n                    </div>\n                </ModalBody>\n                <ModalFooter> \n                    <button className=\"default-primary-styles\" onClick={hideImportPollModal}>Close</button>\n                </ModalFooter>\n            </Modal>\n            </React.Fragment>\n        )\n    }\n\n    const CopyToClipboard = () => {\n        return (\n            <React.Fragment>\n            <button className=\"default-primary-styles\"><FontAwesomeIcon icon={faClipboard} onClick={handleCopyToClipboard} disabled={!props.activegamedata.length} /></button>\n            <section>\n                <form>\n                    <textarea id=\"games-clipboard\" style={inlineStyle} defaultValue={clipboardValue}></textarea>\n                </form>\n            </section>\n            </React.Fragment>\n        )\n    }\n\n    return (\n        <React.Fragment>\n        <div id=\"main-controls\">\n\n            <AddModal />\n\n            <VoteTitlesModal />\n\n            <VoteAttributesModal />\n\n            <ImportPollModal />\n\n            <CopyToClipboard />\n\n        </div>\n        </React.Fragment>\n    )\n}\n\nMainControls.propTypes = {\n    activegamedata: PropTypes.array.isRequired,\n    activethumbs: PropTypes.object.isRequired,\n    cachedgametitles: PropTypes.object.isRequired,\n    onaddcachedtitle: PropTypes.func.isRequired,\n    onaddnewtitle: PropTypes.func.isRequired,\n    oncachenewtitle: PropTypes.func.isRequired,\n    ondeleteall: PropTypes.func.isRequired,\n    onnewvote: PropTypes.func.isRequired,\n    onclearsectionvotes: PropTypes.func.isRequired,\n    activepoll: PropTypes.string.isRequired,\n    onviewpoll: PropTypes.func.isRequired,\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faThumbsUp } from '@fortawesome/free-solid-svg-icons'\n\nexport const Thumbnail = (props) => {\n\n    const getAttributeCountLabel = (attributecount) => {\n        let label\n        if (props.reallynarrow) {\n            label = 'attr.'\n        } else if (attributecount !== 1) {\n            label = 'attributes'\n        } else {\n            label = 'attribute'\n        }\n        return label\n    }\n\n    const getClasses = () => {\n        let classes = 'vote-count'\n        if (props.activethumbs.total_title_votes === 0 \n          && props.activethumbs.total_attribute_votes === 0) {\n            classes += ' no-votes-to-show'\n        } else if (props.thumbcounts.hasOwnProperty('titles')\n          && props.thumbcounts.titles === 0 \n          && props.thumbcounts.hasOwnProperty('attributes')\n          && props.thumbcounts.attributes === 0) {\n            classes += ' no-votes-to-show'\n        }\n        if (props.activethumbs.total_title_votes !== 0) {\n            classes += ' deemphasize-notvoted-games'\n        }\n        return classes\n    }\n\n    const printAttributeTally = () => {\n        if (props.activethumbs.total_attribute_votes && props.thumbcounts.attributes) {\n            return (\n                <span>& {props.thumbcounts.attributes} {getAttributeCountLabel(props.thumbcounts.attributes)}</span>\n            )\n        } else {\n            return null\n        }\n    }\n\n    const printTitleTally = () => {\n        if (props.activepoll !== 'local'\n          && props.activethumbs.total_title_votes \n          && typeof props.thumbcounts !== 'undefined'\n          && props.thumbcounts.hasOwnProperty('titles') ) {\n            let extra_text = null\n            if (props.thumbcounts.my_rank > 0 && props.thumbcounts.titles > props.thumbcounts.my_rank) {\n                extra_text = 'incl. You'\n                return (\n                    <React.Fragment>\n                        <div>&nbsp;{props.thumbcounts.titles}</div>\n                        <div className=\"extra-text\">{extra_text}</div>\n                    </React.Fragment>\n                )\n            } else {\n                return (\n                    <div>&nbsp;{props.thumbcounts.titles}</div>\n                )\n            }\n        } else {\n            return null\n        }\n    }\n\n    return (\n        <div className=\"thumbnail\">\n            <img src={props.url} alt=\"game box cover\" />\n            <div className={getClasses()}>\n                <div className=\"vote-count-heading\">\n                    <FontAwesomeIcon icon={faThumbsUp} />\n                    { printTitleTally() }\n                </div>\n                <div className=\"vote-count-subheading\">\n                    { printAttributeTally() }\n                </div>\n            </div>\n        </div>\n    )\n}\n\nThumbnail.propTypes = {\n    activethumbs: PropTypes.object.isRequired,\n    activepoll: PropTypes.string.isRequired,\n    thumbcounts: PropTypes.object,\n    id: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired,\n    reallynarrow: PropTypes.bool.isRequired,\n    url: PropTypes.string,\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faInfoCircle } from '@fortawesome/free-solid-svg-icons'\nimport { faTrash } from '@fortawesome/free-solid-svg-icons'\nimport { faClock } from '@fortawesome/free-solid-svg-icons'\nimport { faUserFriends } from '@fortawesome/free-solid-svg-icons'\nimport { Thumbnail } from './Thumbnail'\n\nexport const GameCardFront = (props) => {\n\n    const getClasses = (section, attrName) => {\n        let classes = 'attribute'\n        if (section === 'weight') {\n            let weight_vote = getWeightVote(attrName)\n            classes += ' weight ' + weight_vote\n        } else if (section === 'supported-playercount') {\n            let supported_players_vote = getPlayersVote(props.attributes.min_players, props.attributes.max_players)\n            classes += ' supported-playercount ' + supported_players_vote\n        } else {\n            classes += (props.activethumbs.attributes[section].hasOwnProperty(attrName) \n                        && props.activethumbs.attributes[section][attrName] === 'thumbsup')\n                ? ' thumbsup' //FIXME, derive from props: props.preferences['attrVote']\n                : ' novote'\n        }\n        return classes\n    }\n\n    const getUpvotedCategories = () => {\n        return Object.entries(props.activethumbs.attributes['category']).filter( entry => entry[1] === 'thumbsup' && props.attributes.categories.includes(entry[0]) ).map( entry => entry[0] )\n    }\n\n    const getUpvotedMechanics = () => {\n        return Object.entries(props.activethumbs.attributes['mechanic']).filter( entry => entry[1] === 'thumbsup' && props.attributes.mechanics.includes(entry[0]) ).map( entry => entry[0] )\n    }\n\n    // player count section gets only one, aggregated vote; only one <li> (ex: \"2-6 players\") \n    const getPlayersVote = (myminplayers, mymaxplayers) => {\n        let vote = \"novote\"\n        Object.keys(props.activethumbs.attributes.players).forEach( (votedPlayercount) => {\n            let voted = parseInt(votedPlayercount.slice(0, -1))\n            if (voted >= myminplayers\n                && voted <= mymaxplayers\n                && props.activethumbs.attributes.players[votedPlayercount] === 'thumbsup')\n            {\n                vote = \"thumbsup\"\n            }\n        })\n        return vote\n    }\n\n    // vote section gets only one, aggregated vote; only one <li> (ex: \"medium heavy\") \n    const getWeightVote = (myweight) => {\n        let vote = \"novote\"\n        Object.keys(props.activethumbs.attributes.weight).forEach( (votedWeight) => {\n            if (myweight === votedWeight\n                && props.activethumbs.attributes.weight[votedWeight] === 'thumbsup')\n            {\n                vote = \"thumbsup\"\n            }\n        })\n        return vote\n    }\n\n    const getWeightName = (myweight) => {\n        if (props.reallynarrow) {\n            switch (myweight) {\n                case 'medium light':\n                    return 'm. light'\n                case 'medium heavy':\n                    return 'm. heavy'\n                default:\n                    return myweight\n            }\n        } else {\n            return myweight\n        }\n    }\n\n    const { id, thumbnail, activepoll, name, yearpublished, attributes, activethumbs, thumbcounts, ontoggleinspection, onnewvote, ondelete, reallynarrow } = props\n    let upvoted_attributes = [ ...getUpvotedCategories(), ...getUpvotedMechanics() ].sort()\n    return (\n        <React.Fragment>\n        <section className=\"gamecard-header\">\n            <button className=\"fa fa-button\" onClick={ (e) => ondelete(e, id) }><FontAwesomeIcon icon={faTrash}/></button>\n            <button className=\"fa fa-button inspect\" onClick={ (e) => ontoggleinspection(e, id) }><FontAwesomeIcon icon={faInfoCircle}/></button>\n        </section>\n        <section className=\"gamecard-title\">\n            <h5 className=\"game-name\">{name}</h5>\n            {(yearpublished !== null) \n                ? <h6 className=\"game-yearpublished\">({yearpublished})</h6>\n                : <h6 className=\"game-yearpublished\">(#{id})</h6>\n            }\n        </section>\n        <section\n            className=\"gamecard-visual\"\n            data-votingtype=\"title\"\n            data-votingon={id}\n            data-newvote=\"thumbsup\"\n            onClick={onnewvote}\n            >\n            <Thumbnail \n              id={id} \n              name={name} \n              url={thumbnail} \n              activepoll={activepoll} \n              activethumbs={activethumbs} \n              thumbcounts={thumbcounts} \n              reallynarrow={reallynarrow} />\n            <div className=\"overlay\">\n                {(attributes.min_players !== attributes.max_players)\n                    ? <div className={getClasses('supported-playercount', null)}><FontAwesomeIcon icon={faUserFriends}/> {attributes.min_players}-{attributes.max_players}</div>\n                    : <div className={getClasses('supported-playercount', null)}><FontAwesomeIcon icon={faUserFriends}/> {attributes.min_players}</div>\n                }\n                {(attributes.min_playtime !== attributes.max_playtime)\n                    ? <div><FontAwesomeIcon icon={faClock}/> {attributes.min_playtime}-{attributes.max_playtime}'</div>\n                    : <div><FontAwesomeIcon icon={faClock}/> {attributes.min_playtime}'</div>\n                }\n            </div>\n        </section>\n        <div className=\"gamecard-weight\">\n            <div className=\"halfsized\">\n                {(attributes.min_players !== attributes.max_players)\n                    ? <div className={getClasses('supported-playercount', null)}><FontAwesomeIcon icon={faUserFriends}/> {attributes.min_players}-{attributes.max_players}</div>\n                    : <div className={getClasses('supported-playercount', null)}><FontAwesomeIcon icon={faUserFriends}/> {attributes.min_players}</div>\n                }\n                {(attributes.min_playtime !== attributes.max_playtime)\n                    ? <div className=\"estimated-playtime\"><FontAwesomeIcon icon={faClock}/> {attributes.min_playtime}-{attributes.max_playtime}'</div>\n                    : <div className=\"estimated-playtime\"><FontAwesomeIcon icon={faClock}/> {attributes.min_playtime}'</div>\n                }\n            </div>\n            <div className={getClasses('weight', attributes.average_weight_name)}>{getWeightName(attributes.average_weight_name)}</div>\n        </div>\n        <div className=\"gamecard-upvoted-attributes\">\n            { upvoted_attributes.map( (value) =>\n                <div key={value} className=\"attribute thumbsup\">{value}</div>\n            )}\n        </div>\n        <ul className=\"gamecard-categories\">\n            {(attributes.categories.length)\n                ? attributes.categories.map(value => <li key={value} className={getClasses('category', value)}>{value}</li>)\n                : <li>(no categories)</li>\n            }\n        </ul>\n        <ul className=\"gamecard-mechanics\">\n            {(attributes.mechanics.length)\n                ? attributes.mechanics.map(value => <li key={value} className={getClasses('mechanic', value)}>{value}</li>)\n                : <li>(no mechanics)</li>\n            }\n        </ul>\n        </React.Fragment>\n    )\n}\n\nGameCardFront.propTypes = {\n    id: PropTypes.number.isRequired,\n    attributes: PropTypes.object.isRequired,\n    activepoll: PropTypes.string.isRequired,\n    activethumbs: PropTypes.object.isRequired,\n    thumbcounts: PropTypes.object,\n    name: PropTypes.string.isRequired,\n    onnewvote: PropTypes.func.isRequired,\n    ondelete: PropTypes.func.isRequired,\n    ontoggleinspection: PropTypes.func.isRequired,\n    thumbnail: PropTypes.string,\n    yearpublished: PropTypes.number,\n    reallynarrow: PropTypes.bool.isRequired,\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Thumbnail } from './Thumbnail'\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faInfoCircle } from '@fortawesome/free-solid-svg-icons'\nimport { faTrash } from '@fortawesome/free-solid-svg-icons'\n\nconst Description = (props) => {\n    const paragraphs = props.description.map ( (paragraph, idx) =>\n        <p key={idx}>{paragraph}</p>\n    )\n    return (\n        <section className=\"gamecard-description\">\n            { paragraphs }\n        </section>\n    )\n}\n\nDescription.propTypes = {\n    description: PropTypes.array.isRequired,\n}\n\nconst Comments = (props) => {\n    const comments = props.comments.map ( (comment, idx) =>\n        <li key={idx}><b>{comment.author}: </b>{comment.comment}</li>\n    )\n    return (\n        <ul className=\"gamecard-comments\">\n            { comments }\n        </ul>\n    )\n}\n\nComments.propTypes = {\n    comments: PropTypes.array.isRequired,\n}\n\nconst Videos = (props) => {\n    const videos = props.videos.map ( (video, idx) =>\n        <li key={idx}><b>{video.author}: </b><a href={video.link} target=\"_blank\" rel=\"noopener noreferrer\">{video.title}</a></li>\n    )\n    return (\n        <ul className=\"gamecard-videos\">\n            { videos }\n        </ul>\n    )\n}\n\nVideos.propTypes = {\n    videos: PropTypes.array.isRequired,\n}\n\nexport const GameCardBack = (props) => {\n\n    const { id, name, yearpublished, description, inspectingsection, comments, videos, activethumbs, activepoll, ontoggleinspection, oninspectionsectionchange, onnewvote, ondelete, reallynarrow, thumbnail, thumbcounts } = props\n    return (\n        <React.Fragment>\n        <section className=\"gamecard-header\">\n            <button className=\"fa fa-button\" onClick={ (e) => ondelete(e, id) }><FontAwesomeIcon icon={faTrash}/></button>\n            <button className=\"fa fa-button inspect\" onClick={ (e) => ontoggleinspection(e, id) }><FontAwesomeIcon icon={faInfoCircle}/></button>\n        </section>\n        <section className=\"gamecard-collapse-control\">\n            <button className=\"fa fa-button inspect\" onClick={ (e) => ontoggleinspection(e, id) }><FontAwesomeIcon icon={faInfoCircle}/></button>\n        </section>\n        <section className=\"gamecard-title\">\n            <h5 className=\"game-name\">{name}</h5>\n            {(yearpublished !== null) \n                ? <h6 className=\"game-yearpublished\">({yearpublished})</h6>\n                : <h6 className=\"game-yearpublished\">(#{id})</h6>\n            }\n        </section>\n        <section \n            className=\"gamecard-visual\"\n            data-votingtype=\"title\"\n            data-votingon={id}\n            data-newvote=\"thumbsup\"\n            onClick={onnewvote}\n            >\n            <Thumbnail \n              id={id} \n              name={name} \n              url={thumbnail} \n              activepoll={activepoll} \n              activethumbs={activethumbs} \n              thumbcounts={thumbcounts} \n              reallynarrow={reallynarrow} />\n\n        </section>\n        <ul id=\"inspectionsection-selector\">\n            <li id=\"select-description\" className={\"segmentedcontrol darkbg\" + (inspectingsection === \"description\" ? \" selected\" : \"\")} onClick={oninspectionsectionchange}>{props.reallynarrow ? 'Desc.' : 'Description'}</li>\n            <li id=\"select-comments\" className={\"segmentedcontrol darkbg\" + (inspectingsection === \"comments\" ? \" selected\" : \"\")} onClick={oninspectionsectionchange}>Comments</li>\n            <li id=\"select-videos\" className={\"segmentedcontrol darkbg\" + (inspectingsection === \"videos\" ? \" selected\" : \"\")} onClick={oninspectionsectionchange}>Videos</li>\n        </ul>\n        <section className=\"gamecard-variable\">\n            <TransitionGroup>\n                {inspectingsection === \"description\" &&\n                    <CSSTransition \n                        key={0}\n                        in={true}\n                        appear={false}\n                        timeout={2000}\n                        classNames={\"showsegment\"}\n                    >\n                        <Description description={description} />\n                    </CSSTransition>\n                }\n                {inspectingsection === \"comments\" &&\n                    <CSSTransition \n                        key={1}\n                        in={true}\n                        appear={false}\n                        timeout={2000}\n                        classNames={\"showsegment\"}\n                    >\n                        <Comments comments={comments} />\n                    </CSSTransition>\n                }\n                {inspectingsection === \"videos\" &&\n                    <CSSTransition \n                        key={2}\n                        in={true}\n                        appear={false}\n                        timeout={2000}\n                        classNames={\"showsegment\"}\n                    >\n                        <Videos videos={videos} />\n                    </CSSTransition>\n                }\n            </TransitionGroup>\n        </section>\n        </React.Fragment>\n    )\n}\n\nGameCardBack.propTypes = {\n    id: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired,\n    activepoll: PropTypes.string.isRequired,\n    activethumbs: PropTypes.object.isRequired,\n    thumbcounts: PropTypes.object,\n    yearpublished: PropTypes.number,\n    description: PropTypes.array.isRequired,\n    inspectingsection: PropTypes.string.isRequired,\n    comments: PropTypes.array,\n    videos: PropTypes.array,\n    ontoggleinspection: PropTypes.func.isRequired,\n    oninspectionsectionchange: PropTypes.func.isRequired,\n    onnewvote: PropTypes.func.isRequired,\n    ondelete: PropTypes.func.isRequired,\n    reallynarrow: PropTypes.bool.isRequired,\n}\n\nGameCardBack.defaultProps = {\n    comments: [{author: \"ERROR\", comment: \"(no comments for this game exist on BoardGameGeek.com)\"}],\n    videos: [{author: \"ERROR\", link: \"#\", title: \"(no videos for this game exist on BoardGameGeek.com)\"}]\n}","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { MainControls } from './MainControls'\nimport { GameCardFront } from './GameCardFront'\nimport { GameCardBack } from './GameCardBack'\nimport bggLogo from './img/bgg-logo-50.png'\n\nconst GameFooter = (props) => {\n    return (\n        <div className=\"footer\">\n            <a href={\"https://boardgamegeek.com/boardgame/\" + props.gameid } rel=\"noopener noreferrer\">\n                this game on BGG\n            </a>&nbsp;\n            <img src={bggLogo} alt=\"BoardGameGeek logo\" />\n        </div>\n    )\n}\n\nconst Game = (props) => {\n        let gamecard\n        let gamecardClasses = 'game'\n        if (props.id === props.idunderinspection) {\n            gamecardClasses += ' inspecting'\n        } \n        if (typeof props.thumbcounts !== 'undefined' \n          && props.thumbcounts.hasOwnProperty('titles') \n          && props.thumbcounts.titles !== 0) {\n            gamecardClasses += ' thumbsup'\n        } else {\n            gamecardClasses += ' novote'\n        }\n        if (props.id !== props.idunderinspection) {\n            gamecard = <GameCardFront \n                id={props.id}\n                thumbnail={props.thumbnail}\n                activepoll={props.activepoll}\n                activethumbs={props.activethumbs} \n                thumbcounts={props.thumbcounts} \n                name={props.name}\n                yearpublished={props.yearpublished}\n                attributes={props.attributes}\n                ontoggleinspection={props.ontoggleinspection} \n                onnewvote={props.onnewvote}\n                ondelete={props.ondelete}\n                reallynarrow={props.reallynarrow} />\n        } else {\n            gamecard = <GameCardBack \n                id={props.id}\n                thumbnail={props.thumbnail}\n                activepoll={props.activepoll}\n                activethumbs={props.activethumbs}\n                thumbcounts={props.thumbcounts} \n                name={props.name}\n                yearpublished={props.yearpublished}\n                description={props.description}\n                inspectingsection={props.inspectingsection}\n                comments={props.comments}\n                videos={props.videos}\n                ontoggleinspection={props.ontoggleinspection} \n                oninspectionsectionchange={props.oninspectionsectionchange} \n                onnewvote={props.onnewvote}\n                ondelete={props.ondelete}\n                reallynarrow={props.reallynarrow} />\n        }\n        return(\n            <section className={gamecardClasses}>\n                {gamecard}\n                <section className=\"gamecard-footer\">\n                    <GameFooter gameid={props.id}/>\n                </section>\n            </section>\n        )\n    }\n\nexport const GameList = (props) => {\n\n    const [idUnderInspection, setIdUnderInspection] = useState(null)\n    const [inspectingSection, setInspectingSection] = useState('description')\n\n    useEffect( () => {\n        const stored_idunderinspection = JSON.parse(localStorage.getItem(\"idUnderInspection\"))\n        if (stored_idunderinspection !== null) {\n            setIdUnderInspection(stored_idunderinspection)\n        }\n    }, [])\n\n    const getThumbedTitles = (props) => {\n        // collect all of the voted titles\n        let titles = []\n        if (props.activethumbs.hasOwnProperty('titles')) {\n            for (let entry of Object.entries(props.activethumbs.titles)) {\n                if (entry[1] === 'thumbsup') {\n                    titles.push(entry[0])\n                }\n            }\n        }\n        return titles\n    } \n\n    const getThumbedPlayercounts = (props) => {\n        // collect all of the voted playercounts\n        let playercounts = []\n        if (props.activethumbs.attributes.hasOwnProperty('players')) {\n            for (let playercount in props.activethumbs.attributes.players) {\n                playercounts.push(parseInt(playercount.slice(0, -1)))\n            }\n        }\n        return playercounts\n    } \n\n    const getThumbedWeights = (props) => {\n        // collect all of the voted weights\n        let weights = []\n        if (props.activethumbs.attributes.hasOwnProperty('weight')) {\n            for (let weight in props.activethumbs.attributes.weight) {\n                weights.push(weight)\n            }\n        }\n        return weights\n    } \n\n    const getTotalVotes = () => {\n        // tally all votes for each game\n        let all_vote_counts = {}\n        if (props.activegamedata.length) {\n            for (const game of props.activegamedata) {\n                let new_vote_counts = {\n                    attributes: 0,\n                    titles: 0,\n                    my_rank: 0\n                }\n                // playercount section of a game gets ONE TOTAL thumbsup if any of its supported playercounts gets a thumbsup\n                for (let playercount=game.attributes.min_players; playercount<=game.attributes.max_players; playercount++) {\n                    if (props.activethumbs.attributes.players.hasOwnProperty(playercount + 'P')) {\n                        new_vote_counts.attributes++\n                        break\n                    }\n                }\n                // weight section of a game gets ONE TOTAL thumbsup if its weight has a thumbsup\n                if (props.activethumbs.attributes.weight.hasOwnProperty(game.attributes.average_weight_name)) {\n                    new_vote_counts.attributes++\n                }\n                // categories section of a game gets one thumbsup for each thumbed-up category\n                for (const category of game.attributes.categories) {\n                    if (props.activethumbs.attributes.category.hasOwnProperty(category)) {\n                        new_vote_counts.attributes++\n                    }\n                }\n                // mechanics section of a game gets one thumbsup for each thumbed-up mechanic\n                for (const mechanic of game.attributes.mechanics) {\n                    if (props.activethumbs.attributes.mechanic.hasOwnProperty(mechanic)) {\n                        new_vote_counts.attributes++\n                    }\n                }\n\n                // title votes\n                if (props.activethumbs.hasOwnProperty('titles') \n                  && props.activethumbs.titles.hasOwnProperty(game.id.toString())\n                  && props.activethumbs.titles[game.id].hasOwnProperty('thumbsup')) {\n                    let thumbsup_data = props.activethumbs.titles[game.id.toString()].thumbsup\n                    new_vote_counts.titles += thumbsup_data.length //props.activethumbs.titles[game.id.toString()].thumbsup.length\n                    new_vote_counts.my_rank = thumbsup_data.filter(user => user === props.user).length //props.activethumbs.titles[game.id.toString()].thumbsup.filter( user => user === props.user ).length\n                }\n\n                all_vote_counts[game.id] = new_vote_counts\n            }\n        }\n        return all_vote_counts\n    } \n\n    const handleInspectionChange = (event, id) => {\n        let gameId = parseInt(id)\n        if (idUnderInspection === gameId) {\n            localStorage.setItem('idUnderInspection', JSON.stringify(null))\n            setIdUnderInspection(null)\n        } else {\n            localStorage.setItem('idUnderInspection', JSON.stringify(gameId))\n            setIdUnderInspection(gameId)\n        }\n    }\n\n    const handleInspectionSectionChange = (event) => {\n        let newSelection = event.target.id.replace(/select-/g, '')\n        setInspectingSection(newSelection)\n    }\n\n    // apply a title filter, if configured and if title votes exist\n    const filterTitles = (games) => {\n        let favoredTitles = getThumbedTitles(props)\n        let filtered = games.filter(function(game) {\n            if (!props.filtertitles || !favoredTitles.length) {\n                return true\n            } else if (favoredTitles.includes(game.name)) {\n                return true\n            } else {\n                return false\n            }\n        })\n        return filtered\n    }\n\n    // apply a playercount filter, if configured and if playercount votes exist\n    const filterPlayercount = (games) => {\n        let favoredPlayercounts = getThumbedPlayercounts(props)\n        let filtered = games.filter(function(game) {\n            if (!props.filterplayercount || !favoredPlayercounts.length) {\n                return true\n            } else {\n                for (let playercount=game.attributes.min_players; playercount<=game.attributes.max_players; playercount++) {\n                    if (favoredPlayercounts.includes(playercount)) {\n                        return true\n                    }\n                }\n                return false\n            }\n        })\n        return filtered\n    }\n\n    // apply a weight filter, if configured and if weight votes exist\n    const filterWeight = (games) => {\n        let favoredWeights = getThumbedWeights(props)\n        let filtered = games.filter(function(game) {\n            if (!props.filterweight || !favoredWeights.length) {\n                return true\n            } else if (favoredWeights.includes(game.attributes.average_weight_name)) {\n                return true\n            } else {\n                return false\n            }\n        })\n        return filtered\n    }\n\n    // order the games\n    const sortGames = (games, votecounts) => {\n        // SORTING OPTIONS:\n        //   sort by maxtitlevotes... FIRST: most title votes,  SECOND: most attr votes\n        //   sort by maxattrvotes...  FIRST: most attr votes,   SECOND: most title votes\n        //   sort by minplaytime...   FIRST: shortest playtime, SECOND: most title votes, THIRD: most attr votes\n        //   sort by maxplayers...    FIRST: most players,      SECOND: most title votes, THIRD: most attr votes\n        let sorted = games.sort(function(a, b) {\n            if (props.sortby === 'maxtitlevotes') {\n                if (votecounts[a.id].titles < votecounts[b.id].titles) {\n                    return 1\n                } else if (votecounts[a.id].titles > votecounts[b.id].titles) {\n                    return -1\n                } else {\n                    if (votecounts[a.id].attributes < votecounts[b.id].attributes) {\n                        return 1\n                    } else if (votecounts[a.id].attributes > votecounts[b.id].attributes) {\n                        return -1\n                    } else {\n                        if (a.attributes.max_playtime > b.attributes.max_playtime) {\n                            return 1\n                        } else if (a.attributes.max_playtime < b.attributes.max_playtime) {\n                            return -1\n                        } else {\n                            return 0\n                        }\n                    }\n                }\n            } else if (props.sortby === 'maxattrvotes') {\n                if (votecounts[a.id].attributes < votecounts[b.id].attributes) {\n                    return 1\n                } else if (votecounts[a.id].attributes > votecounts[b.id].attributes) {\n                    return -1\n                } else {\n                    if (votecounts[a.id].titles < votecounts[b.id].titles) {\n                        return 1\n                    } else if (votecounts[a.id].titles > votecounts[b.id].titles) {\n                        return -1\n                    } else {\n                        if (a.attributes.max_playtime > b.attributes.max_playtime) {\n                            return 1\n                        } else if (a.attributes.max_playtime < b.attributes.max_playtime) {\n                            return -1\n                        } else {\n                            return 0\n                        }\n                    }\n                }\n            } else if (props.sortby === 'minplaytime') {\n                if (a.attributes.max_playtime > b.attributes.max_playtime) {\n                    return 1\n                } else if (a.attributes.max_playtime < b.attributes.max_playtime) {\n                    return -1\n                } else {\n                    if (votecounts[a.id].titles < votecounts[b.id].titles) {\n                        return 1\n                    } else if (votecounts[a.id].titles > votecounts[b.id].titles) {\n                        return -1\n                    } else {\n                        if (votecounts[a.id].attributes < votecounts[b.id].attributes) {\n                            return 1\n                        } else if (votecounts[a.id].attributes > votecounts[b.id].attributes) {\n                            return -1\n                        } else {\n                            return 0\n                        }\n                    }\n                }\n            } else if (props.sortby === 'maxplayers') {\n                if (a.attributes.max_players < b.attributes.max_players) {\n                    return 1\n                } else if (a.attributes.max_players > b.attributes.max_players) {\n                    return -1\n                } else {\n                    if (votecounts[a.id].titles < votecounts[b.id].titles) {\n                        return 1\n                    } else if (votecounts[a.id].titles > votecounts[b.id].titles) {\n                        return -1\n                    } else {\n                        if (votecounts[a.id].attributes < votecounts[b.id].attributes) {\n                            return 1\n                        } else if (votecounts[a.id].attributes > votecounts[b.id].attributes) {\n                            return -1\n                        } else {\n                            return 0\n                        }\n                    }\n                }\n            } else {\n                return 0\n            }\n        })\n        return sorted\n    }\n\n    const getClasses = () => {\n        let classes = ''\n        if (props.activethumbs.total_title_votes === 0 && props.activethumbs.total_attribute_votes === 0) {\n            classes += 'no-votes-to-show'\n        }\n        if (props.activethumbs.total_title_votes !== 0) {\n            classes += ' deemphasize-notvoted-games'\n        }\n        return classes\n    }\n\n    let thumbcounts = getTotalVotes()\n    let sortedFilteredGames = sortGames(filterWeight(filterPlayercount(filterTitles(props.activegamedata))), thumbcounts)\n    return (\n        <React.Fragment>\n        <MainControls \n            activegamedata={props.activegamedata}\n            activethumbs={props.activethumbs}\n            cachedgametitles={props.cachedgametitles}\n            onaddcachedtitle={props.onaddcachedtitle}\n            onaddnewtitle={props.onaddnewtitle}\n            oncachenewtitle={props.oncachenewtitle}\n            ondeleteall={props.ondeleteall}\n            onnewvote={props.onnewvote}\n            onclearsectionvotes={props.onclearsectionvotes}\n            activepoll={props.activepoll}\n            onviewpoll={props.onviewpoll} />\n        <div id=\"resulting-games\" className={getClasses()}>\n            {sortedFilteredGames.length !== 0 && (\n                sortedFilteredGames\n                    .map(\n                        (game, i) => \n                            <Game\n                                key={i}\n                                id={game.id} \n                                idunderinspection={idUnderInspection}\n                                inspectingsection={inspectingSection}\n                                name={game.name} \n                                thumbnail={game.thumbnail} \n                                description={game.description} \n                                yearpublished={game.year_published} \n                                attributes={game.attributes}\n                                comments={game.comments}\n                                videos={game.videos}\n                                activepoll={props.activepoll}\n                                activethumbs={props.activethumbs} \n                                thumbcounts={thumbcounts[game.id]}\n                                onnewvote={props.onnewvote}\n                                ondelete={props.ondelete}\n                                ontoggleinspection={handleInspectionChange}\n                                oninspectionsectionchange={handleInspectionSectionChange}\n                                reallynarrow={props.reallynarrow} />)\n            )}\n            {props.activegamedata.length === 0 && (\n                <span className=\"message warning\">\n                    <p>No board games to compare yet!</p>\n                    <p>Please add game titles by clicking \"Add\".</p>\n                </span>\n            )}\n        </div>\n        </React.Fragment>\n    )\n}\n\nGameList.propTypes = {\n    activegamedata: PropTypes.array.isRequired,\n    sortby: PropTypes.string.isRequired,\n    filtertitles: PropTypes.bool.isRequired,\n    filterplayercount: PropTypes.bool.isRequired,\n    filterweight: PropTypes.bool.isRequired,\n    cachedgametitles: PropTypes.object.isRequired,\n    onaddcachedtitle: PropTypes.func.isRequired,\n    onaddnewtitle: PropTypes.func.isRequired,\n    oncachenewtitle: PropTypes.func.isRequired,\n    ondelete: PropTypes.func.isRequired,\n    ondeleteall: PropTypes.func.isRequired,\n    activethumbs: PropTypes.object.isRequired,\n    onnewvote: PropTypes.func.isRequired,\n    onclearsectionvotes: PropTypes.func.isRequired,\n    activepoll: PropTypes.string.isRequired,\n    onviewpoll: PropTypes.func.isRequired,\n    reallynarrow: PropTypes.bool.isRequired,\n    user: PropTypes.string.isRequired,\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport purpleMeeple from './img/purple-meeple-64.png'\nimport { ViewControls } from './ViewControls'\nimport { GameList } from './GameList'\nimport { gamedataApi, voteinpollApi, clearmyvotesApi } from './Api.js'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faBars } from '@fortawesome/free-solid-svg-icons'\n\n\nexport class Boardgameinator extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = { \n            activeGameList: [],\n            activePoll: 'local',\n            allGameData: [],\n            activeThumbs: {\n                attributes: {\n                    players: {}, \n                    weight: {}, \n                    category: {}, \n                    mechanic: {}\n                },\n                total_attribute_votes: 0,\n                titles: {},\n                total_title_votes: 0,\n            },\n            allThumbs:  {\n                local: {\n                    attributes: {\n                        players: {}, \n                        weight: {}, \n                        category: {}, \n                        mechanic: {}\n                    },\n                    total_attribute_votes: 0,\n                    titles: {},\n                    total_title_votes: 0,\n                }\n            },\n            filterTitles: false,\n            filterPlayercount: true,\n            filterWeight: true,\n            localGameList: [],\n            sortOrder: 'maxtitlevotes',\n            user: '_me_', // FIXME: implement user auths\n            windowWidth: 0,\n            windowHeight: 0\n        }\n        this.totalTitleVotes = this.totalTitleVotes.bind(this)\n        this.totalAttributeVotes = this.totalAttributeVotes.bind(this)\n        this.getCachedGameTitles = this.getCachedGameTitles.bind(this)\n        this.gameHasBeenAdded = this.gameHasBeenAdded.bind(this)\n        this.gameSupportsPlayercount = this.gameSupportsPlayercount.bind(this)\n        this.voteTitleInPoll = this.voteTitleInPoll.bind(this)\n        this.clearMyTitleVotesInPoll = this.clearMyTitleVotesInPoll.bind(this)\n        this.addGameById = this.addGameById.bind(this)\n        this.onAddCachedTitle = this.onAddCachedTitle.bind(this)\n        this.onAddNewTitle = this.onAddNewTitle.bind(this)\n        this.onCacheNewTitle = this.onCacheNewTitle.bind(this)\n        this.onNewVote = this.onNewVote.bind(this)\n        this.onDeleteTitle = this.onDeleteTitle.bind(this)\n        this.onDeleteAllTitles = this.onDeleteAllTitles.bind(this)\n        this.onClearSectionVotes = this.onClearSectionVotes.bind(this)\n        this.onViewPoll = this.onViewPoll.bind(this)\n        this.handleSortChange = this.handleSortChange.bind(this)\n        this.handleFilterChange = this.handleFilterChange.bind(this)\n        this.extractYearFromTitle = this.extractYearFromTitle.bind(this)\n        this.updateDimensions = this.updateDimensions.bind(this)\n        this.onHamburger = this.onHamburger.bind(this)\n    }\n\n    gamedataVersion = 1\n\n    componentDidMount() {\n\n        let allGameData = []\n\n        let query_strings, new_list = [], addto_list = []\n        let path = this.props.location.search.slice(1).split('?')\n        if (path.length === 1) {\n            query_strings = path[0]\n        } else {\n            query_strings = path[1]\n        }\n        query_strings.split('&').forEach( function(query_string) {\n            let qs = query_string.split('=')\n            if (qs[0] === 'newlist') {\n                qs[1].split('+').forEach( game_id => new_list.push(parseInt(game_id)) )\n            } else if (qs[0] === 'addtolist') {\n                qs[1].split('+').forEach( game_id => addto_list.push(parseInt(game_id)) )\n            }\n        })\n\n        const stored_localGameList = JSON.parse(localStorage.getItem(\"localGameList\"))\n        if (stored_localGameList !== null) {\n            this.setState({ localGameList: stored_localGameList })\n        }\n\n        const stored_activeGameList = JSON.parse(localStorage.getItem(\"activeGameList\"))\n        if (stored_activeGameList !== null) {\n            this.setState({ activeGameList: stored_activeGameList })\n        }\n\n        const stored_activePoll = JSON.parse(localStorage.getItem(\"activePoll\"))\n        if (stored_activePoll !== null) {\n            this.setState({ activePoll: stored_activePoll })\n        } else {\n            this.setState({ activePoll: 'local' })\n        }\n\n        let self = this\n        if (new_list.length === 0) {\n            const stored_gamedataVersion = JSON.parse(localStorage.getItem(\"gamedataVersion\"))\n            if (stored_gamedataVersion === this.gamedataVersion) {\n                allGameData = JSON.parse(localStorage.getItem(\"allGameData\"))\n            } else {\n                localStorage.setItem('gamedataVersion', JSON.stringify(this.gamedataVersion))\n                localStorage.setItem('allGameData', JSON.stringify(allGameData))\n            }\n            addto_list.forEach( function(game_id) {\n                if (!self.gameHasBeenAdded(game_id, allGameData)) {\n                    self.addGameById(game_id)\n                }\n            })\n            this.setState({ allGameData })\n        } else {\n            new_list.forEach( function(game_id) {\n                if (!self.gameHasBeenAdded(game_id, allGameData)) {\n                    self.addGameById(game_id)\n                }\n            })\n            localStorage.setItem('gamedataVersion', JSON.stringify(this.gamedataVersion))\n        }\n\n        const stored_allThumbs = JSON.parse(localStorage.getItem(\"allThumbs\"))\n        if (stored_allThumbs !== null) {\n            this.setState({ allThumbs: stored_allThumbs })\n        }\n\n        const stored_activeThumbs = JSON.parse(localStorage.getItem(\"activeThumbs\"))\n        if (stored_activeThumbs !== null) {\n            this.setState({ activeThumbs: stored_activeThumbs })\n        }\n\n        const stored_sortorder = JSON.parse(localStorage.getItem(\"sortOrder\"))\n        if (stored_sortorder !== null) {\n            this.setState({ sortOrder: stored_sortorder })\n        }\n\n        const stored_filtertitles = JSON.parse(localStorage.getItem(\"filterTitles\"))\n        if (stored_filtertitles !== null) {\n            this.setState({ filterTitles: stored_filtertitles })\n        }\n\n        const stored_filterplayercount = JSON.parse(localStorage.getItem(\"filterPlayercount\"))\n        if (stored_filterplayercount !== null) {\n            this.setState({ filterPlayercount: stored_filterplayercount })\n        }\n\n        const stored_filterweight = JSON.parse(localStorage.getItem(\"filterWeight\"))\n        if (stored_filterweight !== null) {\n            this.setState({ filterWeight: stored_filterweight })\n        }\n\n        this.updateDimensions()\n        window.addEventListener('resize', this.updateDimensions)\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.updateDimensions)\n    }\n\n    updateDimensions() {\n        let windowWidth = typeof window !== 'undefined' ? window.innerWidth : 0\n        let windowHeight = typeof window !== 'undefined' ? window.innerHeight : 0\n        this.setState({ windowWidth, windowHeight })\n    }\n\n    // for disambiguation of titles, the game ID will be put in parentheses when the API does not provide yearpublished info\n    extractYearFromTitle(title) {\n        if (typeof title === 'string' && title.length) {\n            let matchesDate = title.match(/(( +)\\((-?)\\d{1,4}\\))$/)\n            if (matchesDate !== null) {\n                return matchesDate[0].replace(/[^0-9-]/g, \"\")\n            } else {\n                let matchesId = title.match(/(( +)\\(#\\d{1,6}\\))$/)\n                if (matchesId !== null) {\n                    return matchesId[0].replace(/[^#0-9-]/g, \"\")\n                } else {\n                    return null\n                }\n            }\n        }\n    }\n\n    getCachedGameTitles() {\n        let titles = {}, self = this\n        this.state.allGameData.forEach(function(gamedata) {\n            if (gamedata.hasOwnProperty('unambiguous_name')) {\n                let new_cache_info = {\n                    id: gamedata.id,\n                    name: gamedata.name,\n                    year_published: gamedata.year_published,\n                    active: (self.state.activeGameList.includes(gamedata.id)) ? true : false,\n                }\n                titles[gamedata.unambiguous_name] = new_cache_info\n            }\n        })\n        return titles\n    }\n\n    gameHasBeenAdded(gameId, gameSet) {\n        for (let game of gameSet) {\n            if (game.id === parseInt(gameId)) {\n                return true\n            }\n        }\n        return false\n    }\n\n    async addGameById(game_id) {\n        gamedataApi(game_id)\n            .then(json => {\n                if (json.hasOwnProperty('id')) {\n                    this.onAddNewTitle(json)\n                }})\n    }\n\n    onAddCachedTitle(title) {\n\n        this.setState(prevState => {\n\n            // FIXME: Implement poll editing. May not want to update active list here if we are currently looking at a poll.\n            let activeGameList = prevState.activeGameList.slice()\n            activeGameList.push(prevState.allGameData.filter( game_data => game_data.unambiguous_name === title )[0].id)\n            localStorage.setItem('activeGameList', JSON.stringify(activeGameList))\n\n            let localGameList = prevState.localGameList.slice()\n            localGameList.push(prevState.allGameData.filter( game_data => game_data.unambiguous_name === title )[0].id)\n            localStorage.setItem('localGameList', JSON.stringify(localGameList))\n\n            return { activeGameList, localGameList }\n        })\n    }\n\n    onAddNewTitle(newGameData) {\n\n        let now = new Date()\n        newGameData[\"updated_at\"] = now.getTime()\n\n        this.setState(prevState => {\n\n            // FIXME: Implement poll editing. May not want to update active list here if we are currently looking at a poll.\n            let activeGameList = prevState.activeGameList.slice()\n            activeGameList.push(newGameData.id)\n            localStorage.setItem('activeGameList', JSON.stringify(activeGameList))\n\n            let localGameList = prevState.localGameList.slice()\n            localGameList.push(newGameData.id)\n            localStorage.setItem('localGameList', JSON.stringify(localGameList))\n\n            let allGameData = JSON.parse(JSON.stringify(prevState.allGameData))\n            allGameData.push(newGameData)\n            localStorage.setItem('allGameData', JSON.stringify(allGameData))\n\n            return { activeGameList, localGameList, allGameData }\n        })\n\n    }\n\n    onCacheNewTitle(newGameData) {\n\n        let now = new Date()\n        newGameData[\"updated_at\"] = now.getTime()\n\n        this.setState(prevState => {\n\n            let allGameData = JSON.parse(JSON.stringify(prevState.allGameData))\n            allGameData.push(newGameData)\n            localStorage.setItem('allGameData', JSON.stringify(allGameData))\n\n            return { allGameData }\n        })\n\n    }\n\n    gameSupportsPlayercount(game, playercount) {\n        let number = playercount.slice(0, -1)\n        if (number <= game.attributes.max_players && number >= game.min_players) {\n            return true\n        } else {\n            return false\n        }\n    }\n\n    onDeleteTitle(event, id) {\n        this.setState(prevState => {\n\n            // FIXME: Implement poll editing. May not want to update active list here if we are currently looking at a poll.\n            // remove the game from the active game list (but still keep its game data cached)\n            let activeGameList = prevState.activeGameList.slice()\n            activeGameList = activeGameList.filter(game_id => game_id !== parseInt(id))\n\n            // remove the game from the local game list (but still keep its game data cached)\n            let localGameList = prevState.localGameList.slice()\n            localGameList = localGameList.filter(game_id => game_id !== parseInt(id))\n\n            // remove the game from the game list\n            let allGameData = JSON.parse(JSON.stringify(prevState.allGameData))\n            allGameData = allGameData.filter(game => game.id !== parseInt(id))\n\n            let activeThumbs = JSON.parse(JSON.stringify(prevState.activeThumbs))\n\n            // remove any title upvotes\n            if (activeThumbs.titles.hasOwnProperty(id)) {\n                delete activeThumbs.titles[id]\n            }\n\n            // remove any attribute upvotes for attributes no longer occurring in any other game\n            for (let attrName in activeThumbs.attributes) {\n                if (attrName === 'players') {\n                    for (let votedplayercount in activeThumbs.attributes[attrName]) {\n                        let attributeStillOccurs = false\n                        for (let game of allGameData) {\n                            if (this.gameSupportsPlayercount(game, votedplayercount)) {\n                                attributeStillOccurs = true\n                                break\n                            }\n                        }\n                        if (!attributeStillOccurs) {\n                            delete activeThumbs.attributes[attrName][votedplayercount]\n                        }\n                    }\n                } else if (attrName === 'weight') {\n                    for (let votedweight in activeThumbs.attributes[attrName]) {\n                        let attributeStillOccurs = false\n                        for (let game of allGameData) {\n                            if (game.weight === votedweight) {\n                                attributeStillOccurs = true\n                                break\n                            }\n                        }\n                        if (!attributeStillOccurs) {\n                            delete activeThumbs.attributes[attrName][votedweight]\n                        }\n                    }\n                } else if (attrName === 'category') {\n                    for (let votedcategory in activeThumbs.attributes[attrName]) {\n                        let attributeStillOccurs = false\n                        for (let game of allGameData) {\n                            for (let category of game.attributes.categories) {\n                                if (category === votedcategory) {\n                                    attributeStillOccurs = true\n                                    break\n                                }\n                            }\n                        }\n                        if (!attributeStillOccurs) {\n                            delete activeThumbs.attributes[attrName][votedcategory]\n                        }\n                    }\n                } else if (attrName === 'mechanic') {\n                    for (let votedmechanic in activeThumbs.attributes[attrName]) {\n                        let attributeStillOccurs = false\n                        for (let game of allGameData) {\n                            for (let mechanic of game.attributes.mechanics) {\n                                if (mechanic === votedmechanic) {\n                                    attributeStillOccurs = true\n                                    break\n                                }\n                            }\n                        }\n                        if (!attributeStillOccurs) {\n                            delete activeThumbs.attributes[attrName][votedmechanic]\n                        }\n                    }\n                }\n            }\n\n            // NOTE: Update the active game list, but leave allGameData unchanged. It will serve as \n            // the cache of API data. Most downstream components only need to operate on game data \n            // for titles that are on the active list.\n\n            localStorage.setItem('activeGameList', JSON.stringify(activeGameList))\n            localStorage.setItem('localGameList', JSON.stringify(localGameList))\n            localStorage.setItem('activeThumbs', JSON.stringify(activeThumbs))\n\n            // update the master list of all preferences\n            let new_allThumbs = JSON.parse(JSON.stringify(prevState.allThumbs))\n            let new_pollThumbs = JSON.parse(JSON.stringify(activeThumbs))\n            new_allThumbs[prevState.activePoll] = new_pollThumbs\n            localStorage.setItem('allThumbs', JSON.stringify(new_allThumbs))\n\n            return { \n                activeGameList: activeGameList,\n                localGameList: localGameList,\n                allThumbs: new_allThumbs,\n                activeThumbs: activeThumbs,\n            }\n        })\n    }\n\n    async clearMyTitleVotesInPoll(poll_id, user) {\n        clearmyvotesApi(poll_id, user)\n            // .then(json => {\n            //     if (json.hasOwnProperty('id') === poll_id) {\n            //         this.onViewPoll(json)\n            //     }})\n    }\n\n    onDeleteAllTitles(event) {\n        this.setState(prevState => {\n            // FIXME: Implement poll editing. May not want to update active list here if we are currently looking at a poll.\n            let activeGameList = []\n            let localGameList = []\n            let activeThumbs = {\n                'attributes': {\n                    'players': {}, \n                    'weight': {}, \n                    'category': {}, \n                    'mechanic': {}\n                },\n                'titles': {\n                },\n                total_title_votes: 0,\n                total_attribute_votes: 0,\n            }\n            localStorage.setItem('activeGameList', JSON.stringify(activeGameList))\n            localStorage.setItem('localGameList', JSON.stringify(localGameList))\n            localStorage.setItem('activeThumbs', JSON.stringify(activeThumbs))\n\n            // update the master list of all preferences\n            let new_allThumbs = JSON.parse(JSON.stringify(prevState.allThumbs))\n            let new_pollThumbs = JSON.parse(JSON.stringify(activeThumbs))\n            new_allThumbs[prevState.activePoll] = new_pollThumbs\n            localStorage.setItem('allThumbs', JSON.stringify(new_allThumbs))\n\n            return { \n                activeGameList: activeGameList,\n                localGameList: localGameList,\n                allThumbs: new_allThumbs,\n                activeThumbs: activeThumbs,\n            }\n        })\n    }\n\n    totalTitleVotes(all_title_thumbs) {\n        let count = 0\n        Object.entries(all_title_thumbs)\n            .forEach( function(title) {\n                if (Object.keys(title[1]).includes('thumbsup')) {\n                    count += title[1]['thumbsup'].length\n                }\n            })\n        return  count\n    }\n\n    totalAttributeVotes(all_attribute_thumbs) {\n        let count = 0\n        Object.entries(all_attribute_thumbs)\n            .forEach( function(category) {\n                count += Object.values(category[1]).filter( vote => vote === 'thumbsup').length\n            })\n        return  count\n    }\n\n    async voteTitleInPoll(poll_id, title, newvote, user) {\n        voteinpollApi(poll_id, title, newvote, user)\n            // .then(json => {\n            //     if (json.hasOwnProperty('id') === poll_id) {\n            //         this.onViewPoll(json)\n            //     }})\n    }\n\n    onNewVote(event) {\n        const { votingtype, votingon, newvote } = Object.assign({}, event.currentTarget.dataset)\n\n        // title votes for polls are managed by the server\n        if (votingtype === 'title' && this.state.activePoll !== 'local') {\n\n            this.voteTitleInPoll(this.state.activePoll, votingon, newvote, this.state.user)\n\n        // attribute votes and all non-poll votes are kept on the client (state & local storage)\n        } else {\n\n            this.setState(prevState => {\n                let updated_activeThumbs = JSON.parse(JSON.stringify(prevState.activeThumbs))\n                // record a new title vote\n                if (votingtype === 'title') {\n                    if (updated_activeThumbs.titles.hasOwnProperty(votingon.toString())) {\n                        let updated_thistitle = JSON.parse(JSON.stringify(updated_activeThumbs.titles[votingon.toString()]))\n                        if (updated_thistitle.hasOwnProperty(newvote)\n                            && updated_thistitle[newvote].includes(prevState.user)) {\n                            updated_thistitle[newvote] = updated_thistitle[newvote].filter( user => user !== prevState.user )\n                        } else {\n                            let updated_vote = [prevState.user]\n                            updated_thistitle[newvote] = updated_vote\n                        }\n                        updated_activeThumbs.titles[votingon.toString()] = updated_thistitle\n                    } else {\n                        let updated_vote = {}\n                        updated_vote[newvote] = [prevState.user]\n                        updated_activeThumbs.titles[votingon] = updated_vote\n                    }\n                // record a new attribute vote\n                } else {\n                    if (updated_activeThumbs.attributes.hasOwnProperty(votingon)) {\n                        let updated_thisattribute = JSON.parse(JSON.stringify(updated_activeThumbs.attributes[votingon]))\n                        if (updated_thisattribute.hasOwnProperty(newvote)\n                            && updated_thisattribute[newvote].includes(prevState.user)) {\n                            updated_thisattribute[newvote] = updated_thisattribute[newvote].filter( user => user !== prevState.user )\n                        } else {\n                            let updated_vote = [prevState.user]\n                            updated_thisattribute[newvote] = updated_vote\n                        }\n                        updated_activeThumbs.attributes[votingtype][votingon] = updated_thisattribute\n                    } else {\n                        let updated_vote = {}\n                        updated_vote[newvote] = [prevState.user]\n                        updated_activeThumbs.attributes[votingtype][votingon] = updated_vote\n                    }\n                }\n                updated_activeThumbs.total_title_votes = this.totalTitleVotes(updated_activeThumbs.titles)\n                updated_activeThumbs.total_attribute_votes = this.totalAttributeVotes(updated_activeThumbs.attributes)\n                localStorage.setItem('activeThumbs', JSON.stringify(updated_activeThumbs))\n\n                // update the master list of all preferences\n                let new_allThumbs = JSON.parse(JSON.stringify(prevState.allThumbs))\n                let new_pollThumbs = JSON.parse(JSON.stringify(updated_activeThumbs))\n                new_allThumbs['local'] = new_pollThumbs\n                localStorage.setItem('allThumbs', JSON.stringify(new_allThumbs))\n\n                return { \n                    activeThumbs: updated_activeThumbs,\n                    allThumbs: new_allThumbs,\n                }\n            })\n\n        }\n    }\n\n    onViewPoll(poll) {\n\n        this.setState(prevState => {\n\n            let new_pollName = poll.name\n            localStorage.setItem('activePoll', JSON.stringify(new_pollName))\n\n            let new_activeGameList = [], new_activeThumbs = {}\n            if (poll.name === 'local') {\n                // disable poll: \n                //   1) replace the active game list with the pre-existing list of local titles\n                //   2) replace all active votes with the saved local title and attribute votes\n                new_activeGameList = [...prevState.localGameList]\n                new_activeThumbs = JSON.parse(JSON.stringify(prevState.allThumbs.local))\n            } else {\n                // enable poll: \n                //   1) replace the active game list with all of the titles from this poll\n                //   2) replace the active title votes with all of the title votes from this poll\n                //   3) refresh the active attribute votes with the saved local attribute votes\n                new_activeGameList = Object.keys(poll.pollThumbs.titles).map( title => parseInt(title) )\n                new_activeThumbs = JSON.parse(JSON.stringify(poll.pollThumbs))\n                new_activeThumbs.total_title_votes = poll.pollThumbs.total_title_votes\n                new_activeThumbs.attributes = JSON.parse(JSON.stringify(prevState.allThumbs.local.attributes))\n                new_activeThumbs.total_attribute_votes = prevState.allThumbs.local.total_attribute_votes\n            }\n            localStorage.setItem('activeGameList', JSON.stringify(new_activeGameList))\n            localStorage.setItem('activeThumbs', JSON.stringify(new_activeThumbs))\n\n            return { \n                activePoll: new_pollName,\n                activeGameList: new_activeGameList,\n                activeThumbs: new_activeThumbs,\n            }\n        })\n    }\n\n    onClearSectionVotes(event) {\n        const { votingtype } = Object.assign({}, event.target.dataset)\n\n        // title votes for polls are managed by the server\n        if (votingtype === 'all_titles' && this.state.activePoll !== 'local') {\n\n            this.clearMyTitleVotesInPoll(this.state.activePoll, this.state.user)\n\n        // attribute votes and all non-poll votes are kept on the client (state & local storage)\n        } else {\n\n            const clearVotes = {}\n            this.setState(prevState => {\n                let updated_activeThumbs = JSON.parse(JSON.stringify(prevState.activeThumbs))\n                if (votingtype === 'all_titles') {\n                    updated_activeThumbs.titles = clearVotes\n                    updated_activeThumbs.total_title_votes = this.totalTitleVotes(updated_activeThumbs.titles)\n                } else {\n                    if (votingtype === 'all_attributes') {\n                        updated_activeThumbs.attributes['players'] = clearVotes\n                        updated_activeThumbs.attributes['weight'] = clearVotes\n                        updated_activeThumbs.attributes['category'] = clearVotes\n                        updated_activeThumbs.attributes['mechanic'] = clearVotes\n                    } else {\n                        updated_activeThumbs.attributes[votingtype] = clearVotes\n                    }\n                    updated_activeThumbs.total_attribute_votes = this.totalAttributeVotes(updated_activeThumbs.attributes)\n                }\n                localStorage.setItem('activeThumbs', JSON.stringify(updated_activeThumbs))\n\n                // update the master list of all preferences\n                let new_allThumbs = JSON.parse(JSON.stringify(updated_activeThumbs))\n                let new_pollThumbs = JSON.parse(JSON.stringify(updated_activeThumbs))\n                new_allThumbs[prevState.activePoll] = new_pollThumbs\n                localStorage.setItem('allThumbs', JSON.stringify(new_allThumbs))\n\n                return { \n                    activeThumbs: updated_activeThumbs,\n                    allThumbs: new_allThumbs,\n                }\n            })\n\n        }\n    }\n\n    handleSortChange(event, value) {\n        this.setState(prevState => {\n            localStorage.setItem('sortOrder', JSON.stringify(value))\n            return {\n                sortOrder: value,\n            }\n        })\n    }\n\n    handleFilterChange(event, value) {\n        switch (value) {\n            case 'titles':\n                this.setState(prevState => {\n                    let filterTitles = !prevState.filterTitles\n                    localStorage.setItem('filterTitles', JSON.stringify(filterTitles))\n                    return { \n                        filterTitles: !this.state.filterTitles,\n                    }\n                })\n                break\n            case 'playercount':\n                this.setState(prevState => {\n                    let filterPlayercount = !prevState.filterPlayercount\n                    localStorage.setItem('filterPlayercount', JSON.stringify(filterPlayercount))\n                    return { \n                        filterPlayercount: !this.state.filterPlayercount,\n                    }\n                })\n                break\n            case 'weight':\n                this.setState(prevState => {\n                    let filterWeight = !prevState.filterWeight\n                    localStorage.setItem('filterWeight', JSON.stringify(filterWeight))\n                    return { \n                        filterWeight: !this.state.filterWeight,\n                    }\n                })\n                break\n            default:\n                break\n        }\n    }\n\n    onHamburger(event) {\n        // FIXME: (WIP) add nav functionality\n        alert('(FIXME/WIP) Add nav functionality here.')\n    }\n\n    render() {\n        const { windowWidth } = this.state\n        const styles = {\n            reallyNarrow: windowWidth < 650\n        }\n        const activeGameData = this.state.allGameData.filter( gameData => this.state.activeGameList.includes(gameData.id) )\n        const cachedGameTitles = this.getCachedGameTitles()\n        return (\n            <React.Fragment>\n            <div id=\"page-header\">\n                <button className=\"fa fa-button\" onClick={ (e) => this.onHamburger(e) }><FontAwesomeIcon icon={faBars}/>\n                    <img src={purpleMeeple} alt=\"Boardgameinator logo\" />\n                    <h1>{(this.state.activePoll === 'local') ? 'Boardgameinator' : this.state.activePoll}</h1>\n                </button>\n                <ViewControls \n                sortby={this.state.sortOrder}\n                onsortchange={this.handleSortChange}\n                filtertitles={this.state.filterTitles}\n                filterplayercount={this.state.filterPlayercount}\n                filterweight={this.state.filterWeight}\n                onfilterchange={this.handleFilterChange} />\n            </div>\n            <div id=\"content-wrapper\">\n                <GameList\n                    activegamedata={activeGameData} \n                    cachedgametitles={cachedGameTitles}\n                    onaddcachedtitle={this.onAddCachedTitle}\n                    onaddnewtitle={this.onAddNewTitle}\n                    oncachenewtitle={this.onCacheNewTitle}\n                    activethumbs={this.state.activeThumbs} \n                    sortby={this.state.sortOrder}\n                    filtertitles={this.state.filterTitles}\n                    filterplayercount={this.state.filterPlayercount}\n                    filterweight={this.state.filterWeight}\n                    ondelete={this.onDeleteTitle}\n                    ondeleteall={this.onDeleteAllTitles}\n                    onnewvote={this.onNewVote}\n                    onclearsectionvotes={this.onClearSectionVotes}\n                    activepoll={this.state.activePoll}\n                    onviewpoll={this.onViewPoll}\n                    reallynarrow={styles.reallyNarrow} \n                    user={this.state.user} />\n            </div>\n            </React.Fragment>\n        )\n    }\n}\n\nBoardgameinator.propTypes = {\n    location: PropTypes.object.isRequired,\n}","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Route, BrowserRouter as Router } from 'react-router-dom'\nimport './index.css'\nimport { Boardgameinator } from './Boardgameinator'\n\n\nconst routing = (\n    <Router>\n        <div>\n            <Route path=\"/\" component={Boardgameinator} />\n        </div>\n    </Router>\n)\n\nReactDOM.render(routing, document.getElementById('root'))"],"sourceRoot":""}