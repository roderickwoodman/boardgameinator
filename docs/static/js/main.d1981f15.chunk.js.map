{"version":3,"sources":["img/purple-meeple-64.png","img/bgg-logo-50.png","ViewControls.js","Api.js","GameLibrary.js","AddGames.js","VotingSection.js","VoteAttributes.js","VoteTitles.js","ImportPoll.js","MainControls.js","Thumbnail.js","GameCardFront.js","GameCardBack.js","GameList.js","Boardgameinator.js","index.js"],"names":["module","exports","ViewControls","props","_useState","useState","_useState2","Object","slicedToArray","sortIsOpen","setSortIsOpen","_useState3","_useState4","filterIsOpen","setFilterIsOpen","hideSortModal","hideFilterModal","react_default","a","createElement","Fragment","id","className","onClick","index_es","icon","faSortAmountDown","Modal","size","show","onHide","ModalBody","concat","sortby","e","onsortchange","ModalFooter","faFilter","filtertitles","onfilterchange","filterplayercount","filterweight","searchApi","title","url","replace","fetch","then","searchResponse","text","searchText","parseSearchApiXml","gamedataApi","gameId","gamedataResponse","gamedataText","str","game","attributes","categories","mechanics","gamesHtmlCollection","DOMParser","parseFromString","getElementsByTagName","makeReadable","parseIntoParagraphs","length","parseInt","childNodes","forEach","node","nodeType","Node","ELEMENT_NODE","tagName","getAttribute","innerHTML","push","childNode","grandchildNode","weight","parseFloat","average_weight","weightname","comment","author","newComment","hasOwnProperty","link","newVideo","keys","parseGamedataApiXml","resp_str","games","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_loop","matchedGame","value","_iterator","Symbol","iterator","next","done","err","return","split","voteinpollApi","poll_id","game_id","newvote","user","console","log","clearmyvotesApi","deletetitleinpollApi","withoutYear","getNonexactSearchResults","_ref","asyncToGenerator","regenerator_default","mark","_callee","titles","titleData","wrap","_context","prev","Promise","all","map","gameTitle","sent","abrupt","stop","_x","apply","this","arguments","getGamedataResults","_ref2","_callee2","game_ids","gamedata","_context2","_x2","getGamedataForIds","_ref3","_callee3","_context3","_x3","makeGamesActive","_ref4","_callee4","cachedgametitles","game_titles","status","titles_to_api_lookup","unambiguous_ids","ambiguous_ids","given_game_ids","game_titles_that_are_numbers","gamedata_for_titles_that_are_numbers","game_titles_without_numbers","all_cached_disambiguous_titles","all_cached_ambiguous_titles_entries","all_cached_ambiguous_titles","all_cached_ids","all_potential_titles","ids_for_gamedata_api","_context4","does_not_exist","cached_active","cached_inactive","ambiguous_cached","unambiguous_gamedata","unambiguous_tocache","ambiguous_gamedata","filter","isNaN","includes","title_from_id","data","name","entries","cached_title","entry","ambiguous_name","title_info","JSON","parse","stringify","cachedgame","user_title","active","disambiguation","ambiguous_entry","sort","b","year_published","all_results_for_title","idx","all_versions_of_this_title","one_similar_result","new_disambiguation","this_title_version","this_gamedata","new_gamedata","new_unambiguous_tocache_bundle","new_ambiguous_gamedata_bundle","_x4","_x5","validateUserTitles","cached_titles","user_titles","displayNameForMessages","validation_result","keep_modal_open","result","new_addingGames","new_messages","game_id_txt","title_count_already_active","title_names_already_active","active_title","plural_txt","title_count_does_not_exist","title_names_does_not_exist","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","nonexistent_title","_plural_txt","title_count_to_add","title_names_to_add","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","inactive_title","_i","_Object$keys","unambiguous_new_title","other_txt","_plural_txt2","unambiguous_name","values","games_to_activate","gamedata_to_activate","ambiguous_title_count","selected_games_to_activate","ambiguous_cached_title_info","ambiguous_cachedids_arr","message_str","ambiguous","ambiguous_title_info","ambiguous_gamedata_arr","t0","finish","t1","t2","doAddGames","add_fn","AddGames","userTitlesInput","setUserTitlesInput","statusMessages","setStatusMessages","_useState5","_useState6","addingGames","setAddingGames","_useState7","_useState8","selectedGamesToActivate","setSelectedGamesToActivate","useEffect","_addRoutedGames","routedgames","newMessages","messages","updateaddinggames","addRoutedGames","newStatusMessages","toConsumableArray","handleSubmit","event","delimiter","num_nonblank_lines","userTitles","preventDefault","line","trim","Array","from","Set","addButton","message","classes","new_classes","key","title_to_select","base_name_to_select","updated_selectedGamesToActivate","selected_title","updated_addingGames","selectUnambiguousTitle","apply_button","onChange","target","placeholder","required","i","toLowerCase","startsWith","faLongArrowAltRight","VotableElement","elementStyle","vote","preferences","votingon","thumbsup","votable_text","votingonlabel","attrcount","suppresslowcounts","faThumbsUp","data-votingtype","votingtype","data-votingon","data-newvote","onnewvote","VotingSection","origVotables","counts","orderedVotables","alphabetize","attrCount","attrName","elementid","index","VotingSection_VotableElement","sectionthumbs","type","attrId","VoteAttributes","votingOn","setVotingOn","handleSectionChange","newSelection","attributestally","playercounts","countsObj","activegamedata","playercount","min_players","max_players","playerCountAttr","countsArray","elementTag","newCount","slice","tallyPlayerCounts","weightcounts","average_weight_name","_weights","tallyWeightCounts","categorycounts","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","category","tallyCategoryCounts","mechaniccounts","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","mechanic","tallyMechanicCounts","TransitionGroup","CSSTransition","in","appear","timeout","classNames","VotingSection_VotingSection","attrthumbs","VoteTitles","titlethumbs","hardcoded_polls","pollThumbs","5782","266192","28023","218603","194626","winners","total_title_votes","175914","31481","199478","9209","141791","ImportPoll","activepoll","inputValue","setInputValue","handleChange","onviewpoll","polls","htmlFor","checked","poll","gamecount","votecount","MainControls","addIsOpen","setAddIsOpen","addErrorIsOpen","setAddErrorIsOpen","voteAttributesIsOpen","setVoteAttributesIsOpen","voteAttributesErrorIsOpen","setVoteAttributesErrorIsOpen","_useState9","_useState10","voteTitlesIsOpen","setVoteTitlesIsOpen","_useState11","_useState12","importPollIsOpen","setImportPollIsOpen","closeMyModal","showAddModal","hideAddModal","showAddErrorModal","hideAddErrorModal","showVoteAttributesModal","hideVoteAttributesModal","showVoteAttributesErrorModal","hideVoteAttributesErrorModal","showVoteTitlesModal","hideVoteTitlesModal","showImportPollModal","hideImportPollModal","updateAddingGames","new_gamedata_to_activate","new_gamedata_to_cache","possibilities","possible_gamedata","onaddnewtitles","oncachenewtitles","cached_games_to_activate","possible_game","onaddcachedtitles","num_title_votes","activethumbs","num_attr_votes","players","handleCopyToClipboard","window","location","href","clipboardElement","document","getElementById","select","execCommand","inlineStyle","position","left","top","backdrop","AddGames_AddGames","closemymodal","VoteTitles_VoteTitles","ondeleteall","disabled","onclearsectionvotes","VoteAttributes_VoteAttributes","ImportPoll_ImportPoll","faClipboard","style","defaultValue","Thumbnail","getAttributeCountLabel","attributecount","reallynarrow","printVoteCount","ThumbsUpSolid","mythumbcounts","extra_text","my_rank","printTitleTally","src","alt","ThumbsUpRegular","GameCardFront","getClasses","section","getWeightVote","getPlayersVote","myminplayers","mymaxplayers","votedPlayercount","voted","myweight","votedWeight","thumbnail","yearpublished","ontoggleinspection","ondelete","upvoted_categories","upvoted_mechanics","upvoted_attributes","faTrash","faInfoCircle","Thumbnail_Thumbnail","faUserFriends","min_playtime","max_playtime","faClock","getWeightName","Description","paragraphs","description","paragraph","Comments","comments","Videos","videos","video","rel","GameCardBack","inspectingsection","oninspectionsectionchange","GameCardBack_Description","GameCardBack_Comments","GameCardBack_Videos","defaultProps","GameFooter","gameid","bggLogo","GamecardOverlay","poll_rank","Game","gamecard","gamecardClasses","idunderinspection","GameCardFront_GameCardFront","GameCardBack_GameCardBack","gamecard_overlay","GameList_GamecardOverlay","GameList_GameFooter","GameList","idUnderInspection","setIdUnderInspection","inspectingSection","setInspectingSection","stored_idunderinspection","localStorage","getItem","votecounts","handleInspectionChange","setItem","handleInspectionSectionChange","all_thumbcounts","all_vote_counts","new_vote_counts","toString","thumbsup_data","getTotalVotes","sortedFilteredGames","favoredWeights","weights","getThumbedWeights","filterWeight","favoredPlayercounts","getThumbedPlayercounts","filterPlayercount","favoredTitles","_Object$entries","getThumbedTitles","filterTitles","MainControls_MainControls","GameList_Game","Boardgameinator","_React$Component","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","gamedataVersion","state","activeGameList","activePoll","allGameData","activeThumbs","total_attribute_votes","allThumbs","local","localGameList","routedGames","sortOrder","windowWidth","windowHeight","totalTitleVotes","bind","assertThisInitialized","totalAttributeVotes","getCachedGameTitles","gameHasBeenAdded","gameSupportsPlayercount","voteTitleInPoll","clearMyTitleVotesInPoll","deleteTitleInPoll","onAddCachedTitles","onAddNewTitles","onCacheNewTitles","onNewVote","onDeleteTitle","onDeleteAllTitles","onClearSectionVotes","onViewPoll","handleSortChange","handleFilterChange","extractYearFromTitle","updateDimensions","onHamburger","inherits","createClass","new_list","addto_list","path","search","query_string","qs","stored_localGameList","setState","stored_activeGameList","stored_activePoll","update_routedGames","stored_allThumbs","stored_activeThumbs","stored_sortorder","stored_filtertitles","stored_filterplayercount","stored_filterweight","addEventListener","removeEventListener","innerWidth","innerHeight","matchesDate","match","matchesId","self","new_cache_info","gameSet","prevState","game_data","newGameData_arr","now","Date","each_newGameData","getTime","number","_this2","votedplayercount","attributeStillOccurs","votedweight","votedcategory","votedmechanic","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","new_allThumbs","new_pollThumbs","_clearMyTitleVotesInPoll","all_title_thumbs","count","all_attribute_thumbs","_voteTitleInPoll","_x6","_deleteTitleInPoll","title_id","_x7","_x8","_x9","_this3","_Object$assign","assign","currentTarget","dataset","updated_activeThumbs","updated_thistitle","updated_vote","updated_thisattribute","new_pollName","new_activeGameList","new_activeThumbs","_this4","clearVotes","_this5","alert","_this6","styles","reallyNarrow","activeGameData","gameData","cachedGameTitles","faBars","purpleMeeple","ViewControls_ViewControls","GameList_GameList","React","Component","routing","react_router_dom","react_router","component","ReactDOM","render"],"mappings":"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","file":"static/js/main.d1981f15.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport Modal from 'react-bootstrap/Modal'\nimport ModalBody from 'react-bootstrap/ModalBody'\nimport ModalFooter from 'react-bootstrap/ModalFooter'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSortAmountDown } from '@fortawesome/free-solid-svg-icons'\nimport { faFilter } from '@fortawesome/free-solid-svg-icons'\n\nexport const ViewControls = (props) => {\n\n    const [sortIsOpen, setSortIsOpen] = useState(false)\n    const [filterIsOpen, setFilterIsOpen] = useState(false)\n\n    const showSortModal = () => {\n        setFilterIsOpen(false)\n        setSortIsOpen(true)\n    }\n\n    const hideSortModal = () => {\n        setSortIsOpen(false)\n    }\n\n    const showFilterModal = () => {\n        setSortIsOpen(false)\n        setFilterIsOpen(true)\n    }\n\n    const hideFilterModal = () => {\n        setFilterIsOpen(false)\n    }\n\n    return (\n        <React.Fragment>\n        <div id=\"view-controls\">\n\n            <button className=\"fa fa-button\" onClick={showSortModal}><FontAwesomeIcon icon={faSortAmountDown}/></button>\n            <Modal size=\"md\" show={sortIsOpen} onHide={hideSortModal}>\n                <ModalBody>\n                    <div id=\"gamesorting-controls\">\n                        <h4>Order the board games by the...</h4>\n                        <button className={`default-secondary-styles ${(props.sortby === 'maxtitlevotes') ? 'active-button' : ''}`} onClick={ (e) => props.onsortchange(e, \"maxtitlevotes\") }>most title votes</button>\n                        <button className={`default-secondary-styles ${(props.sortby === 'maxattrvotes') ? 'active-button' : ''}`} onClick={ (e) => props.onsortchange(e, \"maxattrvotes\") }>most attribute votes</button>\n                        <button className={`default-secondary-styles ${(props.sortby === 'minplaytime') ? 'active-button' : ''}`} onClick={ (e) => props.onsortchange(e, \"minplaytime\") }>shortest playtime</button>\n                        <button className={`default-secondary-styles ${(props.sortby === 'maxplayers') ? 'active-button' : ''}`} onClick={ (e) => props.onsortchange(e, \"maxplayers\") }>most players</button>\n                    </div>\n                </ModalBody>\n                <ModalFooter> \n                    <button className=\"default-primary-styles\" onClick={hideSortModal}>Close</button>\n                </ModalFooter>\n            </Modal>\n\n            <button className=\"fa fa-button\" onClick={showFilterModal}><FontAwesomeIcon icon={faFilter}/></button>\n            <Modal size=\"md\" show={filterIsOpen} onHide={hideFilterModal}>\n                <ModalBody>\n                    <div id=\"gamefiltering-controls\">\n                        <h4>Show only the board games that support...</h4>\n                        <button className={`default-secondary-styles ${(props.filtertitles) ? 'active-button' : ''}`} onClick={ (e) => props.onfilterchange(e, \"titles\") }>upvoted titles</button>\n                        <button className={`default-secondary-styles ${(props.filterplayercount) ? 'active-button' : ''}`} onClick={ (e) => props.onfilterchange(e, \"playercount\") }>upvoted player counts</button>\n                        <button className={`default-secondary-styles ${(props.filterweight) ? 'active-button' : ''}`} onClick={ (e) => props.onfilterchange(e, \"weight\") }>upvoted weights</button>\n                    </div>\n                </ModalBody>\n                <ModalFooter> \n                    <button className=\"default-primary-styles\" onClick={hideFilterModal}>Close</button>\n                </ModalFooter>\n            </Modal>\n\n        </div>\n        </React.Fragment>\n    )\n}\n\nViewControls.propTypes = {\n    sortby: PropTypes.string.isRequired,\n    onsortchange: PropTypes.func.isRequired,\n    filtertitles: PropTypes.bool.isRequired,\n    filterplayercount: PropTypes.bool.isRequired,\n    filterweight: PropTypes.bool.isRequired,\n    onfilterchange: PropTypes.func.isRequired,\n}","export function exactSearchApi(title) {\n    let url = 'https://boardgamegeek.com/xmlapi2/search?type=boardgame&exact=1&query=' + title.replace(' ', '+')\n    return (\n        fetch(url)\n        .then(exactSearchResponse => exactSearchResponse.text())\n        .then(exactSearchText => parseSearchApiXml(exactSearchText))\n    )\n}\n\nexport function searchApi(title) {\n    let url = 'https://boardgamegeek.com/xmlapi2/search?type=boardgame&query='+ title.replace(' ', '+')\n    return (\n        fetch(url)\n        .then(searchResponse => searchResponse.text())\n        .then(searchText => parseSearchApiXml(searchText))\n    )\n}\n\nexport function gamedataApi(gameId) {\n    let url =  'https://boardgamegeek.com/xmlapi2/thing?type=boardgame&stats=1&ratingcomments=1&videos=1&id=' + gameId\n    return (\n        fetch(url)\n        .then(gamedataResponse => gamedataResponse.text())\n        .then(gamedataText => parseGamedataApiXml(gamedataText))\n    )\n}\n\nfunction parseSearchApiXml(resp_str) {\n    let games = []\n    let responseDoc = new DOMParser().parseFromString(resp_str, 'application/xml')\n    let gamesHtmlCollection = responseDoc.getElementsByTagName(\"item\")\n    for (let matchedGame of gamesHtmlCollection) {\n        let game = {}\n        game['id'] = parseInt(matchedGame.id)\n        matchedGame.childNodes.forEach(\n            function (node) {\n                if (node.nodeType === Node.ELEMENT_NODE) {\n                    if ( (node.tagName === \"name\") && (node.getAttribute(\"type\") === \"primary\") ) {\n                        game[\"name\"] = node.getAttribute(\"value\")\n                    }\n                    if (node.tagName === \"yearpublished\") {\n                        game[\"year_published\"] = parseInt(node.getAttribute(\"value\"))\n                    }\n                }\n            }\n        )\n        if (\"name\" in game) {\n            games.push(game)\n        }\n        if (!(\"year_published\" in game)) {\n            game[\"year_published\"] = null\n        }\n    }\n    return games\n}\n\nfunction parseGamedataApiXml(str) {\n    let game = {\n        \"attributes\": {\n            \"categories\": [], \n            \"mechanics\": []\n        }\n    }\n    let responseDoc = new DOMParser().parseFromString(str, \"application/xml\")\n    let gamesHtmlCollection = responseDoc.getElementsByTagName(\"item\")\n    let makeReadable = parseIntoParagraphs\n    if (gamesHtmlCollection.length) {\n        game[\"id\"] = parseInt(gamesHtmlCollection[0].id)\n        gamesHtmlCollection[0].childNodes.forEach(\n            function (node) {\n                if (node.nodeType === Node.ELEMENT_NODE) {\n                    if ( (node.tagName === \"name\") && (node.getAttribute(\"type\") === \"primary\") ) {\n                        game[\"name\"] = node.getAttribute(\"value\")\n                    }\n                    if (node.tagName === \"thumbnail\") {\n                        game[\"thumbnail\"] = node.innerHTML\n                    }\n                    if (node.tagName === \"description\") {\n                        game[\"description\"] = makeReadable(node.innerHTML)\n                    }\n                    if (node.tagName === \"yearpublished\") {\n                        game[\"year_published\"] = parseInt(node.getAttribute(\"value\"))\n                    }\n                    if (node.tagName === \"minplayers\") {\n                        game.attributes[\"min_players\"] = parseInt(node.getAttribute(\"value\"))\n                    }\n                    if (node.tagName === \"maxplayers\") {\n                        game.attributes[\"max_players\"] = parseInt(node.getAttribute(\"value\"))\n                    }\n                    if (node.tagName === \"minplaytime\") {\n                        game.attributes[\"min_playtime\"] = parseInt(node.getAttribute(\"value\"))\n                    }\n                    if (node.tagName === \"maxplaytime\") {\n                        game.attributes[\"max_playtime\"] = parseInt(node.getAttribute(\"value\"))\n                    }\n                    if ( (node.tagName === \"link\")\n                        && (node.getAttribute(\"type\") === \"boardgamecategory\") ) {\n                        game.attributes.categories.push(node.getAttribute(\"value\"))\n                    }\n                    if ( (node.tagName === \"link\")\n                        && (node.getAttribute(\"type\") === \"boardgamemechanic\") ) {\n                        game.attributes.mechanics.push(node.getAttribute(\"value\"))\n                    }\n                    if ( node.tagName === \"statistics\") {\n                        node.childNodes.forEach(\n                            function (childNode) {\n                                if (childNode.tagName === \"ratings\") {\n                                    childNode.childNodes.forEach(\n                                        function (grandchildNode) {\n                                            if (grandchildNode.tagName === \"numweights\") {\n                                                game[\"num_weights\"] = grandchildNode.getAttribute(\"value\")\n                                            }\n                                            if (grandchildNode.tagName === \"averageweight\") {\n                                                game.attributes[\"average_weight\"] = grandchildNode.getAttribute(\"value\")\n                                                let weight = parseFloat(game.attributes.average_weight)\n                                                let weightname = null\n                                                if (weight < 1.5) {\n                                                    weightname = \"light\"\n                                                } else if (weight < 2.5) {\n                                                    weightname = \"medium light\"\n                                                } else if (weight < 3.5) {\n                                                    weightname = \"medium\"\n                                                } else if (weight < 4.5) {\n                                                    weightname = \"medium heavy\"\n                                                } else {\n                                                    weightname = \"heavy\"\n                                                }\n                                                game.attributes[\"average_weight_name\"] = weightname\n                                            }\n                                        }\n                                    )\n                                }\n                            }\n                        )\n                    }\n                    if ( node.tagName === \"comments\") {\n                        node.childNodes.forEach(\n                            function (childNode) {\n                                if (childNode.tagName === \"comment\") {\n                                    let comment = childNode.getAttribute(\"value\")\n                                    if (comment.length > 30 && comment.length < 800) {\n                                        let author = childNode.getAttribute(\"username\")\n                                        let newComment = {\"comment\": comment, \"author\": author}\n                                        if (game.hasOwnProperty(\"comments\")) {\n                                            game[\"comments\"].push(newComment)\n                                        } else {\n                                            game[\"comments\"] = [newComment]\n                                        }\n                                    }\n                                }\n                    })}\n                    if ( node.tagName === \"videos\") {\n                        node.childNodes.forEach(\n                            function (childNode) {\n                                if ((childNode.tagName === \"video\") \n                                    && (childNode.getAttribute(\"language\") === \"English\")\n                                    && (childNode.getAttribute(\"category\") === \"review\")) {\n                                    let title = childNode.getAttribute(\"title\")\n                                    let link = childNode.getAttribute(\"link\")\n                                    let author = childNode.getAttribute(\"username\")\n                                    let newVideo = {\"title\": title, \"link\": link, \"author\": author}\n                                    if (game.hasOwnProperty(\"videos\")) {\n                                        game[\"videos\"].push(newVideo)\n                                    } else {\n                                        game[\"videos\"] = [newVideo]\n                                    }\n                                }\n                    })}\n                }\n            }\n        )\n    }\n    if ( Object.keys(game) && (!game.hasOwnProperty(\"year_published\") || game[\"year_published\"] === 0) ) {\n        game[\"year_published\"] = null\n    }\n    return game\n}\n\nfunction parseIntoParagraphs(str) {\n    let paragraphs = str\n      .replace(/&amp;/g, '&')\n      .replace(/&rsquo;/g, \"'\")\n      .replace(/&quot;/g, '\"')\n      .replace(/&ndash;/g, '–')\n      .replace(/&mdash;/g, '–')\n      .replace(/&nbsp;/g, ' ')\n      .split('&#10;');\n    return paragraphs;\n}\n\nexport function voteinpollApi(poll_id, game_id, newvote, user) {\n    console.log('FIXME (WIP): implement a \"' + newvote + '\" vote by ' + user + ' in poll #' + poll_id + ' for game #' + game_id + '.')\n    return { }\n}\n\nexport function clearmyvotesApi(poll_id, user) {\n    console.log('FIXME (WIP): implement clearing all title votes by ' + user + ' in poll #' + poll_id + '.')\n    return { }\n}\n\nexport function deletetitleinpollApi(poll_id, game_id, user) {\n    console.log('FIXME (WIP): implement deleting game #' + game_id + ' in poll #' + poll_id + ' by user ' + user + '.')\n    return { }\n}\n","import { searchApi, gamedataApi } from './Api.js'\n\nconst withoutYear = (title) => {\n    if (typeof title === 'string' && title.length) {\n        return title.replace(/(( +)\\(([-#]?)\\d{1,6}\\))$/, '')\n    } else {\n        return title\n    }\n}\n\nconst getNonexactSearchResults = async function (titles) {\n    const titleData = await Promise.all(\n        titles.map( function(gameTitle) {\n            return (\n                searchApi(withoutYear(gameTitle)) // query the API without the disambiguation\n    )}))\n    return titleData\n}\n\nconst getGamedataResults = async function (game_ids) {\n    const gamedata = await Promise.all(\n        game_ids.map( function(game_id) {\n            return (\n                gamedataApi(game_id) // query the API with the BGG game ID\n    )}))\n    return gamedata\n}\n\n// for gamedata requests by ID, get gamedata for all games with the same title\nconst getGamedataForIds = async function (game_ids) {\n    return await getGamedataResults(game_ids)\n}\n\n// This is a helper function for the data collection needed to check and to add games to the \n// library/cache. It will do the following:\n//\n//   - VERIFY TITLE EXISTENCE (API)\n//   - VERIFY TITLE PRESENCE IN CACHE\n//   - VERIFY TITLE ACTIVE STATUS\n//   - COLLECT GAME DATA FOR UNCACHED TITLES (API)\n//\n// This function does not update either the library/cache or the active games list, so that these\n// operations can be coordinated by the calling function instead. This is necessary since many of\n// the titles in this function's input list may not be ready to be added because the numerous\n// accepted user input formats and multiple games having the same title can lead to ambiguity in\n// which games the user really wants to make active. \nexport const makeGamesActive = async (cachedgametitles, game_titles) => {\n\n    let status = {\n        does_not_exist: [],               // INPUT ERROR: bad title string\n        cached_active: [],                // INPUT ERROR: title is already active\n        given_game_ids: {},              // input title string is actually an ID\n        cached_inactive: [],              // activate this game from already-cached data\n        ambiguous_cached: {},             // cannot activate the game yet\n        unambiguous_gamedata: {},         // add this new game data to cache and activate the game\n        unambiguous_tocache: {},          // add this new game data to cache\n        ambiguous_gamedata: {},           // add this new game data to cache, but cannot activate the game yet\n    }\n    let titles_to_api_lookup = []\n    let unambiguous_ids = []\n    let ambiguous_ids = []\n    let given_game_ids = {}\n\n    let game_titles_that_are_numbers = game_titles.filter(title => !isNaN(parseInt(title)))\n    let gamedata_for_titles_that_are_numbers = await getGamedataForIds(game_titles_that_are_numbers)\n    let game_titles_without_numbers = game_titles.map(function(title) {\n        if (game_titles_that_are_numbers.includes(title)) {\n            let title_from_id = gamedata_for_titles_that_are_numbers.filter(data => data.id===parseInt(title))[0].name\n            status.given_game_ids[title_from_id] = parseInt(title)\n            return title_from_id\n        } else {\n            return title \n        }\n    })\n\n    // CACHE LOOKUP (for all user titles)\n    let all_cached_disambiguous_titles = Object.keys(cachedgametitles)\n    let all_cached_ambiguous_titles_entries = Object.entries(cachedgametitles).filter(cached_title => cached_title[0] !== cached_title[1].name)\n    let all_cached_ambiguous_titles = {}\n    all_cached_ambiguous_titles_entries.forEach(function(entry) {\n        let ambiguous_name = withoutYear(entry[0])\n        let title_info = JSON.parse(JSON.stringify(entry[1]))\n        if (all_cached_ambiguous_titles.hasOwnProperty(ambiguous_name)) {\n            all_cached_ambiguous_titles[ambiguous_name].push(title_info)\n        } else {\n            all_cached_ambiguous_titles[ambiguous_name] = [ title_info ]\n        }\n    })\n    let all_cached_ids = Object.entries(cachedgametitles).map( cachedgame => parseInt(cachedgame[1].id) )\n    game_titles_without_numbers.forEach(function(user_title) {\n\n        // user_title was found verbatim in the cache\n        if (all_cached_disambiguous_titles.includes(user_title)) {\n            if (cachedgametitles[user_title].active) {\n                status.cached_active.push(user_title)\n            } else { \n                status.cached_inactive.push(user_title)\n            }\n\n        // user_title with year disambiguation added was found in the cache\n        } else if (all_cached_ambiguous_titles.hasOwnProperty(user_title)) {\n            let disambiguation = JSON.parse(JSON.stringify(all_cached_ambiguous_titles[user_title]))\n            status.ambiguous_cached[user_title] = disambiguation\n\n        // user_title with year disambiguation removed was found in the cache\n        } else if (all_cached_disambiguous_titles.includes(withoutYear(user_title))) {\n            if (cachedgametitles[withoutYear(user_title)].active) {\n                status.cached_active.push(withoutYear(user_title))\n            } else { \n                status.cached_inactive.push(withoutYear(user_title))\n            }\n\n        // user_title is actually an ID that was found in the cache \n        } else if (all_cached_ids.includes(parseInt(user_title))) {\n            if (Object.entries(cachedgametitles).filter( cachedgame => cachedgame[1].id === parseInt(user_title) )[0][1].active) {\n                status.cached_active.push(user_title)\n            } else { \n                status.cached_inactive.push(user_title)\n            }\n\n        // user_title is not immediately known, collect title info via API\n        } else {\n            titles_to_api_lookup.push(user_title)\n        }\n    })\n    // sort ambiguous cached titles by year published, for their eventual displaying\n    Object.entries(status.ambiguous_cached).forEach(function(ambiguous_entry) {\n        status.ambiguous_cached[ambiguous_entry[0]] = ambiguous_entry[1].sort( (a,b) => (a.year_published < b.year_published) ? -1 : 1 )\n    })\n\n    // API LOOKUP FOR TITLE INFO (for user titles that were not found in the cache)\n    //   example disambiguation generated in \"all_potential_titles\" variable:\n    //     [ [{id: 2411, name:'Mount Everest', year_published: 1980},\n    //     {id: 147624, name:'Mount Everest', year_published: 2013}] ]\n    let all_potential_titles = await getNonexactSearchResults(titles_to_api_lookup)\n    all_potential_titles.forEach(function (all_results_for_title, idx) {\n        let all_versions_of_this_title = []\n        all_results_for_title.forEach(function (one_similar_result) {\n            let new_disambiguation\n            if (one_similar_result.name === titles_to_api_lookup[idx]) {\n                new_disambiguation = JSON.parse(JSON.stringify(one_similar_result))\n                all_versions_of_this_title.push(new_disambiguation)\n            }\n        })\n        all_potential_titles[idx] = all_versions_of_this_title\n    })\n\n    // BUNDLE EACH TITLE INTO ONE AND ONLY ONE STATUS BUCKET \n    titles_to_api_lookup.forEach(function (user_title, idx) {\n\n        // title exists\n        if (all_potential_titles[idx].length > 0) {\n\n            // convert to IDs for the game data API\n            all_potential_titles[idx].forEach(function (this_title_version) {\n                let game_id = parseInt(this_title_version.id)\n                if (all_potential_titles[idx].length === 1) {\n                    unambiguous_ids.push(game_id)\n                } else {\n                    ambiguous_ids.push(game_id)\n                }\n            })\n\n        // title does not exist\n        } else {\n            status.does_not_exist.push(user_title)\n        }\n\n    })\n\n    // API RETRIEVAL OF GAME DATA (for all uncached user titles)\n    let ids_for_gamedata_api = [ ...unambiguous_ids, ...ambiguous_ids ]\n    let all_new_gamedata = await getGamedataResults(ids_for_gamedata_api)\n    all_new_gamedata.forEach(function (this_gamedata) {\n        let new_gamedata = JSON.parse(JSON.stringify(this_gamedata))\n\n        // collect game data for unambiguous titles separately\n        if (unambiguous_ids.includes(this_gamedata.id)) {\n            new_gamedata['unambiguous_name'] = this_gamedata.name\n            status.unambiguous_gamedata[this_gamedata.name] = new_gamedata\n\n        // collect game data for ambiguous titles separately\n        } else if (ambiguous_ids.includes(this_gamedata.id)) {\n            new_gamedata['unambiguous_name'] = this_gamedata.name + ' (' + this_gamedata.year_published + ')'\n\n            // if user supplied a game ID originally, but its title was ambiguous, apply that disambiguation\n            if (given_game_ids.hasOwnProperty(this_gamedata.name)) {\n                if (given_game_ids[this_gamedata.name] === this_gamedata.id) {\n                    status.unambiguous_gamedata[this_gamedata.name] = new_gamedata\n                } else {\n                    if (status.unambiguous_tocache.hasOwnProperty(this_gamedata.name)) {\n                        status.unambiguous_tocache[this_gamedata.name].push(new_gamedata)\n                    } else {\n                        let new_unambiguous_tocache_bundle = []\n                        new_unambiguous_tocache_bundle.push(new_gamedata) \n                        status.unambiguous_tocache[this_gamedata.name] = new_unambiguous_tocache_bundle\n                    }\n                }\n\n            // if user supplied an ambiguous title originally, game data remains ambiguous for now\n            } else {\n                if (status.ambiguous_gamedata.hasOwnProperty(this_gamedata.name)) {\n                    status.ambiguous_gamedata[this_gamedata.name].push(new_gamedata)\n                } else {\n                    let new_ambiguous_gamedata_bundle = []\n                    new_ambiguous_gamedata_bundle.push(new_gamedata) \n                    status.ambiguous_gamedata[this_gamedata.name] = new_ambiguous_gamedata_bundle\n                }\n            }\n        }\n\n    })\n    // sort ambiguous titles by year published, for their eventual displaying\n    Object.entries(status.ambiguous_gamedata).forEach(function(ambiguous_entry) {\n        status.ambiguous_gamedata[ambiguous_entry[0]] = ambiguous_entry[1].sort( (a,b) => (a.year_published < b.year_published) ? -1 : 1 )\n    })\n\n    return status\n\n}","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faLongArrowAltRight } from '@fortawesome/free-solid-svg-icons'\nimport { makeGamesActive } from './GameLibrary.js'\n\n\nconst withoutYear = (title) => {\n    if (typeof title === 'string' && title.length) {\n        return title.replace(/(( +)\\(([-#]?)\\d{1,6}\\))$/, '')\n    } else {\n        return title\n    }\n}\n\nconst validateUserTitles = async function (cached_titles, user_titles) { \n\n    const displayNameForMessages = function (title) {\n        let all_cached_ids = Object.entries(cached_titles).map( cachedgame => parseInt(cachedgame[1].id) )\n        if (all_cached_ids.includes(parseInt(title))) {\n            let unambiguous_name = Object.values(cached_titles).filter( cachedgame => cachedgame.id === parseInt(title) )[0].unambiguous_name\n            return '[#' + title + '] ' + unambiguous_name\n        } else {\n            return title\n        }\n    }\n\n    let validation_result = {}, keep_modal_open = false\n\n    // Collect cache information and new game data if necessary\n    let result = await makeGamesActive(cached_titles, user_titles)\n\n    // store the user input results in state\n    let new_addingGames = {\n        games_to_activate: JSON.parse(JSON.stringify(result.cached_inactive)),\n        gamedata_to_activate: JSON.parse(JSON.stringify(result.unambiguous_gamedata)),\n        ambiguous_cached: JSON.parse(JSON.stringify(result.ambiguous_cached)),\n        ambiguous_gamedata: JSON.parse(JSON.stringify(result.ambiguous_gamedata)),\n        ambiguous_title_count: Object.keys(result.ambiguous_cached).length + Object.keys(result.ambiguous_gamedata).length,\n        selected_games_to_activate: [],\n    }\n\n    // Prompt the user for disambiguation\n    let new_messages = []\n    Object.entries(result.ambiguous_cached).forEach(function(ambiguous_cached_title_info) {\n        let ambiguous_cachedids_arr = JSON.parse(JSON.stringify(ambiguous_cached_title_info[1]))\n        new_messages.push({ message_str: 'Which version of \"'+ ambiguous_cached_title_info[0] + '\"? ', ambiguous: ambiguous_cachedids_arr })\n    })\n    Object.entries(result.ambiguous_gamedata).forEach(function(ambiguous_title_info) {\n        // it was tagged as \"ambiguous\", but really this was the title corresponding to the user-supplied ID\n        if (result.given_game_ids.hasOwnProperty(ambiguous_title_info[0])) {\n            if (result.given_game_ids[ambiguous_title_info[0]] === ambiguous_title_info[1].id) {\n                new_addingGames.selected_games_to_activate.push(ambiguous_title_info[1].unambiguous_name)\n            }\n        // this title was a user-supplied name string and still requires user disambiguation\n        } else {\n            let ambiguous_gamedata_arr = JSON.parse(JSON.stringify(ambiguous_title_info[1]))\n            new_messages.push({ message_str: 'Which version of \"'+ ambiguous_title_info[0] + '\"? ', ambiguous: ambiguous_gamedata_arr })\n            keep_modal_open = true\n        }\n    })\n    validation_result['addingGames'] = new_addingGames\n\n    // Prepend the game title with the game ID, when the ID was supplied by the user\n    let game_id_txt = ''\n\n    // Inform the user of all other games that could not be added\n    let title_count_already_active = 0, title_names_already_active = ''\n    for (let active_title of result.cached_active) {\n        title_count_already_active += 1\n        if (result.given_game_ids.hasOwnProperty(active_title)) {\n            game_id_txt = '[#' + result.given_game_ids[active_title] + '] '\n        } else {\n            game_id_txt = ''\n        }\n        if (title_names_already_active !== '') {\n            title_names_already_active += ', ' + game_id_txt + displayNameForMessages(active_title)\n        } else {\n            title_names_already_active += game_id_txt + displayNameForMessages(active_title)\n        }\n        keep_modal_open = true\n    }\n    if (title_count_already_active > 0) {\n        let plural_txt = (title_count_already_active > 1) ? 's are' : ' is'\n        new_messages.push({ message_str: 'ERROR: ' + title_count_already_active + ' title' + plural_txt + ' already active - ' + title_names_already_active })\n        keep_modal_open = true\n    }\n    let title_count_does_not_exist = 0, title_names_does_not_exist = ''\n    for (let nonexistent_title of result.does_not_exist) {\n        title_count_does_not_exist += 1\n        if (title_names_does_not_exist !== '') {\n            title_names_does_not_exist += ', ' + nonexistent_title\n        } else {\n            title_names_does_not_exist += nonexistent_title\n        }\n        keep_modal_open = true\n    }\n    if (title_count_does_not_exist > 0) {\n        let plural_txt = (title_count_does_not_exist > 1) ? 's do' : ' does'\n        new_messages.push({ message_str: 'ERROR: ' + title_count_does_not_exist + ' title' + plural_txt + ' not exist - ' + title_names_does_not_exist })\n    }\n\n    // Inform the user of all other games that will be added\n    let title_count_to_add = 0, title_names_to_add = ''\n    for (let inactive_title of result.cached_inactive) {\n        title_count_to_add += 1\n        if (result.given_game_ids.hasOwnProperty(inactive_title)) {\n            game_id_txt = '[#' + result.given_game_ids[inactive_title] + '] '\n        } else {\n            game_id_txt = ''\n        }\n        if (title_names_to_add !== '') {\n            title_names_to_add += ', ' + game_id_txt + displayNameForMessages(inactive_title)\n        } else {\n            title_names_to_add += game_id_txt + displayNameForMessages(inactive_title)\n        }\n    }\n    for (let unambiguous_new_title of Object.keys(result.unambiguous_gamedata)) {\n        title_count_to_add += 1\n        if (result.given_game_ids.hasOwnProperty(unambiguous_new_title)) {\n            game_id_txt = '[#' + result.given_game_ids[unambiguous_new_title] + '] '\n        } else {\n            game_id_txt = ''\n        }\n        if (title_names_to_add !== '') {\n            title_names_to_add += ', ' + game_id_txt + displayNameForMessages(unambiguous_new_title)\n        } else {\n            title_names_to_add += game_id_txt + displayNameForMessages(unambiguous_new_title)\n        }\n    }\n    if (title_count_to_add > 0) {\n        let other_txt = ( (Object.keys(result.ambiguous_cached).length > 0) \n                            || (Object.keys(result.ambiguous_gamedata).length > 0) \n                            || (result.does_not_exist.length > 0)\n                            || (result.cached_active.length > 0) )\n                            ? ' other' : ''\n        let plural_txt = (title_count_to_add > 1) ? 's' : ''\n        new_messages.push({ message_str: 'Adding ' + title_count_to_add + other_txt + ' title' + plural_txt + ' - ' + title_names_to_add })\n    }\n    validation_result['messages'] = new_messages\n    validation_result['keep_modal_open'] = keep_modal_open\n\n    return validation_result\n}\n\nconst doAddGames = (games, add_fn) => {\n    add_fn(games)\n    return null\n}\n\nexport const AddGames = (props) => {\n\n    const [ userTitlesInput, setUserTitlesInput ] = useState('')\n    const [ statusMessages, setStatusMessages ] = useState([])\n    const [ addingGames, setAddingGames ] = useState({})\n    const [ selectedGamesToActivate, setSelectedGamesToActivate ] = useState([])\n\n    useEffect( () => {\n        async function addRoutedGames() {\n            if (props.routedgames.length > 0) {\n                let validation_result = await validateUserTitles(props.cachedgametitles, props.routedgames)\n                console.log('ROUTED validation_result:',validation_result)\n                setAddingGames(validation_result.addingGames)\n                newMessages(validation_result.messages)\n                if (!validation_result.keep_modal_open) {\n                    doAddGames(validation_result.addingGames, props.updateaddinggames)\n                }\n            }\n        }\n        addRoutedGames()\n    }, [props])\n\n    const newMessages = (new_messages) => {\n        const newStatusMessages = [...new_messages]\n        setStatusMessages(newStatusMessages)\n    }\n\n    const selectUnambiguousTitle = function (title_to_select) { \n\n        // only one title with the same base name can be selected\n        let base_name_to_select = withoutYear(title_to_select)\n        let updated_selectedGamesToActivate = selectedGamesToActivate.filter( selected_title => withoutYear(selected_title) !== base_name_to_select )\n        updated_selectedGamesToActivate.push(title_to_select)\n        setSelectedGamesToActivate(updated_selectedGamesToActivate)\n\n        // merge the updated title selections in with the rest of the game data\n        let updated_addingGames = addingGames\n        updated_addingGames.selected_games_to_activate = JSON.parse(JSON.stringify(updated_selectedGamesToActivate))\n        setAddingGames(updated_addingGames)\n\n    }\n\n    const handleChange = (event) => {\n        setUserTitlesInput(event.target.value)\n    }\n\n    const handleSubmit = async (event) => {\n        event.preventDefault()\n        let delimiter, num_nonblank_lines = userTitlesInput.split(/\\r\\n|\\r|\\n/).filter(line => line !== '').length\n        if (num_nonblank_lines > 1) {\n            delimiter = '\\n'\n        } else {\n            delimiter = ','\n        }\n        let userTitles = userTitlesInput\n            .split(delimiter)\n            .map(str => str.trim())\n            .map(str => str.replace(/[^0-9a-zA-Z:()&!–#' ]/g, \"\"))\n            .filter( function(e){return e} )\n        let validation_result = await validateUserTitles(props.cachedgametitles, Array.from(new Set(userTitles)))\n        setAddingGames(validation_result.addingGames)\n        newMessages(validation_result.messages)\n        if (!validation_result.keep_modal_open) {\n            doAddGames(validation_result.addingGames, props.updateaddinggames)\n        }\n    }\n\n    const addButton = (message) => {\n        if (message.hasOwnProperty('ambiguous')) {\n            let classes = {}\n            message.ambiguous.forEach(function(game) {\n                let new_classes = 'default-secondary-styles'\n                if (selectedGamesToActivate.includes(game.unambiguous_name)) {\n                    new_classes += ' active-button'\n                }\n                classes[game.unambiguous_name] = new_classes\n            })\n            return (\n                message.ambiguous.map( disambiguation => \n                    <button key={disambiguation.id} className={classes[disambiguation.unambiguous_name]} onClick={ (e) => selectUnambiguousTitle(disambiguation.unambiguous_name) }>{disambiguation.year_published}</button>\n                )\n            )\n        } else {\n            return null\n        }\n    }\n\n    const clickApply = () => {\n        doAddGames(addingGames, props.updateaddinggames)\n    }\n\n    let apply_button = ( (addingGames.hasOwnProperty('ambiguous_title_count') && addingGames.ambiguous_title_count > 0)\n                       || (addingGames.hasOwnProperty('games_to_activate') && addingGames.games_to_activate.length > 0)\n                       || (addingGames.hasOwnProperty('gamedata_to_activate') && Object.keys(addingGames.gamedata_to_activate).length > 0) )\n    return (\n        <React.Fragment>\n\n        <h4>Add board game by title:</h4>\n\n        <div id=\"input-section\">\n                <section id=\"input-by-title\">\n                    <section className=\"buttonrow\">\n                        <input size=\"30\" value={userTitlesInput} onChange={handleChange} placeholder=\"(exact game title or BGG ID)\" required/>\n                        <button onClick={handleSubmit} className=\"default-primary-styles\">Add</button>\n                    </section>\n                    <div className=\"status-messages\">\n                        { statusMessages\n                            .map(\n                                (message, i) => {\n                                    return (message.message_str.toLowerCase().startsWith(\"error\"))\n                                    ? <p key={i} className=\"message error\">{message.message_str} {addButton(message)}</p>\n                                    : <p key={i} className=\"message\"><FontAwesomeIcon icon={faLongArrowAltRight} /> {message.message_str} {addButton(message)}</p>\n                                }\n                            )\n                        }\n                    </div>\n                </section>\n                { apply_button &&\n                    <button className=\"default-primary-styles\" onClick={clickApply}>Apply</button>\n                }\n        </div>\n\n        </React.Fragment>\n    )\n}\n\nAddGames.propTypes = {\n    closemymodal: PropTypes.func.isRequired,\n    activepoll: PropTypes.string.isRequired,\n    routedgames: PropTypes.array.isRequired,\n    updateaddinggames: PropTypes.func.isRequired,\n    cachedgametitles: PropTypes.object.isRequired,\n    onaddcachedtitles: PropTypes.func.isRequired,\n    onaddnewtitles: PropTypes.func.isRequired,\n    oncachenewtitles: PropTypes.func.isRequired,\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faThumbsUp } from '@fortawesome/free-solid-svg-icons'\n\nconst VotableElement = (props) => {\n\n    let elementStyle = \"voteable\"\n    let vote = (props.preferences.hasOwnProperty(props.votingon)\n      && props.preferences[props.votingon].hasOwnProperty('thumbsup')\n      && props.preferences[props.votingon].thumbsup.length) ? 'thumbsup' : 'novote'\n    elementStyle += ' ' + vote\n    let votable_text = props.votingonlabel\n    if (props.attrcount > 1 || !props.suppresslowcounts) {\n        votable_text += ' ('+props.attrcount+')'\n    }\n    return (\n        <li \n            key={props.votingon} \n            className={elementStyle} \n        > \n            <div className=\"vote\">\n                { vote === 'thumbsup' &&\n                <FontAwesomeIcon icon={faThumbsUp} />\n                }\n            </div>\n            <div\n                className=\"clickable\"\n                data-votingtype={props.votingtype}\n                data-votingon={props.votingon}\n                data-newvote='thumbsup'\n                onClick={props.onnewvote}\n            >\n                {votable_text}\n            </div>\n        </li>\n    )\n}\n\nexport const VotingSection = (props) => {\n\n    let origVotables = JSON.parse(JSON.stringify(props.counts))\n    let orderedVotables = JSON.parse(JSON.stringify(props.counts))\n    // alphabetization is a 2nd-level sort, after the 1st sorting is by count \n    if (props.alphabetize) {\n\n        orderedVotables = origVotables\n            .sort(function(a,b) {\n\n                // 1st sort is by counts, \n                // and here the counts are different\n                if (a.attrCount < b.attrCount) {\n                    return 1\n                } else if (a.attrCount > b.attrCount) {\n                    return -1\n\n                // 2nd sort is by names\n                } else if (a.attrName < b.attrName) {\n                    return -1\n                } else if (a.attrName > b.attrName) {\n                    return 1\n\n                // both count and names are equal\n                } else {\n                    return 0\n                }\n\n            })\n    }\n    return (\n        <ul id={props.elementid}>\n            <li><b>{props.title}</b></li>\n            {orderedVotables.map((key, index) => {\n                return <VotableElement \n                    key={key.attrName}\n                    preferences={props.sectionthumbs}\n                    votingtype={props.type}\n                    votingon={key.attrId} \n                    votingonlabel={key.attrName} \n                    attrcount={key.attrCount} \n                    suppresslowcounts={props.suppresslowcounts}\n                    onnewvote={props.onnewvote}/>\n                })}\n        </ul>\n    )\n}\n\nVotingSection.propTypes = {\n    counts: PropTypes.array.isRequired,\n    elementid: PropTypes.string.isRequired,\n    onnewvote: PropTypes.func.isRequired,\n    sectionthumbs: PropTypes.object.isRequired,\n    title: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n    alphabetize: PropTypes.bool.isRequired,\n    suppresslowcounts: PropTypes.bool.isRequired,\n}","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { VotingSection } from './VotingSection';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\n\nexport const VoteAttributes = (props) => {\n\n    const [ votingOn, setVotingOn ] = useState('players')\n\n    const handleSectionChange = (event) => {\n        let newSelection = event.target.id.replace(/select-/g, '')\n        setVotingOn(newSelection)\n    }\n\n    const emptyMessage = () => {\n        return (\n            <span className=\"message warning\">\n                <p>No board games to compare yet</p>\n                <p>Please add game titles by clicking on \"Add\".</p>\n            </span>\n        )\n    }\n\n    const tallyPlayerCounts = (props) => {\n        // tally each allowable player count occurrence across all games\n        let countsObj = {}\n        for (const game of props.activegamedata) {\n            for (let playercount=game.attributes.min_players; playercount<=game.attributes.max_players; playercount++) {\n                if (playercount <= 10) {\n                    let playerCountAttr = (playercount === 10) ? '10P+' : playercount + 'P'\n                    if (countsObj.hasOwnProperty(playerCountAttr)) {\n                        countsObj[playerCountAttr] = countsObj[playerCountAttr] + 1\n                    } else {\n                        countsObj[playerCountAttr] = 1\n                    }\n                }\n            }\n        }\n        // sort each attribute according to total occurrences\n        let countsArray = []\n        Object.keys(countsObj).forEach((elementTag) => {\n            let newCount = {'attrId': elementTag, 'attrName': elementTag, 'attrCount': countsObj[elementTag]}\n            countsArray.push(newCount)\n        })\n        countsArray.sort((a, b) => (parseInt(a.attrName.slice(0, -1)) < parseInt(b.attrName.slice(0, -1))) ? 1 : -1)\n        return countsArray\n    }\n\n    const tallyWeightCounts = (props) => {\n        // tally each weight occurrence across all games\n        let countsObj = {}\n        for (const game of props.activegamedata) {\n            if (countsObj.hasOwnProperty(game.attributes.average_weight_name)) {\n                countsObj[game.attributes.average_weight_name] = countsObj[game.attributes.average_weight_name] + 1\n            } else {\n                countsObj[game.attributes.average_weight_name] = 1\n            }\n        }\n        // sort weights into a predefined order\n        let weights = [\"light\", \"medium light\", \"medium\", \"medium heavy\", \"heavy\"]\n        let countsArray = []\n        for (let weight of weights) {\n            if (countsObj.hasOwnProperty(weight)) {\n                countsArray.push({'attrId': weight, 'attrName': weight, 'attrCount': countsObj[weight]})\n            } else {\n                countsArray.push({'attrId': weight, 'attrName': weight, 'attrCount': 0})\n            }\n        }\n        return countsArray\n    }\n\n    const tallyCategoryCounts = (props) => {\n        // tally each attribute's occurrence across all games\n        let countsObj = {}\n        for (const game of props.activegamedata) {\n            for (const category of game.attributes.categories) {\n                if (countsObj.hasOwnProperty(category)) {\n                    countsObj[category] = countsObj[category] + 1\n                } else {\n                    countsObj[category] = 1\n                }\n            }\n        }\n        // sort each attribute according to total occurrences\n        let countsArray = []\n        Object.keys(countsObj).forEach((elementTag) => {\n            countsArray.push({'attrId': elementTag, 'attrName': elementTag, 'attrCount': countsObj[elementTag]})\n        })\n        countsArray.sort((a, b) => (a.attrCount < b.attrCount) ? 1 : (a.attrCount === b.attrCount) && (a.attrName > b.attrName) ? 1 : -1)\n        return countsArray\n    }\n\n    const tallyMechanicCounts = (props) => {\n        // tally each attribute's occurrence across all games\n        let countsObj = {}\n        for (const game of props.activegamedata) {\n            for (const mechanic of game.attributes.mechanics) {\n                if (countsObj.hasOwnProperty(mechanic)) {\n                    countsObj[mechanic] = countsObj[mechanic] + 1\n                } else {\n                    countsObj[mechanic] = 1\n                }\n            }\n        }\n        // sort each attribute according to total occurrences\n        let countsArray = []\n        Object.keys(countsObj).forEach((elementTag) => {\n            countsArray.push({'attrId': elementTag, 'attrName': elementTag, 'attrCount': countsObj[elementTag]})\n        })\n        countsArray.sort((a, b) => (a.attrCount < b.attrCount) ? 1 : (a.attrCount === b.attrCount) && (a.attrName > b.attrName) ? 1 : -1)\n        return countsArray\n    }\n\n    let attributestally = {\n        playercounts: tallyPlayerCounts(props),\n        weightcounts: tallyWeightCounts(props),\n        categorycounts: tallyCategoryCounts(props),\n        mechaniccounts: tallyMechanicCounts(props),\n    }\n\n    return (\n        <React.Fragment>\n\n        <h4>Upvote board game attributes:</h4>\n\n        <ul id=\"votingsection-selector\">\n            <li id=\"select-players\" className={\"segmentedcontrol lightbg\" + ({ votingOn } === \"players\" ? \" selected\" : \"\")} onClick={handleSectionChange}>Players</li>\n            <li id=\"select-weights\" className={\"segmentedcontrol lightbg\" + ({ votingOn } === \"weights\" ? \" selected\" : \"\")} onClick={handleSectionChange}>Weights</li>\n            <li id=\"select-categories\" className={\"segmentedcontrol lightbg\" + ({ votingOn } === \"categories\" ? \" selected\" : \"\")} onClick={handleSectionChange}>Categories</li>\n            <li id=\"select-mechanics\" className={\"segmentedcontrol lightbg\" + ({ votingOn } === \"mechanics\" ? \" selected\" : \"\")} onClick={handleSectionChange}>Mechanics</li>\n        </ul>\n\n        <div id=\"voting-section\">\n            <TransitionGroup>\n            {votingOn === 'players' &&\n                <CSSTransition\n                    key={0}\n                    in={true}\n                    appear={false}\n                    timeout={2000}\n                    classNames={\"showsegment\"}\n                >\n                    <VotingSection \n                        type='players'\n                        elementid='supported-players'\n                        title='PLAYERS:'\n                        counts={attributestally.playercounts}\n                        sectionthumbs={props.attrthumbs['players']}\n                        onnewvote={props.onnewvote}\n                        alphabetize={false}\n                        suppresslowcounts={false}\n                    />\n                </CSSTransition>\n            }\n            {votingOn === 'weights' &&\n                <CSSTransition\n                    key={1}\n                    in={true}\n                    appear={false}\n                    timeout={2000}\n                    classNames={\"showsegment\"}\n                >\n                    <VotingSection \n                        type='weight'\n                        elementid='weight-counts'\n                        title='WEIGHT:'\n                        counts={attributestally.weightcounts}\n                        sectionthumbs={props.attrthumbs['weight']}\n                        onnewvote={props.onnewvote}\n                        alphabetize={false}\n                        suppresslowcounts={false}\n                    />\n                </CSSTransition>\n            }\n            {votingOn === 'categories' &&\n                <CSSTransition\n                    key={2}\n                    in={true}\n                    appear={false}\n                    timeout={2000}\n                    classNames={\"showsegment\"}\n                >\n                    <VotingSection \n                        type='category'\n                        elementid='category-counts'\n                        title='CATEGORY:'\n                        counts={attributestally.categorycounts}\n                        sectionthumbs={props.attrthumbs['category']}\n                        onnewvote={props.onnewvote}\n                        alphabetize={true}\n                        suppresslowcounts={true}\n                    />\n                </CSSTransition>\n            }\n            {votingOn === 'mechanics' &&\n                <CSSTransition\n                    key={3}\n                    in={true}\n                    appear={false}\n                    timeout={2000}\n                    classNames={\"showsegment\"}\n                >\n                    <VotingSection \n                        type='mechanic'\n                        elementid='mechanic-counts'\n                        title='MECHANIC:'\n                        counts={attributestally.mechaniccounts}\n                        sectionthumbs={props.attrthumbs['mechanic']}\n                        onnewvote={props.onnewvote}\n                        alphabetize={true}\n                        suppresslowcounts={true}\n                    />\n                </CSSTransition>\n            }\n            </TransitionGroup>\n            {attributestally.playercounts.length === 0 \n            && attributestally.weightcounts.length === 0 \n            && attributestally.categorycounts.length === 0\n            && attributestally.mechaniccounts.length === 0\n            &&\n                emptyMessage()\n            }\n        </div>\n\n        </React.Fragment>\n    )\n}\n\nVoteAttributes.propTypes = {\n    activegamedata: PropTypes.array.isRequired,\n    attrthumbs: PropTypes.object.isRequired,\n    onnewvote: PropTypes.func.isRequired,\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { VotingSection } from './VotingSection';\n\nexport const VoteTitles = (props) => {\n\n    let countsArray = []\n    props.activegamedata.forEach(function(game) {\n        countsArray.push({'attrId': game.id, 'attrName': game.unambiguous_name, 'attrCount': 1})\n    })\n\n    return (\n        <React.Fragment>\n        <h4>Upvote board game titles:</h4>\n        <VotingSection \n            type='title'\n            elementid='game-titles'\n            title='TITLES:'\n            counts={countsArray}\n            sectionthumbs={props.titlethumbs}\n            onnewvote={props.onnewvote}\n            alphabetize={true}\n            suppresslowcounts={true}\n        />\n        </React.Fragment>\n    )\n}\n\nVoteTitles.propTypes = {\n    activegamedata: PropTypes.array.isRequired,\n    titlethumbs: PropTypes.object,\n    onnewvote: PropTypes.func.isRequired,\n    ondeleteall: PropTypes.func.isRequired,\n}","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\n\nconst hardcoded_polls = [\n    {\n        id: '1',\n        name: 'Fake Poll A',\n        pollThumbs: {\n            titles: {\n                5782: { // Coloretto (2003)\n                    'thumbsup': ['Charles', 'Cassidy', 'Carlos']\n                },\n                266192: { // Wingspan\n                    'thumbsup': ['Wendy']\n                },\n                28023: { // Jamaica\n                    'thumbsup': ['_me_']\n                },\n                218603: { // Photosynthesis\n                    'thumbsup': ['Patty', 'Peter', 'Paula']\n                },\n                194626: { // Happy Salmon\n                    'thumbsup': ['Harry', '_me_']\n                },\n            },\n            winners: [5782, 218603],\n            total_title_votes: 10,\n        }\n    },\n    {\n        id: '2',\n        name: 'Fake Poll B',\n        pollThumbs: {\n            titles: {\n                175914: { // Food Chain Magnate\n                    'thumbsup': ['Fran', 'Filipe', 'Fiona', '_me_']\n                },\n                266192: { // Wingspan\n                    'thumbsup': ['Wesley']\n                },\n                31481: { // Galaxy Trucker\n                    'thumbsup': ['Gary', 'Gianna']\n                },\n                199478: { // Flamme Rouge\n                },\n                9209: { // Ticket To Ride\n                    'thumbsup': ['Tina', 'Timothy', 'Trent']\n                },\n            },\n            winners: [175914],\n            total_title_votes: 10,\n        }\n    },\n    {\n        id: '3',\n        name: 'Fake Poll C',\n        pollThumbs: {\n            titles: {\n                141791: { // Pinata\n                    'thumbsup': ['Peggy']\n                },\n            },\n            winners: [175914],\n            total_title_votes: 1,\n        }\n    }\n]\n\nexport const ImportPoll = (props) => {\n\n    const [ inputValue, setInputValue ] = useState(props.activepoll)\n\n    const handleChange = (event) => {\n        setInputValue(event.target.value)\n        if (event.target.value === 'local') {\n            let no_poll = {\n                id: 'local',\n                name: 'local',\n            }\n            props.onviewpoll(no_poll)\n        } else {\n            props.onviewpoll(hardcoded_polls.filter( polls => polls.name === event.target.value )[0])\n        }\n    }\n\n    return (\n        <React.Fragment>\n        <h4>Import poll:</h4>\n        <div id=\"import-poll\">\n\n            <label \n                htmlFor=\"poll-local\">\n                <input \n                    type=\"radio\" \n                    id=\"poll-local\" \n                    name=\"gamelist\" \n                    value=\"local\"\n                    checked={inputValue === 'local'}\n                    onChange={handleChange} />\n                &nbsp;No poll</label>\n\n            { hardcoded_polls\n                .map( (poll,i) => {\n                    let gamecount = Object.keys(poll.pollThumbs.titles).length + ' ' + ((Object.keys(poll.pollThumbs.titles).length === 1) ? 'game' : 'games')\n                    let votecount = poll.pollThumbs.total_title_votes + ' ' + ((poll.pollThumbs.total_title_votes === 1) ? 'vote' : 'votes')\n                    return (\n                        <label \n                            key={i}\n                            htmlFor={\"poll-\" + i}>\n                            <input \n                                type=\"radio\" \n                                id={\"poll-\" + i} \n                                name=\"gamelist\" \n                                value={poll.name}\n                                checked={inputValue === poll.name}\n                                onChange={handleChange} />\n                            &nbsp;{poll.name} ({gamecount}, {votecount})</label>\n                    )})\n            }\n\n        </div>\n        </React.Fragment>\n    )\n}\n\nImportPoll.propTypes = {\n    activepoll: PropTypes.string.isRequired,\n    onviewpoll: PropTypes.func.isRequired,\n}","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { AddGames } from './AddGames'\nimport { VoteAttributes } from './VoteAttributes'\nimport { VoteTitles } from './VoteTitles'\nimport { ImportPoll } from './ImportPoll'\nimport Modal from 'react-bootstrap/Modal'\nimport ModalBody from 'react-bootstrap/ModalBody'\nimport ModalFooter from 'react-bootstrap/ModalFooter'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faClipboard } from '@fortawesome/free-solid-svg-icons'\n\n\nexport const MainControls = (props) => {\n\n    const [addIsOpen, setAddIsOpen] = useState(false)\n    const [addErrorIsOpen, setAddErrorIsOpen] = useState(false)\n    const [voteAttributesIsOpen, setVoteAttributesIsOpen] = useState(false)\n    const [voteAttributesErrorIsOpen, setVoteAttributesErrorIsOpen] = useState(false)\n    const [voteTitlesIsOpen, setVoteTitlesIsOpen] = useState(false)\n    const [importPollIsOpen, setImportPollIsOpen] = useState(false)\n\n    const closeMyModal = () => {\n        setAddIsOpen(false)\n        setAddErrorIsOpen(false)\n        setVoteAttributesIsOpen(false)\n        setVoteAttributesErrorIsOpen(false)\n        setVoteTitlesIsOpen(false)\n        setImportPollIsOpen(false)\n    }\n\n    const showAddModal = () => {\n        setVoteAttributesIsOpen(false)\n        setVoteAttributesErrorIsOpen(false)\n        setVoteTitlesIsOpen(false)\n        setImportPollIsOpen(false)\n        setAddErrorIsOpen(false)\n        setAddIsOpen(true)\n    }\n\n    const hideAddModal = () => {\n        setAddIsOpen(false)\n    }\n\n    const showAddErrorModal = () => {\n        setVoteAttributesIsOpen(false)\n        setVoteAttributesErrorIsOpen(false)\n        setVoteTitlesIsOpen(false)\n        setImportPollIsOpen(false)\n        setAddIsOpen(false)\n        setAddErrorIsOpen(true)\n    }\n\n    const hideAddErrorModal = () => {\n        setAddErrorIsOpen(false)\n    }\n\n    const showVoteAttributesModal = () => {\n        setAddIsOpen(false)\n        setAddErrorIsOpen(false)\n        setVoteTitlesIsOpen(false)\n        setImportPollIsOpen(false)\n        setVoteAttributesErrorIsOpen(false)\n        setVoteAttributesIsOpen(true)\n    }\n\n    const hideVoteAttributesModal = () => {\n        setVoteAttributesIsOpen(false)\n    }\n\n    const showVoteAttributesErrorModal = () => {\n        setAddIsOpen(false)\n        setAddErrorIsOpen(false)\n        setVoteTitlesIsOpen(false)\n        setImportPollIsOpen(false)\n        setVoteAttributesIsOpen(false)\n        setVoteAttributesErrorIsOpen(true)\n    }\n\n    const hideVoteAttributesErrorModal = () => {\n        setVoteAttributesErrorIsOpen(false)\n    }\n\n    const showVoteTitlesModal = () => {\n        setAddIsOpen(false)\n        setAddErrorIsOpen(false)\n        setVoteAttributesIsOpen(false)\n        setVoteAttributesErrorIsOpen(false)\n        setImportPollIsOpen(false)\n        setVoteTitlesIsOpen(true)\n    }\n\n    const hideVoteTitlesModal = () => {\n        setVoteTitlesIsOpen(false)\n    }\n\n    const showImportPollModal = () => {\n        setAddIsOpen(false)\n        setAddErrorIsOpen(false)\n        setVoteAttributesIsOpen(false)\n        setVoteAttributesErrorIsOpen(false)\n        setVoteTitlesIsOpen(false)\n        setImportPollIsOpen(true)\n    }\n\n    const hideImportPollModal = () => {\n        setImportPollIsOpen(false)\n    }\n\n    const updateAddingGames = (updated_addingGames) => {\n\n        hideAddModal()\n\n        // add all newly-retrieved game data\n        let new_gamedata_to_activate = [ ...Object.values(updated_addingGames.gamedata_to_activate) ]\n        let new_gamedata_to_cache = []\n        Object.values(updated_addingGames.ambiguous_gamedata).forEach(possibilities => {\n            possibilities.forEach(possible_gamedata => {\n                if (updated_addingGames.selected_games_to_activate.includes(possible_gamedata.unambiguous_name)) {\n                    new_gamedata_to_activate.push(JSON.parse(JSON.stringify(possible_gamedata)))\n                } else {\n                    new_gamedata_to_cache.push(JSON.parse(JSON.stringify(possible_gamedata)))\n                }\n            })\n        })\n        props.onaddnewtitles(new_gamedata_to_activate)\n        props.oncachenewtitles(new_gamedata_to_cache)\n\n        // activate titles that were already in the cache\n        let cached_games_to_activate = [ ...updated_addingGames.games_to_activate ]\n        Object.values(updated_addingGames.ambiguous_cached).forEach(possibilities => {\n            possibilities.forEach(possible_game => {\n                if (updated_addingGames.selected_games_to_activate.includes(possible_game.unambiguous_name)) {\n                    cached_games_to_activate.push(possible_game.unambiguous_name)\n                }\n            })\n        })\n        props.onaddcachedtitles(cached_games_to_activate)\n        \n    }\n\n    useEffect( () => {\n        if (props.activegamedata.length === 0) {\n            showAddModal()\n        } else {\n            hideAddModal()\n        }\n    }, [props])\n\n    let num_title_votes = 0\n    for (let gameId in props.activethumbs.titles) {\n        for (let vote of Object.keys(props.activethumbs.titles[gameId])) {\n            num_title_votes += props.activethumbs.titles[gameId][vote].length\n        }\n    }\n\n    let num_attr_votes = Object.keys(props.activethumbs.attributes.players).length\n    + Object.keys(props.activethumbs.attributes.weight).length\n    + Object.keys(props.activethumbs.attributes.category).length\n    + Object.keys(props.activethumbs.attributes.mechanic).length\n\n    const handleCopyToClipboard = () => {\n        let games = \"\"\n        props.activegamedata.forEach((game) => {\n            if (games === \"\") {\n                games += game.id\n            } else {\n                games = games + \"+\" + game.id\n            }\n        })\n        games = window.location.href + \"?newlist=\" + games\n        let clipboardElement = document.getElementById(\"games-clipboard\")\n        clipboardElement.value = games\n        clipboardElement.select()\n        document.execCommand(\"copy\")\n    }\n    let clipboardValue = \"\"\n    let inlineStyle = {\n        position: \"absolute\",\n        left: \"-1000px\",\n        top: \"-1000px\"\n    }\n    const AddModal = () => {\n        if (props.activepoll === 'local') {\n            return (\n                <React.Fragment>\n                <button className=\"default-primary-styles\" onClick={showAddModal}>Add Games</button>\n                <Modal size=\"md\" backdrop=\"static\" show={addIsOpen} onHide={hideAddModal}>\n                    <ModalBody>\n                        <div id=\"gameinput-controls\">\n                            <AddGames\n                                closemymodal={closeMyModal}\n                                activepoll={props.activepoll} \n                                routedgames={props.routedgames}\n                                updateaddinggames={updateAddingGames}\n                                cachedgametitles={props.cachedgametitles}\n                                onaddcachedtitles={props.onaddcachedtitles}\n                                onaddnewtitles={props.onaddnewtitles}\n                                oncachenewtitles={props.oncachenewtitles} />\n                        </div>\n                    </ModalBody>\n                    <ModalFooter> \n                        <button className=\"default-primary-styles\" onClick={hideAddModal}>Close</button>\n                    </ModalFooter>\n                </Modal>\n                </React.Fragment>\n            )\n        } else {\n            return (\n                <React.Fragment>\n                <button className=\"default-primary-styles\" onClick={showAddErrorModal}>Add Games</button>\n                <Modal size=\"md\" show={addErrorIsOpen} onHide={hideAddErrorModal}>\n                    <ModalBody>\n                        <div id=\"gameinput-controls\">\n                            <p>INFO: Adding of games is disabled while \"{props.activepoll}\" is selected.</p>\n                        </div>\n                    </ModalBody>\n                    <ModalFooter> \n                        <button className=\"default-primary-styles\" onClick={hideAddErrorModal}>Close</button>\n                    </ModalFooter>\n                </Modal>\n                </React.Fragment>\n            )\n        }\n    }\n\n    const VoteTitlesModal = () => {\n        return (\n            <React.Fragment>\n            <button className=\"default-primary-styles\" onClick={showVoteTitlesModal}>Vote Games</button>\n            <Modal size=\"md\" show={voteTitlesIsOpen} onHide={hideVoteTitlesModal}>\n                <ModalBody>\n                    <div id=\"title-voting-controls\">\n                        <VoteTitles\n                            activegamedata={props.activegamedata} \n                            titlethumbs={props.activethumbs.titles} \n                            onnewvote={props.onnewvote}\n                            ondeleteall={props.ondeleteall} />\n                    </div>\n                </ModalBody>\n                <ModalFooter> \n                    { props.activepoll === 'local' && \n                        <React.Fragment>\n                            <button className=\"default-danger-styles\" onClick={props.ondeleteall} disabled={props.activegamedata.length===0}>Remove All Games</button>\n                            <button className=\"default-danger-styles\" data-votingtype=\"all_titles\" onClick={props.onclearsectionvotes} disabled={num_title_votes===0}>Remove All Title Votes</button>\n                        </React.Fragment>\n                    }\n                    { props.activepoll !== 'local' && \n                        <React.Fragment>\n                            <button className=\"default-danger-styles\" data-votingtype=\"all_titles\" onClick={props.onclearsectionvotes}>Remove All Title Votes</button>\n                        </React.Fragment>\n                    }\n                    <button className=\"default-primary-styles\" onClick={hideVoteTitlesModal}>Close</button>\n                </ModalFooter>\n            </Modal>\n            </React.Fragment>\n        )\n    }\n\n    const VoteAttributesModal = () => {\n        if (props.activepoll === 'local') {\n            return (\n                <React.Fragment>\n                <button className=\"default-primary-styles\" onClick={showVoteAttributesModal}>Vote Attributes</button>\n                <Modal size=\"md\" show={voteAttributesIsOpen} onHide={hideVoteAttributesModal}>\n                    <ModalBody>\n                        <div id=\"attribute-voting-controls\">\n                            <VoteAttributes \n                                activegamedata={props.activegamedata}\n                                attrthumbs={props.activethumbs.attributes} \n                                onnewvote={props.onnewvote} />\n                        </div>\n                    </ModalBody>\n                    <ModalFooter> \n                        <button className=\"default-danger-styles\" data-votingtype=\"all_attributes\" onClick={props.onclearsectionvotes} disabled={num_attr_votes===0}>Remove All Attribute Votes</button>\n                        <button className=\"default-primary-styles\" onClick={hideVoteAttributesModal}>Close</button>\n                    </ModalFooter>\n                </Modal>\n                </React.Fragment>\n            )\n        } else {\n            return (\n                <React.Fragment>\n                <button className=\"default-primary-styles\" onClick={showVoteAttributesErrorModal}>Vote Attributes</button>\n                <Modal size=\"md\" show={voteAttributesErrorIsOpen} onHide={hideVoteAttributesErrorModal}>\n                    <ModalBody>\n                        <div id=\"attribute-voting-controls\">\n                            <p>INFO: Voting on attributes is for personal use only. Votes will not be not saved to \"{props.activepoll}\".</p>\n                            <VoteAttributes \n                                activegamedata={props.activegamedata}\n                                attrthumbs={props.activethumbs.attributes} \n                                onnewvote={props.onnewvote} />\n                        </div>\n                    </ModalBody>\n                    <ModalFooter> \n                        <button className=\"default-danger-styles\" data-votingtype=\"all_attributes\" onClick={props.onclearsectionvotes} disabled={num_attr_votes===0}>Remove All Attribute Votes</button>\n                        <button className=\"default-primary-styles\" onClick={hideVoteAttributesErrorModal}>Close</button>\n                    </ModalFooter>\n                </Modal>\n                </React.Fragment>\n            )\n        }\n    }\n\n    const ImportPollModal = () => {\n        return (\n            <React.Fragment>\n            <button className=\"default-primary-styles\" onClick={showImportPollModal}>Import Poll</button>\n            <Modal size=\"md\" show={importPollIsOpen} onHide={hideImportPollModal}>\n                <ModalBody>\n                    <div id=\"poll-import-controls\">\n                        <ImportPoll\n                            activepoll={props.activepoll}\n                            onviewpoll={props.onviewpoll} />\n                    </div>\n                </ModalBody>\n                <ModalFooter> \n                    <button className=\"default-primary-styles\" onClick={hideImportPollModal}>Close</button>\n                </ModalFooter>\n            </Modal>\n            </React.Fragment>\n        )\n    }\n\n    const CopyToClipboard = () => {\n        return (\n            <React.Fragment>\n            <button className=\"default-primary-styles\"><FontAwesomeIcon icon={faClipboard} onClick={handleCopyToClipboard} disabled={!props.activegamedata.length} /></button>\n            <section>\n                <form>\n                    <textarea id=\"games-clipboard\" style={inlineStyle} defaultValue={clipboardValue}></textarea>\n                </form>\n            </section>\n            </React.Fragment>\n        )\n    }\n\n    return (\n        <React.Fragment>\n        <div id=\"main-controls\">\n\n            <AddModal />\n\n            <VoteTitlesModal />\n\n            <VoteAttributesModal />\n\n            <ImportPollModal />\n\n            <CopyToClipboard />\n\n        </div>\n        </React.Fragment>\n    )\n}\n\nMainControls.propTypes = {\n    routedgames: PropTypes.array.isRequired,\n    activegamedata: PropTypes.array.isRequired,\n    activethumbs: PropTypes.object.isRequired,\n    cachedgametitles: PropTypes.object.isRequired,\n    onaddcachedtitles: PropTypes.func.isRequired,\n    onaddnewtitles: PropTypes.func.isRequired,\n    oncachenewtitles: PropTypes.func.isRequired,\n    ondeleteall: PropTypes.func.isRequired,\n    onnewvote: PropTypes.func.isRequired,\n    onclearsectionvotes: PropTypes.func.isRequired,\n    activepoll: PropTypes.string.isRequired,\n    onviewpoll: PropTypes.func.isRequired,\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faThumbsUp as ThumbsUpSolid } from '@fortawesome/free-solid-svg-icons'\nimport { faThumbsUp as ThumbsUpRegular } from '@fortawesome/free-regular-svg-icons'\n\nexport const Thumbnail = (props) => {\n\n    const getAttributeCountLabel = (attributecount) => {\n        let label\n        if (props.reallynarrow) {\n            label = 'attr.'\n        } else if (attributecount !== 1) {\n            label = 'attrs. match'\n        } else {\n            label = 'attr. matches'\n        }\n        return label\n    }\n\n    const printAttributeTally = () => {\n        // display attribute votes with title votes\n        if (props.mythumbcounts.attributes && props.mythumbcounts.titles) {\n            return (\n                <span>& {props.mythumbcounts.attributes} {getAttributeCountLabel(props.mythumbcounts.attributes)}</span>\n            )\n        // display attribute votes without title votes\n        } else if (props.mythumbcounts.attributes && !props.mythumbcounts.titles) {\n            return (\n                <span>{props.mythumbcounts.attributes} {getAttributeCountLabel(props.mythumbcounts.attributes)}</span>\n            )\n        // no attribute votes to display\n        } else {\n            return null\n        }\n    }\n\n    const printTitleTally = () => {\n        if (props.activepoll !== 'local'\n          && props.activethumbs.total_title_votes \n          && typeof props.mythumbcounts !== 'undefined'\n          && props.mythumbcounts.hasOwnProperty('titles') ) {\n            let extra_text = null\n            if (props.mythumbcounts.my_rank > 0 && props.mythumbcounts.titles >= props.mythumbcounts.my_rank) {\n                extra_text = 'incl. You'\n                return (\n                    <React.Fragment>\n                        <div>&nbsp;{props.mythumbcounts.titles}</div>\n                        <div className=\"extra-text\">{extra_text}</div>\n                    </React.Fragment>\n                )\n            } else {\n                return (\n                    <div>&nbsp;{props.mythumbcounts.titles}</div>\n                )\n            }\n        } else {\n            return null\n        }\n    }\n\n    const printVoteCount = () => {\n        return (\n            <div className=\"vote-count\">\n                <div className=\"vote-count-heading\">\n                    <FontAwesomeIcon icon={ThumbsUpSolid} />\n                    { printTitleTally() }\n                </div>\n                <div className=\"vote-count-subheading\">\n                    { printAttributeTally() }\n                </div>\n            </div>\n            )\n    }\n\n    const printThumbnailOverlay = () => {\n\n        if (props.mythumbcounts.titles) {\n            return (\n                <React.Fragment>\n                { printVoteCount() }\n                </React.Fragment>\n            )\n        } else {\n            return (\n                <React.Fragment>\n                <div className=\"voting-affordance\">\n                    <div className=\"vote-count-heading\">\n                        <FontAwesomeIcon icon={ThumbsUpRegular} />\n                    </div>\n                </div>\n                { printVoteCount() }\n                </React.Fragment>\n            )\n        }\n\n    }\n\n    return (\n        <div className=\"thumbnail\">\n            <img src={props.url} alt=\"game box cover\" />\n            { printThumbnailOverlay() }\n        </div>\n    )\n}\n\nThumbnail.propTypes = {\n    activethumbs: PropTypes.object.isRequired,\n    activepoll: PropTypes.string.isRequired,\n    mythumbcounts: PropTypes.object,\n    id: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired,\n    reallynarrow: PropTypes.bool.isRequired,\n    url: PropTypes.string,\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faInfoCircle } from '@fortawesome/free-solid-svg-icons'\nimport { faTrash } from '@fortawesome/free-solid-svg-icons'\nimport { faClock } from '@fortawesome/free-solid-svg-icons'\nimport { faUserFriends } from '@fortawesome/free-solid-svg-icons'\nimport { Thumbnail } from './Thumbnail'\n\nexport const GameCardFront = (props) => {\n\n    const getClasses = (section, attrName) => {\n        let classes = 'clickable attribute'\n        if (section === 'weight') {\n            let weight_vote = getWeightVote(attrName)\n            classes += ' weight ' + weight_vote\n        } else if (section === 'supported-playercount') {\n            let supported_players_vote = getPlayersVote(props.attributes.min_players, props.attributes.max_players)\n            classes += ' supported-playercount ' + supported_players_vote\n        } else {\n            classes += (props.activethumbs.attributes[section].hasOwnProperty(attrName) \n                        && props.activethumbs.attributes[section][attrName].hasOwnProperty('thumbsup')\n                        && props.activethumbs.attributes[section][attrName].thumbsup.length)\n                ? ' thumbsup'\n                : ' novote'\n        }\n        return classes\n    }\n\n    const getUpvotedCategories = () => {\n        return Object.entries(props.activethumbs.attributes['category'])\n          .filter( entry => entry[1].hasOwnProperty('thumbsup') && entry[1].thumbsup.length )\n          .map( entry => entry[0] )\n          .filter( category => props.attributes.categories.includes(category) )\n    }\n\n    const getUpvotedMechanics = () => {\n        return Object.entries(props.activethumbs.attributes['mechanic'])\n          .filter( entry => entry[1].hasOwnProperty('thumbsup') && entry[1].thumbsup.length )\n          .map( entry => entry[0] )\n          .filter( mechanic => props.attributes.mechanics.includes(mechanic) )\n    }\n\n    // player count section gets only one, aggregated vote; only one <li> (ex: \"2-6 players\") \n    const getPlayersVote = (myminplayers, mymaxplayers) => {\n        let vote = \"novote\"\n        Object.entries(props.activethumbs.attributes.players).forEach( (votedPlayercount) => {\n            let voted = parseInt(votedPlayercount[0].slice(0, -1))\n            if (voted >= myminplayers\n                && voted <= mymaxplayers\n                && votedPlayercount[1].hasOwnProperty('thumbsup')\n                && votedPlayercount[1].thumbsup.length) {\n                vote = \"thumbsup\"\n            }\n        })\n        return vote\n    }\n\n    // vote section gets only one, aggregated vote; only one <li> (ex: \"medium heavy\") \n    const getWeightVote = (myweight) => {\n        let vote = \"novote\"\n        Object.entries(props.activethumbs.attributes.weight).forEach( (votedWeight) => {\n            if (myweight === votedWeight[0]\n              && votedWeight[1].hasOwnProperty('thumbsup') \n              && votedWeight[1].thumbsup.length) {\n                vote = \"thumbsup\"\n            }\n        })\n        return vote\n    }\n\n    const getWeightName = (myweight) => {\n        if (props.reallynarrow) {\n            switch (myweight) {\n                case 'medium light':\n                    return 'm. light'\n                case 'medium heavy':\n                    return 'm. heavy'\n                default:\n                    return myweight\n            }\n        } else {\n            return myweight\n        }\n    }\n\n    const { id, thumbnail, activepoll, name, yearpublished, attributes, activethumbs, mythumbcounts, ontoggleinspection, onnewvote, ondelete, reallynarrow } = props\n    let upvoted_categories = getUpvotedCategories()\n    let upvoted_mechanics = getUpvotedMechanics()\n    let upvoted_attributes = [ ...upvoted_categories, ...upvoted_mechanics ].sort()\n    return (\n        <React.Fragment>\n        <section className=\"gamecard-header\">\n            <button className=\"fa fa-button\" onClick={ (e) => ondelete(e, id) }><FontAwesomeIcon icon={faTrash}/></button>\n            <button className=\"fa fa-button inspect\" onClick={ (e) => ontoggleinspection(e, id) }><FontAwesomeIcon icon={faInfoCircle}/></button>\n        </section>\n        <section className=\"gamecard-title\">\n            <h5 className=\"game-name\">{name}</h5>\n            {(yearpublished !== null) \n                ? <h6 className=\"game-yearpublished\">({yearpublished})</h6>\n                : <h6 className=\"game-yearpublished\">(#{id})</h6>\n            }\n        </section>\n        <section\n            className=\"gamecard-visual\"\n            data-votingtype=\"title\"\n            data-votingon={id}\n            data-newvote=\"thumbsup\"\n            onClick={onnewvote}\n            >\n            <Thumbnail \n              id={id} \n              name={name} \n              url={thumbnail} \n              activepoll={activepoll} \n              activethumbs={activethumbs} \n              mythumbcounts={mythumbcounts} \n              reallynarrow={reallynarrow} />\n            <div className=\"gamecardvisual-overlay\">\n                {(attributes.min_players !== attributes.max_players)\n                    ? <div className={getClasses('supported-playercount', null)}><FontAwesomeIcon icon={faUserFriends}/> {attributes.min_players}-{attributes.max_players}</div>\n                    : <div className={getClasses('supported-playercount', null)}><FontAwesomeIcon icon={faUserFriends}/> {attributes.min_players}</div>\n                }\n                {(attributes.min_playtime !== attributes.max_playtime)\n                    ? <div><FontAwesomeIcon icon={faClock}/> {attributes.min_playtime}-{attributes.max_playtime}'</div>\n                    : <div><FontAwesomeIcon icon={faClock}/> {attributes.min_playtime}'</div>\n                }\n            </div>\n        </section>\n        <div className=\"gamecard-weight\">\n            <div className=\"halfsized\">\n                {(attributes.min_players !== attributes.max_players)\n                    ? <div className={getClasses('supported-playercount', null)}><FontAwesomeIcon icon={faUserFriends}/> {attributes.min_players}-{attributes.max_players}</div>\n                    : <div className={getClasses('supported-playercount', null)}><FontAwesomeIcon icon={faUserFriends}/> {attributes.min_players}</div>\n                }\n                {(attributes.min_playtime !== attributes.max_playtime)\n                    ? <div className=\"estimated-playtime\"><FontAwesomeIcon icon={faClock}/> {attributes.min_playtime}-{attributes.max_playtime}'</div>\n                    : <div className=\"estimated-playtime\"><FontAwesomeIcon icon={faClock}/> {attributes.min_playtime}'</div>\n                }\n            </div>\n            <div \n              data-votingtype='weight'\n              data-votingon={attributes.average_weight_name}\n              data-newvote='thumbsup'\n              onClick={props.onnewvote}\n              className={getClasses('weight', attributes.average_weight_name)}>\n                  {getWeightName(attributes.average_weight_name)}\n              </div>\n        </div>\n        <div className=\"gamecard-upvoted-attributes\">\n            { upvoted_attributes.map( (value) =>\n                <div \n                  key={value} \n                  data-votingtype={ upvoted_categories.includes(value) ? 'category' : 'mechanic' }\n                  data-votingon={value}\n                  data-newvote='thumbsup'\n                  onClick={props.onnewvote}\n                  className=\"clickable attribute thumbsup\">\n                      {value}\n                  </div>\n            )}\n        </div>\n        <ul className=\"gamecard-categories\">\n            {(attributes.categories.length)\n                ? attributes.categories\n                  .map(value => \n                    <li \n                      key={value} \n                      data-votingtype='category'\n                      data-votingon={value}\n                      data-newvote='thumbsup'\n                      onClick={props.onnewvote}\n                      className={getClasses('category', value)}>\n                          {value}\n                      </li>)\n                : <li>(no categories)</li>\n            }\n        </ul>\n        <ul className=\"gamecard-mechanics\">\n            {(attributes.mechanics.length)\n                ? attributes.mechanics\n                  .map(value => \n                    <li \n                      key={value} \n                      data-votingtype='mechanic'\n                      data-votingon={value}\n                      data-newvote='thumbsup'\n                      onClick={props.onnewvote}\n                      className={getClasses('mechanic', value)}>\n                          {value}\n                      </li>)\n                : <li>(no mechanics)</li>\n            }\n        </ul>\n        </React.Fragment>\n    )\n}\n\nGameCardFront.propTypes = {\n    id: PropTypes.number.isRequired,\n    attributes: PropTypes.object.isRequired,\n    activepoll: PropTypes.string.isRequired,\n    activethumbs: PropTypes.object.isRequired,\n    mythumbcounts: PropTypes.object,\n    name: PropTypes.string.isRequired,\n    onnewvote: PropTypes.func.isRequired,\n    ondelete: PropTypes.func.isRequired,\n    ontoggleinspection: PropTypes.func.isRequired,\n    thumbnail: PropTypes.string,\n    yearpublished: PropTypes.number,\n    reallynarrow: PropTypes.bool.isRequired,\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Thumbnail } from './Thumbnail'\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faInfoCircle } from '@fortawesome/free-solid-svg-icons'\nimport { faTrash } from '@fortawesome/free-solid-svg-icons'\n\nconst Description = (props) => {\n    const paragraphs = props.description.map ( (paragraph, idx) =>\n        <p key={idx}>{paragraph}</p>\n    )\n    return (\n        <section className=\"gamecard-description\">\n            { paragraphs }\n        </section>\n    )\n}\n\nDescription.propTypes = {\n    description: PropTypes.array.isRequired,\n}\n\nconst Comments = (props) => {\n    const comments = props.comments.map ( (comment, idx) =>\n        <li key={idx}><b>{comment.author}: </b>{comment.comment}</li>\n    )\n    return (\n        <ul className=\"gamecard-comments\">\n            { comments }\n        </ul>\n    )\n}\n\nComments.propTypes = {\n    comments: PropTypes.array.isRequired,\n}\n\nconst Videos = (props) => {\n    const videos = props.videos.map ( (video, idx) =>\n        <li key={idx}><b>{video.author}: </b><a href={video.link} target=\"_blank\" rel=\"noopener noreferrer\">{video.title}</a></li>\n    )\n    return (\n        <ul className=\"gamecard-videos\">\n            { videos }\n        </ul>\n    )\n}\n\nVideos.propTypes = {\n    videos: PropTypes.array.isRequired,\n}\n\nexport const GameCardBack = (props) => {\n\n    const { id, name, yearpublished, description, inspectingsection, comments, videos, activethumbs, activepoll, ontoggleinspection, oninspectionsectionchange, onnewvote, ondelete, reallynarrow, thumbnail, mythumbcounts } = props\n    return (\n        <React.Fragment>\n        <section className=\"gamecard-header\">\n            <button className=\"fa fa-button\" onClick={ (e) => ondelete(e, id) }><FontAwesomeIcon icon={faTrash}/></button>\n            <button className=\"fa fa-button inspect\" onClick={ (e) => ontoggleinspection(e, id) }><FontAwesomeIcon icon={faInfoCircle}/></button>\n        </section>\n        <section className=\"gamecard-collapse-control\">\n            <button className=\"fa fa-button inspect\" onClick={ (e) => ontoggleinspection(e, id) }><FontAwesomeIcon icon={faInfoCircle}/></button>\n        </section>\n        <section className=\"gamecard-title\">\n            <h5 className=\"game-name\">{name}</h5>\n            {(yearpublished !== null) \n                ? <h6 className=\"game-yearpublished\">({yearpublished})</h6>\n                : <h6 className=\"game-yearpublished\">(#{id})</h6>\n            }\n        </section>\n        <section \n            className=\"gamecard-visual\"\n            data-votingtype=\"title\"\n            data-votingon={id}\n            data-newvote=\"thumbsup\"\n            onClick={onnewvote}\n            >\n            <Thumbnail \n              id={id} \n              name={name} \n              url={thumbnail} \n              activepoll={activepoll} \n              activethumbs={activethumbs} \n              mythumbcounts={mythumbcounts} \n              reallynarrow={reallynarrow} />\n\n        </section>\n        <ul id=\"inspectionsection-selector\">\n            <li id=\"select-description\" className={\"segmentedcontrol darkbg\" + (inspectingsection === \"description\" ? \" selected\" : \"\")} onClick={oninspectionsectionchange}>{props.reallynarrow ? 'Desc.' : 'Description'}</li>\n            <li id=\"select-comments\" className={\"segmentedcontrol darkbg\" + (inspectingsection === \"comments\" ? \" selected\" : \"\")} onClick={oninspectionsectionchange}>Comments</li>\n            <li id=\"select-videos\" className={\"segmentedcontrol darkbg\" + (inspectingsection === \"videos\" ? \" selected\" : \"\")} onClick={oninspectionsectionchange}>Videos</li>\n        </ul>\n        <section className=\"gamecard-variable\">\n            <TransitionGroup>\n                {inspectingsection === \"description\" &&\n                    <CSSTransition \n                        key={0}\n                        in={true}\n                        appear={false}\n                        timeout={2000}\n                        classNames={\"showsegment\"}\n                    >\n                        <Description description={description} />\n                    </CSSTransition>\n                }\n                {inspectingsection === \"comments\" &&\n                    <CSSTransition \n                        key={1}\n                        in={true}\n                        appear={false}\n                        timeout={2000}\n                        classNames={\"showsegment\"}\n                    >\n                        <Comments comments={comments} />\n                    </CSSTransition>\n                }\n                {inspectingsection === \"videos\" &&\n                    <CSSTransition \n                        key={2}\n                        in={true}\n                        appear={false}\n                        timeout={2000}\n                        classNames={\"showsegment\"}\n                    >\n                        <Videos videos={videos} />\n                    </CSSTransition>\n                }\n            </TransitionGroup>\n        </section>\n        </React.Fragment>\n    )\n}\n\nGameCardBack.propTypes = {\n    id: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired,\n    activepoll: PropTypes.string.isRequired,\n    activethumbs: PropTypes.object.isRequired,\n    mythumbcounts: PropTypes.object,\n    yearpublished: PropTypes.number,\n    description: PropTypes.array.isRequired,\n    inspectingsection: PropTypes.string.isRequired,\n    comments: PropTypes.array,\n    videos: PropTypes.array,\n    ontoggleinspection: PropTypes.func.isRequired,\n    oninspectionsectionchange: PropTypes.func.isRequired,\n    onnewvote: PropTypes.func.isRequired,\n    ondelete: PropTypes.func.isRequired,\n    reallynarrow: PropTypes.bool.isRequired,\n}\n\nGameCardBack.defaultProps = {\n    comments: [{author: \"ERROR\", comment: \"(no comments for this game exist on BoardGameGeek.com)\"}],\n    videos: [{author: \"ERROR\", link: \"#\", title: \"(no videos for this game exist on BoardGameGeek.com)\"}]\n}","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { MainControls } from './MainControls'\nimport { GameCardFront } from './GameCardFront'\nimport { GameCardBack } from './GameCardBack'\nimport bggLogo from './img/bgg-logo-50.png'\n\nconst GameFooter = (props) => {\n    return (\n        <div className=\"footer\">\n            <a href={\"https://boardgamegeek.com/boardgame/\" + props.gameid } rel=\"noopener noreferrer\">\n                this game on BGG\n            </a>&nbsp;\n            <img src={bggLogo} alt=\"BoardGameGeek logo\" />\n        </div>\n    )\n}\n\nconst GamecardOverlay = (props) => {\n        if (props.mythumbcounts.poll_rank === 1) {\n            return (\n                <div className=\"gamecard-overlay\">WINNER!</div>\n\n            )\n        } else {\n            return null\n        }\n}\n\nconst Game = (props) => {\n        let gamecard\n        let gamecardClasses = 'game'\n\n        if (props.id === props.idunderinspection) {\n            gamecardClasses += ' inspecting'\n        } \n\n        if (typeof props.mythumbcounts !== 'undefined' \n          && props.mythumbcounts.poll_rank === 1) {\n            gamecardClasses += ' winner'\n        }\n\n        if (typeof props.mythumbcounts === 'undefined' \n          || !props.mythumbcounts.hasOwnProperty('titles') \n          || props.mythumbcounts.titles === 0) {\n            gamecardClasses += ' no-title-votes'\n        }\n\n        if (typeof props.mythumbcounts === 'undefined' \n          || !props.mythumbcounts.hasOwnProperty('attributes') \n          || props.mythumbcounts.attributes === 0) {\n            gamecardClasses += ' no-attribute-votes'\n        }\n\n        if (props.id !== props.idunderinspection) {\n            gamecard = <GameCardFront \n                id={props.id}\n                thumbnail={props.thumbnail}\n                activepoll={props.activepoll}\n                activethumbs={props.activethumbs} \n                mythumbcounts={props.mythumbcounts} \n                name={props.name}\n                yearpublished={props.yearpublished}\n                attributes={props.attributes}\n                ontoggleinspection={props.ontoggleinspection} \n                onnewvote={props.onnewvote}\n                ondelete={props.ondelete}\n                reallynarrow={props.reallynarrow} />\n        } else {\n            gamecard = <GameCardBack \n                id={props.id}\n                thumbnail={props.thumbnail}\n                activepoll={props.activepoll}\n                activethumbs={props.activethumbs}\n                mythumbcounts={props.mythumbcounts} \n                name={props.name}\n                yearpublished={props.yearpublished}\n                description={props.description}\n                inspectingsection={props.inspectingsection}\n                comments={props.comments}\n                videos={props.videos}\n                ontoggleinspection={props.ontoggleinspection} \n                oninspectionsectionchange={props.oninspectionsectionchange} \n                onnewvote={props.onnewvote}\n                ondelete={props.ondelete}\n                reallynarrow={props.reallynarrow} />\n        }\n        let gamecard_overlay = <GamecardOverlay mythumbcounts={props.mythumbcounts} />\n        return(\n            <section className={gamecardClasses}>\n                {gamecard_overlay}\n                {gamecard}\n                <section className=\"gamecard-footer\">\n                    <GameFooter gameid={props.id}/>\n                </section>\n            </section>\n        )\n    }\n\nexport const GameList = (props) => {\n\n    const [idUnderInspection, setIdUnderInspection] = useState(null)\n    const [inspectingSection, setInspectingSection] = useState('description')\n\n    useEffect( () => {\n        const stored_idunderinspection = JSON.parse(localStorage.getItem(\"idUnderInspection\"))\n        if (stored_idunderinspection !== null) {\n            setIdUnderInspection(stored_idunderinspection)\n        }\n    }, [])\n\n    const getThumbedTitles = (props) => {\n        // collect all of the voted titles\n        let titles = []\n        if (props.activethumbs.hasOwnProperty('titles')) {\n            for (let entry of Object.entries(props.activethumbs.titles)) {\n                if (entry[1] === 'thumbsup') {\n                    titles.push(entry[0])\n                }\n            }\n        }\n        return titles\n    } \n\n    const getThumbedPlayercounts = (props) => {\n        // collect all of the voted playercounts\n        let playercounts = []\n        if (props.activethumbs.attributes.hasOwnProperty('players')) {\n            for (let playercount in props.activethumbs.attributes.players) {\n                playercounts.push(parseInt(playercount.slice(0, -1)))\n            }\n        }\n        return playercounts\n    } \n\n    const getThumbedWeights = (props) => {\n        // collect all of the voted weights\n        let weights = []\n        if (props.activethumbs.attributes.hasOwnProperty('weight')) {\n            for (let weight in props.activethumbs.attributes.weight) {\n                weights.push(weight)\n            }\n        }\n        return weights\n    } \n\n    const getTotalVotes = () => {\n        // tally all votes for each game\n        let all_vote_counts = {}\n        if (props.activegamedata.length) {\n            for (const game of props.activegamedata) {\n                let new_vote_counts = {\n                    attributes: 0,\n                    titles: 0,\n                    poll_rank: 0,\n                    my_rank: 0\n                }\n                // playercount section of a game gets ONE TOTAL thumbsup if any of its supported playercounts gets a thumbsup\n                for (let playercount=game.attributes.min_players; playercount<=game.attributes.max_players; playercount++) {\n                    if (props.activethumbs.attributes.players.hasOwnProperty(playercount + 'P')\n                      && props.activethumbs.attributes.players[playercount + 'P'].hasOwnProperty('thumbsup')\n                      && props.activethumbs.attributes.players[playercount + 'P']['thumbsup'].length) {\n                        new_vote_counts.attributes++\n                        break\n                    }\n                }\n                // weight section of a game gets ONE TOTAL thumbsup if its weight has a thumbsup\n                if (props.activethumbs.attributes.weight.hasOwnProperty(game.attributes.average_weight_name)\n                  && props.activethumbs.attributes.weight[game.attributes.average_weight_name].hasOwnProperty('thumbsup')\n                  && props.activethumbs.attributes.weight[game.attributes.average_weight_name]['thumbsup'].length) {\n                    new_vote_counts.attributes++\n                }\n                // categories section of a game gets one thumbsup for each thumbed-up category\n                for (const category of game.attributes.categories) {\n                    if (props.activethumbs.attributes.category.hasOwnProperty(category)\n                      && props.activethumbs.attributes.category[category].hasOwnProperty('thumbsup')\n                      && props.activethumbs.attributes.category[category]['thumbsup'].length) {\n                        new_vote_counts.attributes++\n                    }\n                }\n                // mechanics section of a game gets one thumbsup for each thumbed-up mechanic\n                for (const mechanic of game.attributes.mechanics) {\n                    if (props.activethumbs.attributes.mechanic.hasOwnProperty(mechanic)\n                      && props.activethumbs.attributes.mechanic[mechanic].hasOwnProperty('thumbsup')\n                      && props.activethumbs.attributes.mechanic[mechanic]['thumbsup'].length) {\n                        new_vote_counts.attributes++\n                    }\n                }\n\n                // title votes\n                if (props.activethumbs.hasOwnProperty('titles') \n                  && props.activethumbs.titles.hasOwnProperty(game.id.toString())\n                  && props.activethumbs.titles[game.id].hasOwnProperty('thumbsup')\n                  && props.activethumbs.titles[game.id]['thumbsup'].length) {\n                    let thumbsup_data = props.activethumbs.titles[game.id.toString()].thumbsup\n                    new_vote_counts.titles += thumbsup_data.length\n                    new_vote_counts.my_rank = thumbsup_data.filter(user => user === props.user).length\n                }\n\n                // poll winner\n                if (props.activepoll !== 'local'\n                  && props.activethumbs.hasOwnProperty('winners')\n                  && props.activethumbs.winners.includes(game.id)) {\n                    new_vote_counts.poll_rank = 1\n                }\n\n                all_vote_counts[game.id] = new_vote_counts\n            }\n        }\n        return all_vote_counts\n    } \n\n    const handleInspectionChange = (event, id) => {\n        let gameId = parseInt(id)\n        if (idUnderInspection === gameId) {\n            localStorage.setItem('idUnderInspection', JSON.stringify(null))\n            setIdUnderInspection(null)\n        } else {\n            localStorage.setItem('idUnderInspection', JSON.stringify(gameId))\n            setIdUnderInspection(gameId)\n        }\n    }\n\n    const handleInspectionSectionChange = (event) => {\n        let newSelection = event.target.id.replace(/select-/g, '')\n        setInspectingSection(newSelection)\n    }\n\n    // apply a title filter, if configured and if title votes exist\n    const filterTitles = (games) => {\n        let favoredTitles = getThumbedTitles(props)\n        let filtered = games.filter(function(game) {\n            if (!props.filtertitles || !favoredTitles.length) {\n                return true\n            } else if (favoredTitles.includes(game.name)) {\n                return true\n            } else {\n                return false\n            }\n        })\n        return filtered\n    }\n\n    // apply a playercount filter, if configured and if playercount votes exist\n    const filterPlayercount = (games) => {\n        let favoredPlayercounts = getThumbedPlayercounts(props)\n        let filtered = games.filter(function(game) {\n            if (!props.filterplayercount || !favoredPlayercounts.length) {\n                return true\n            } else {\n                for (let playercount=game.attributes.min_players; playercount<=game.attributes.max_players; playercount++) {\n                    if (favoredPlayercounts.includes(playercount)) {\n                        return true\n                    }\n                }\n                return false\n            }\n        })\n        return filtered\n    }\n\n    // apply a weight filter, if configured and if weight votes exist\n    const filterWeight = (games) => {\n        let favoredWeights = getThumbedWeights(props)\n        let filtered = games.filter(function(game) {\n            if (!props.filterweight || !favoredWeights.length) {\n                return true\n            } else if (favoredWeights.includes(game.attributes.average_weight_name)) {\n                return true\n            } else {\n                return false\n            }\n        })\n        return filtered\n    }\n\n    // order the games\n    const sortGames = (games, votecounts) => {\n        // SORTING OPTIONS:\n        //   sort by maxtitlevotes... FIRST: most title votes,  SECOND: most attr votes\n        //   sort by maxattrvotes...  FIRST: most attr votes,   SECOND: most title votes\n        //   sort by minplaytime...   FIRST: shortest playtime, SECOND: most title votes, THIRD: most attr votes\n        //   sort by maxplayers...    FIRST: most players,      SECOND: most title votes, THIRD: most attr votes\n        let sorted = games.sort(function(a, b) {\n            if (props.sortby === 'maxtitlevotes') {\n                if (votecounts[a.id].titles < votecounts[b.id].titles) {\n                    return 1\n                } else if (votecounts[a.id].titles > votecounts[b.id].titles) {\n                    return -1\n                } else {\n                    if (votecounts[a.id].attributes < votecounts[b.id].attributes) {\n                        return 1\n                    } else if (votecounts[a.id].attributes > votecounts[b.id].attributes) {\n                        return -1\n                    } else {\n                        if (a.attributes.max_playtime > b.attributes.max_playtime) {\n                            return 1\n                        } else if (a.attributes.max_playtime < b.attributes.max_playtime) {\n                            return -1\n                        } else {\n                            return 0\n                        }\n                    }\n                }\n            } else if (props.sortby === 'maxattrvotes') {\n                if (votecounts[a.id].attributes < votecounts[b.id].attributes) {\n                    return 1\n                } else if (votecounts[a.id].attributes > votecounts[b.id].attributes) {\n                    return -1\n                } else {\n                    if (votecounts[a.id].titles < votecounts[b.id].titles) {\n                        return 1\n                    } else if (votecounts[a.id].titles > votecounts[b.id].titles) {\n                        return -1\n                    } else {\n                        if (a.attributes.max_playtime > b.attributes.max_playtime) {\n                            return 1\n                        } else if (a.attributes.max_playtime < b.attributes.max_playtime) {\n                            return -1\n                        } else {\n                            return 0\n                        }\n                    }\n                }\n            } else if (props.sortby === 'minplaytime') {\n                if (a.attributes.max_playtime > b.attributes.max_playtime) {\n                    return 1\n                } else if (a.attributes.max_playtime < b.attributes.max_playtime) {\n                    return -1\n                } else {\n                    if (votecounts[a.id].titles < votecounts[b.id].titles) {\n                        return 1\n                    } else if (votecounts[a.id].titles > votecounts[b.id].titles) {\n                        return -1\n                    } else {\n                        if (votecounts[a.id].attributes < votecounts[b.id].attributes) {\n                            return 1\n                        } else if (votecounts[a.id].attributes > votecounts[b.id].attributes) {\n                            return -1\n                        } else {\n                            return 0\n                        }\n                    }\n                }\n            } else if (props.sortby === 'maxplayers') {\n                if (a.attributes.max_players < b.attributes.max_players) {\n                    return 1\n                } else if (a.attributes.max_players > b.attributes.max_players) {\n                    return -1\n                } else {\n                    if (votecounts[a.id].titles < votecounts[b.id].titles) {\n                        return 1\n                    } else if (votecounts[a.id].titles > votecounts[b.id].titles) {\n                        return -1\n                    } else {\n                        if (votecounts[a.id].attributes < votecounts[b.id].attributes) {\n                            return 1\n                        } else if (votecounts[a.id].attributes > votecounts[b.id].attributes) {\n                            return -1\n                        } else {\n                            return 0\n                        }\n                    }\n                }\n            } else {\n                return 0\n            }\n        })\n        return sorted\n    }\n\n    const getClasses = () => {\n        let classes = ''\n        if (props.activethumbs.total_title_votes !== 0) {\n            classes += 'deemphasize-nonvoted-titles'\n        }\n        return classes\n    }\n\n    let all_thumbcounts = getTotalVotes()\n    let sortedFilteredGames = sortGames(filterWeight(filterPlayercount(filterTitles(props.activegamedata))), all_thumbcounts)\n    return (\n        <React.Fragment>\n        <MainControls \n            routedgames={props.routedgames}\n            activegamedata={props.activegamedata}\n            activethumbs={props.activethumbs}\n            cachedgametitles={props.cachedgametitles}\n            onaddcachedtitles={props.onaddcachedtitles}\n            onaddnewtitles={props.onaddnewtitles}\n            oncachenewtitles={props.oncachenewtitles}\n            ondeleteall={props.ondeleteall}\n            onnewvote={props.onnewvote}\n            onclearsectionvotes={props.onclearsectionvotes}\n            activepoll={props.activepoll}\n            onviewpoll={props.onviewpoll} />\n        <div id=\"resulting-games\" className={getClasses()}>\n            {sortedFilteredGames.length !== 0 && (\n                sortedFilteredGames\n                    .map(\n                        (game, i) => \n                            <Game\n                                key={i}\n                                id={game.id} \n                                idunderinspection={idUnderInspection}\n                                inspectingsection={inspectingSection}\n                                name={game.name} \n                                thumbnail={game.thumbnail} \n                                description={game.description} \n                                yearpublished={game.year_published} \n                                attributes={game.attributes}\n                                comments={game.comments}\n                                videos={game.videos}\n                                activepoll={props.activepoll}\n                                activethumbs={props.activethumbs} \n                                mythumbcounts={all_thumbcounts[game.id]}\n                                onnewvote={props.onnewvote}\n                                ondelete={props.ondelete}\n                                ontoggleinspection={handleInspectionChange}\n                                oninspectionsectionchange={handleInspectionSectionChange}\n                                reallynarrow={props.reallynarrow} />)\n            )}\n            {props.activegamedata.length === 0 && (\n                <span className=\"message warning\">\n                    <p>No board games to compare yet!</p>\n                    <p>Please add game titles by clicking \"Add\".</p>\n                </span>\n            )}\n        </div>\n        </React.Fragment>\n    )\n}\n\nGameList.propTypes = {\n    routedgames: PropTypes.array.isRequired,\n    activegamedata: PropTypes.array.isRequired,\n    sortby: PropTypes.string.isRequired,\n    filtertitles: PropTypes.bool.isRequired,\n    filterplayercount: PropTypes.bool.isRequired,\n    filterweight: PropTypes.bool.isRequired,\n    cachedgametitles: PropTypes.object.isRequired,\n    onaddcachedtitles: PropTypes.func.isRequired,\n    onaddnewtitles: PropTypes.func.isRequired,\n    oncachenewtitles: PropTypes.func.isRequired,\n    ondelete: PropTypes.func.isRequired,\n    ondeleteall: PropTypes.func.isRequired,\n    activethumbs: PropTypes.object.isRequired,\n    onnewvote: PropTypes.func.isRequired,\n    onclearsectionvotes: PropTypes.func.isRequired,\n    activepoll: PropTypes.string.isRequired,\n    onviewpoll: PropTypes.func.isRequired,\n    reallynarrow: PropTypes.bool.isRequired,\n    user: PropTypes.string.isRequired,\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport purpleMeeple from './img/purple-meeple-64.png'\nimport { ViewControls } from './ViewControls'\nimport { GameList } from './GameList'\nimport { voteinpollApi, clearmyvotesApi, deletetitleinpollApi } from './Api.js'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faBars } from '@fortawesome/free-solid-svg-icons'\n\n\nexport class Boardgameinator extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = { \n            activeGameList: [],\n            activePoll: 'local',\n            allGameData: [],\n            activeThumbs: {\n                attributes: {\n                    players: {}, \n                    weight: {}, \n                    category: {}, \n                    mechanic: {}\n                },\n                total_attribute_votes: 0,\n                titles: {},\n                total_title_votes: 0,\n            },\n            allThumbs:  {\n                local: {\n                    attributes: {\n                        players: {}, \n                        weight: {}, \n                        category: {}, \n                        mechanic: {}\n                    },\n                    total_attribute_votes: 0,\n                    titles: {},\n                    total_title_votes: 0,\n                }\n            },\n            filterTitles: false,\n            filterPlayercount: true,\n            filterWeight: true,\n            localGameList: [],\n            routedGames: [],\n            sortOrder: 'maxtitlevotes',\n            user: '_me_', // FIXME: implement user auths\n            windowWidth: 0,\n            windowHeight: 0\n        }\n        this.totalTitleVotes = this.totalTitleVotes.bind(this)\n        this.totalAttributeVotes = this.totalAttributeVotes.bind(this)\n        this.getCachedGameTitles = this.getCachedGameTitles.bind(this)\n        this.gameHasBeenAdded = this.gameHasBeenAdded.bind(this)\n        this.gameSupportsPlayercount = this.gameSupportsPlayercount.bind(this)\n        this.voteTitleInPoll = this.voteTitleInPoll.bind(this)\n        this.clearMyTitleVotesInPoll = this.clearMyTitleVotesInPoll.bind(this)\n        this.deleteTitleInPoll = this.deleteTitleInPoll.bind(this)\n        this.onAddCachedTitles = this.onAddCachedTitles.bind(this)\n        this.onAddNewTitles = this.onAddNewTitles.bind(this)\n        this.onCacheNewTitles = this.onCacheNewTitles.bind(this)\n        this.onNewVote = this.onNewVote.bind(this)\n        this.onDeleteTitle = this.onDeleteTitle.bind(this)\n        this.onDeleteAllTitles = this.onDeleteAllTitles.bind(this)\n        this.onClearSectionVotes = this.onClearSectionVotes.bind(this)\n        this.onViewPoll = this.onViewPoll.bind(this)\n        this.handleSortChange = this.handleSortChange.bind(this)\n        this.handleFilterChange = this.handleFilterChange.bind(this)\n        this.extractYearFromTitle = this.extractYearFromTitle.bind(this)\n        this.updateDimensions = this.updateDimensions.bind(this)\n        this.onHamburger = this.onHamburger.bind(this)\n    }\n\n    gamedataVersion = 1\n\n    componentDidMount() {\n\n        let allGameData = []\n\n        let query_strings, new_list = [], addto_list = []\n        let path = this.props.location.search.slice(1).split('?')\n        if (path.length === 1) {\n            query_strings = path[0]\n        } else {\n            query_strings = path[1]\n        }\n        query_strings.split('&').forEach( function(query_string) {\n            let qs = query_string.split('=')\n            if (qs[0] === 'newlist') {\n                qs[1].split('+').forEach( game_id => new_list.push(parseInt(game_id)) )\n            } else if (qs[0] === 'addtolist') {\n                qs[1].split('+').forEach( game_id => addto_list.push(parseInt(game_id)) )\n            }\n        })\n\n        const stored_localGameList = JSON.parse(localStorage.getItem(\"localGameList\"))\n        if (stored_localGameList !== null) {\n            this.setState({ localGameList: stored_localGameList })\n        }\n\n        const stored_activeGameList = JSON.parse(localStorage.getItem(\"activeGameList\"))\n        if (stored_activeGameList !== null) {\n            this.setState({ activeGameList: stored_activeGameList })\n        }\n\n        const stored_activePoll = JSON.parse(localStorage.getItem(\"activePoll\"))\n        if (stored_activePoll !== null) {\n            this.setState({ activePoll: stored_activePoll })\n        } else {\n            this.setState({ activePoll: 'local' })\n        }\n\n        let update_routedGames = [ ...new_list, ...addto_list ]\n        this.setState({ routedGames: update_routedGames })\n\n        // let self = this\n        if (new_list.length === 0) {\n            const stored_gamedataVersion = JSON.parse(localStorage.getItem(\"gamedataVersion\"))\n            if (stored_gamedataVersion === this.gamedataVersion) {\n                allGameData = JSON.parse(localStorage.getItem(\"allGameData\"))\n            } else {\n                localStorage.setItem('gamedataVersion', JSON.stringify(this.gamedataVersion))\n                localStorage.setItem('allGameData', JSON.stringify(allGameData))\n            }\n            this.setState({ allGameData })\n        } else {\n            localStorage.setItem('gamedataVersion', JSON.stringify(this.gamedataVersion))\n        }\n\n        const stored_allThumbs = JSON.parse(localStorage.getItem(\"allThumbs\"))\n        if (stored_allThumbs !== null) {\n            this.setState({ allThumbs: stored_allThumbs })\n        }\n\n        const stored_activeThumbs = JSON.parse(localStorage.getItem(\"activeThumbs\"))\n        if (stored_activeThumbs !== null) {\n            this.setState({ activeThumbs: stored_activeThumbs })\n        }\n\n        const stored_sortorder = JSON.parse(localStorage.getItem(\"sortOrder\"))\n        if (stored_sortorder !== null) {\n            this.setState({ sortOrder: stored_sortorder })\n        }\n\n        const stored_filtertitles = JSON.parse(localStorage.getItem(\"filterTitles\"))\n        if (stored_filtertitles !== null) {\n            this.setState({ filterTitles: stored_filtertitles })\n        }\n\n        const stored_filterplayercount = JSON.parse(localStorage.getItem(\"filterPlayercount\"))\n        if (stored_filterplayercount !== null) {\n            this.setState({ filterPlayercount: stored_filterplayercount })\n        }\n\n        const stored_filterweight = JSON.parse(localStorage.getItem(\"filterWeight\"))\n        if (stored_filterweight !== null) {\n            this.setState({ filterWeight: stored_filterweight })\n        }\n\n        this.updateDimensions()\n        window.addEventListener('resize', this.updateDimensions)\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.updateDimensions)\n    }\n\n    updateDimensions() {\n        let windowWidth = typeof window !== 'undefined' ? window.innerWidth : 0\n        let windowHeight = typeof window !== 'undefined' ? window.innerHeight : 0\n        this.setState({ windowWidth, windowHeight })\n    }\n\n    // for disambiguation of titles, the game ID will be put in parentheses when the API does not provide yearpublished info\n    extractYearFromTitle(title) {\n        if (typeof title === 'string' && title.length) {\n            let matchesDate = title.match(/(( +)\\((-?)\\d{1,4}\\))$/)\n            if (matchesDate !== null) {\n                return matchesDate[0].replace(/[^0-9-]/g, \"\")\n            } else {\n                let matchesId = title.match(/(( +)\\(#\\d{1,6}\\))$/)\n                if (matchesId !== null) {\n                    return matchesId[0].replace(/[^#0-9-]/g, \"\")\n                } else {\n                    return null\n                }\n            }\n        }\n    }\n\n    getCachedGameTitles() {\n        let titles = {}, self = this\n        this.state.allGameData.forEach(function(gamedata) {\n            if (gamedata.hasOwnProperty('unambiguous_name')) {\n                let new_cache_info = {\n                    id: gamedata.id,\n                    name: gamedata.name,\n                    unambiguous_name: gamedata.unambiguous_name,\n                    year_published: gamedata.year_published,\n                    active: (self.state.activeGameList.includes(gamedata.id)) ? true : false,\n                }\n                titles[gamedata.unambiguous_name] = new_cache_info\n            }\n        })\n        return titles\n    }\n\n    gameHasBeenAdded(gameId, gameSet) {\n        for (let game of gameSet) {\n            if (game.id === parseInt(gameId)) {\n                return true\n            }\n        }\n        return false\n    }\n\n    onAddCachedTitles(titles) {\n\n        if (titles.length) {\n\n            this.setState(prevState => {\n\n                // FIXME: Implement poll editing. May not want to update active list here if we are currently looking at a poll.\n                let activeGameList = prevState.activeGameList.slice()\n                let localGameList = prevState.localGameList.slice()\n                titles.forEach(title => {\n                    // title is an unambiguous name\n                    if (isNaN(parseInt(title))) {\n                        activeGameList.push(prevState.allGameData.filter( game_data => game_data.unambiguous_name === title )[0].id)\n                        localGameList.push(prevState.allGameData.filter( game_data => game_data.unambiguous_name === title )[0].id)\n                    // title is a game ID\n                    } else {\n                        activeGameList.push(parseInt(title))\n                        localGameList.push(parseInt(title))\n                    }\n\n                })\n                localStorage.setItem('activeGameList', JSON.stringify(activeGameList))\n                localStorage.setItem('localGameList', JSON.stringify(localGameList))\n\n                return { activeGameList, localGameList }\n            })\n\n        }\n    }\n\n    onAddNewTitles(newGameData_arr) {\n\n        if (newGameData_arr.length) {\n\n            let now = new Date()\n\n            this.setState(prevState => {\n\n                // FIXME: Implement poll editing. May not want to update active list here if we are currently looking at a poll.\n                let activeGameList = prevState.activeGameList.slice()\n                let localGameList = prevState.localGameList.slice()\n                let allGameData = JSON.parse(JSON.stringify(prevState.allGameData))\n                newGameData_arr.forEach(each_newGameData => {\n                    each_newGameData[\"updated_at\"] = now.getTime()\n                    activeGameList.push(each_newGameData.id)\n                    localGameList.push(each_newGameData.id)\n                    allGameData.push(each_newGameData)\n                })\n                localStorage.setItem('activeGameList', JSON.stringify(activeGameList))\n                localStorage.setItem('localGameList', JSON.stringify(localGameList))\n                localStorage.setItem('allGameData', JSON.stringify(allGameData))\n\n                return { activeGameList, localGameList, allGameData }\n            })\n        }\n\n    }\n\n    onCacheNewTitles(newGameData_arr) {\n\n        if (newGameData_arr.length) {\n\n            let now = new Date()\n\n            this.setState(prevState => {\n\n                let allGameData = JSON.parse(JSON.stringify(prevState.allGameData))\n                newGameData_arr.forEach(each_newGameData => {\n                    each_newGameData[\"updated_at\"] = now.getTime()\n                    allGameData.push(each_newGameData)\n                })\n                localStorage.setItem('allGameData', JSON.stringify(allGameData))\n\n                return { allGameData }\n            })\n\n        }\n\n    }\n\n    gameSupportsPlayercount(game, playercount) {\n        let number = playercount.slice(0, -1)\n        if (number <= game.attributes.max_players && number >= game.min_players) {\n            return true\n        } else {\n            return false\n        }\n    }\n\n    onDeleteTitle(event, id) {\n\n        // title removals for polls are managed by the server\n        if (this.state.activePoll !== 'local') {\n\n            this.deleteTitleInPoll(this.state.activePoll, id, this.state.user)\n\n        // title removals for non-polls are kept on the client (state & local storage)\n        } else {\n\n            this.setState(prevState => {\n\n                // FIXME: Implement poll editing. May not want to update active list here if we are currently looking at a poll.\n                // remove the game from the active game list (but still keep its game data cached)\n                let activeGameList = prevState.activeGameList.slice()\n                activeGameList = activeGameList.filter(game_id => game_id !== parseInt(id))\n\n                // remove the game from the local game list (but still keep its game data cached)\n                let localGameList = prevState.localGameList.slice()\n                localGameList = localGameList.filter(game_id => game_id !== parseInt(id))\n\n                // remove the game from the game list\n                let allGameData = JSON.parse(JSON.stringify(prevState.allGameData))\n                allGameData = allGameData.filter(game => game.id !== parseInt(id))\n\n                let activeThumbs = JSON.parse(JSON.stringify(prevState.activeThumbs))\n\n                // remove any title upvotes\n                if (activeThumbs.titles.hasOwnProperty(id)) {\n                    delete activeThumbs.titles[id]\n                }\n\n                // remove any attribute upvotes for attributes no longer occurring in any other game\n                for (let attrName in activeThumbs.attributes) {\n                    if (attrName === 'players') {\n                        for (let votedplayercount in activeThumbs.attributes[attrName]) {\n                            let attributeStillOccurs = false\n                            for (let game of allGameData) {\n                                if (this.gameSupportsPlayercount(game, votedplayercount)) {\n                                    attributeStillOccurs = true\n                                    break\n                                }\n                            }\n                            if (!attributeStillOccurs) {\n                                delete activeThumbs.attributes[attrName][votedplayercount]\n                            }\n                        }\n                    } else if (attrName === 'weight') {\n                        for (let votedweight in activeThumbs.attributes[attrName]) {\n                            let attributeStillOccurs = false\n                            for (let game of allGameData) {\n                                if (game.weight === votedweight) {\n                                    attributeStillOccurs = true\n                                    break\n                                }\n                            }\n                            if (!attributeStillOccurs) {\n                                delete activeThumbs.attributes[attrName][votedweight]\n                            }\n                        }\n                    } else if (attrName === 'category') {\n                        for (let votedcategory in activeThumbs.attributes[attrName]) {\n                            let attributeStillOccurs = false\n                            for (let game of allGameData) {\n                                if (typeof game.attributes !== 'undefined') {\n                                    for (let category of game.attributes.categories) {\n                                        if (votedcategory.hasOwnProperty(category)\n                                          && votedcategory[category].hasOwnProperty('thumbsup')\n                                          && votedcategory[category].thumbsup.length) {\n                                            attributeStillOccurs = true\n                                            break\n                                        }\n                                    }\n                                }\n                            }\n                            if (!attributeStillOccurs) {\n                                delete activeThumbs.attributes[attrName][votedcategory]\n                            }\n                        }\n                    } else if (attrName === 'mechanic') {\n                        for (let votedmechanic in activeThumbs.attributes[attrName]) {\n                            let attributeStillOccurs = false\n                            for (let game of allGameData) {\n                                if (typeof game.attributes !== 'undefined') {\n                                    for (let mechanic of game.attributes.mechanics) {\n                                        if (votedmechanic.hasOwnProperty(mechanic)\n                                          && votedmechanic[mechanic].hasOwnProperty('thumbsup')\n                                          && votedmechanic[mechanic].thumbsup.length) {\n                                            attributeStillOccurs = true\n                                            break\n                                        }\n                                    }\n                                }\n                            }\n                            if (!attributeStillOccurs) {\n                                delete activeThumbs.attributes[attrName][votedmechanic]\n                            }\n                        }\n                    }\n                }\n\n                // NOTE: Update the active game list, but leave allGameData unchanged. It will serve as \n                // the cache of API data. Most downstream components only need to operate on game data \n                // for titles that are on the active list.\n\n                localStorage.setItem('activeGameList', JSON.stringify(activeGameList))\n                localStorage.setItem('localGameList', JSON.stringify(localGameList))\n                localStorage.setItem('activeThumbs', JSON.stringify(activeThumbs))\n\n                // update the master list of all preferences\n                let new_allThumbs = JSON.parse(JSON.stringify(prevState.allThumbs))\n                let new_pollThumbs = JSON.parse(JSON.stringify(activeThumbs))\n                new_allThumbs[prevState.activePoll] = new_pollThumbs\n                localStorage.setItem('allThumbs', JSON.stringify(new_allThumbs))\n\n                return { \n                    activeGameList: activeGameList,\n                    localGameList: localGameList,\n                    allThumbs: new_allThumbs,\n                    activeThumbs: activeThumbs,\n                }\n            })\n        }\n    }\n\n    async clearMyTitleVotesInPoll(poll_id, user) {\n        clearmyvotesApi(poll_id, user)\n            // .then(json => {\n            //     if (json.hasOwnProperty('id') === poll_id) {\n            //         this.onViewPoll(json)\n            //     }})\n    }\n\n    onDeleteAllTitles(event) {\n        this.setState(prevState => {\n            // FIXME: Implement poll editing. May not want to update active list here if we are currently looking at a poll.\n            let activeGameList = []\n            let localGameList = []\n            let activeThumbs = {\n                'attributes': {\n                    'players': {}, \n                    'weight': {}, \n                    'category': {}, \n                    'mechanic': {}\n                },\n                'titles': {\n                },\n                total_title_votes: 0,\n                total_attribute_votes: 0,\n            }\n            localStorage.setItem('activeGameList', JSON.stringify(activeGameList))\n            localStorage.setItem('localGameList', JSON.stringify(localGameList))\n            localStorage.setItem('activeThumbs', JSON.stringify(activeThumbs))\n\n            // update the master list of all preferences\n            let new_allThumbs = JSON.parse(JSON.stringify(prevState.allThumbs))\n            let new_pollThumbs = JSON.parse(JSON.stringify(activeThumbs))\n            new_allThumbs[prevState.activePoll] = new_pollThumbs\n            localStorage.setItem('allThumbs', JSON.stringify(new_allThumbs))\n\n            return { \n                activeGameList: activeGameList,\n                localGameList: localGameList,\n                allThumbs: new_allThumbs,\n                activeThumbs: activeThumbs,\n            }\n        })\n    }\n\n    totalTitleVotes(all_title_thumbs) {\n        let count = 0\n        Object.entries(all_title_thumbs)\n            .forEach( function(title) {\n                if (Object.keys(title[1]).includes('thumbsup')) {\n                    count += title[1]['thumbsup'].length\n                }\n            })\n        return  count\n    }\n\n    totalAttributeVotes(all_attribute_thumbs) {\n        let count = 0\n        Object.entries(all_attribute_thumbs)\n            .forEach( function(category) {\n                count += Object.values(category[1]).filter( vote => vote.hasOwnProperty('thumbsup') && vote.thumbsup.length ).length\n            })\n        return  count\n    }\n\n    async voteTitleInPoll(poll_id, title, newvote, user) {\n        voteinpollApi(poll_id, title, newvote, user)\n            // .then(json => {\n            //     if (json.hasOwnProperty('id') === poll_id) {\n            //         this.onViewPoll(json)\n            //     }})\n    }\n\n    async deleteTitleInPoll(poll_id, title_id, user) {\n        deletetitleinpollApi(poll_id, title_id, user)\n            // .then(json => {\n            //     if (json.hasOwnProperty('id') === poll_id) {\n            //         this.onViewPoll(json)\n            //     }})\n    }\n\n    onNewVote(event) {\n        const { votingtype, votingon, newvote } = Object.assign({}, event.currentTarget.dataset)\n\n        // title votes for polls are managed by the server\n        if (votingtype === 'title' && this.state.activePoll !== 'local') {\n\n            this.voteTitleInPoll(this.state.activePoll, votingon, newvote, this.state.user)\n\n        // attribute votes and all non-poll votes are kept on the client (state & local storage)\n        } else {\n\n            this.setState(prevState => {\n                let updated_activeThumbs = JSON.parse(JSON.stringify(prevState.activeThumbs))\n                // record a new title vote\n                if (votingtype === 'title') {\n                    if (updated_activeThumbs.titles.hasOwnProperty(votingon.toString())) {\n                        let updated_thistitle = JSON.parse(JSON.stringify(updated_activeThumbs.titles[votingon.toString()]))\n                        if (updated_thistitle.hasOwnProperty(newvote)\n                            && updated_thistitle[newvote].includes(prevState.user)) {\n                            updated_thistitle[newvote] = updated_thistitle[newvote].filter( user => user !== prevState.user )\n                        } else {\n                            let updated_vote = [prevState.user]\n                            updated_thistitle[newvote] = updated_vote\n                        }\n                        updated_activeThumbs.titles[votingon.toString()] = updated_thistitle\n                    } else {\n                        let updated_vote = {}\n                        updated_vote[newvote] = [prevState.user]\n                        updated_activeThumbs.titles[votingon] = updated_vote\n                    }\n                // record a new attribute vote\n                } else {\n                    if (updated_activeThumbs.attributes[votingtype].hasOwnProperty(votingon)) {\n                        let updated_thisattribute = JSON.parse(JSON.stringify(updated_activeThumbs.attributes[votingtype][votingon]))\n                        if (updated_thisattribute.hasOwnProperty(newvote)\n                            && updated_thisattribute[newvote].includes(prevState.user)) {\n                            updated_thisattribute[newvote] = updated_thisattribute[newvote].filter( user => user !== prevState.user )\n                        } else {\n                            let updated_vote = [prevState.user]\n                            updated_thisattribute[newvote] = updated_vote\n                        }\n                        updated_activeThumbs.attributes[votingtype][votingon] = updated_thisattribute\n                    } else {\n                        let updated_vote = {}\n                        updated_vote[newvote] = [prevState.user]\n                        updated_activeThumbs.attributes[votingtype][votingon] = updated_vote\n                    }\n                }\n                updated_activeThumbs.total_title_votes = this.totalTitleVotes(updated_activeThumbs.titles)\n                updated_activeThumbs.total_attribute_votes = this.totalAttributeVotes(updated_activeThumbs.attributes)\n                localStorage.setItem('activeThumbs', JSON.stringify(updated_activeThumbs))\n\n                // update the master list of all preferences\n                let new_allThumbs = JSON.parse(JSON.stringify(prevState.allThumbs))\n                let new_pollThumbs = JSON.parse(JSON.stringify(updated_activeThumbs))\n                new_allThumbs['local'] = new_pollThumbs\n                localStorage.setItem('allThumbs', JSON.stringify(new_allThumbs))\n\n                return { \n                    activeThumbs: updated_activeThumbs,\n                    allThumbs: new_allThumbs,\n                }\n            })\n\n        }\n    }\n\n    onViewPoll(poll) {\n\n        this.setState(prevState => {\n\n            let new_pollName = poll.name\n            localStorage.setItem('activePoll', JSON.stringify(new_pollName))\n\n            let new_activeGameList = [], new_activeThumbs = {}\n            if (poll.name === 'local') {\n                // disable poll: \n                //   1) replace the active game list with the pre-existing list of local titles\n                //   2) replace all active votes with the saved local title and attribute votes\n                new_activeGameList = [...prevState.localGameList]\n                new_activeThumbs = JSON.parse(JSON.stringify(prevState.allThumbs.local))\n            } else {\n                // enable poll: \n                //   1) replace the active game list with all of the titles from this poll\n                //   2) replace the active title votes with all of the title votes from this poll\n                //   3) refresh the active attribute votes with the saved local attribute votes\n                new_activeGameList = Object.keys(poll.pollThumbs.titles).map( title => parseInt(title) )\n                new_activeThumbs = JSON.parse(JSON.stringify(poll.pollThumbs))\n                new_activeThumbs.total_title_votes = poll.pollThumbs.total_title_votes\n                new_activeThumbs.attributes = JSON.parse(JSON.stringify(prevState.allThumbs.local.attributes))\n                new_activeThumbs.total_attribute_votes = prevState.allThumbs.local.total_attribute_votes\n            }\n            localStorage.setItem('activeGameList', JSON.stringify(new_activeGameList))\n            localStorage.setItem('activeThumbs', JSON.stringify(new_activeThumbs))\n\n            return { \n                activePoll: new_pollName,\n                activeGameList: new_activeGameList,\n                activeThumbs: new_activeThumbs,\n            }\n        })\n    }\n\n    onClearSectionVotes(event) {\n        const { votingtype } = Object.assign({}, event.target.dataset)\n\n        // title votes for polls are managed by the server\n        if (votingtype === 'all_titles' && this.state.activePoll !== 'local') {\n\n            this.clearMyTitleVotesInPoll(this.state.activePoll, this.state.user)\n\n        // attribute votes and all non-poll votes are kept on the client (state & local storage)\n        } else {\n\n            const clearVotes = {}\n            this.setState(prevState => {\n                let updated_activeThumbs = JSON.parse(JSON.stringify(prevState.activeThumbs))\n                if (votingtype === 'all_titles') {\n                    updated_activeThumbs.titles = clearVotes\n                    updated_activeThumbs.total_title_votes = this.totalTitleVotes(updated_activeThumbs.titles)\n                } else {\n                    if (votingtype === 'all_attributes') {\n                        updated_activeThumbs.attributes['players'] = clearVotes\n                        updated_activeThumbs.attributes['weight'] = clearVotes\n                        updated_activeThumbs.attributes['category'] = clearVotes\n                        updated_activeThumbs.attributes['mechanic'] = clearVotes\n                    } else {\n                        updated_activeThumbs.attributes[votingtype] = clearVotes\n                    }\n                    updated_activeThumbs.total_attribute_votes = this.totalAttributeVotes(updated_activeThumbs.attributes)\n                }\n                localStorage.setItem('activeThumbs', JSON.stringify(updated_activeThumbs))\n\n                // update the master list of all preferences\n                let new_allThumbs = JSON.parse(JSON.stringify(updated_activeThumbs))\n                let new_pollThumbs = JSON.parse(JSON.stringify(updated_activeThumbs))\n                new_allThumbs[prevState.activePoll] = new_pollThumbs\n                localStorage.setItem('allThumbs', JSON.stringify(new_allThumbs))\n\n                return { \n                    activeThumbs: updated_activeThumbs,\n                    allThumbs: new_allThumbs,\n                }\n            })\n\n        }\n    }\n\n    handleSortChange(event, value) {\n        this.setState(prevState => {\n            localStorage.setItem('sortOrder', JSON.stringify(value))\n            return {\n                sortOrder: value,\n            }\n        })\n    }\n\n    handleFilterChange(event, value) {\n        switch (value) {\n            case 'titles':\n                this.setState(prevState => {\n                    let filterTitles = !prevState.filterTitles\n                    localStorage.setItem('filterTitles', JSON.stringify(filterTitles))\n                    return { \n                        filterTitles: !this.state.filterTitles,\n                    }\n                })\n                break\n            case 'playercount':\n                this.setState(prevState => {\n                    let filterPlayercount = !prevState.filterPlayercount\n                    localStorage.setItem('filterPlayercount', JSON.stringify(filterPlayercount))\n                    return { \n                        filterPlayercount: !this.state.filterPlayercount,\n                    }\n                })\n                break\n            case 'weight':\n                this.setState(prevState => {\n                    let filterWeight = !prevState.filterWeight\n                    localStorage.setItem('filterWeight', JSON.stringify(filterWeight))\n                    return { \n                        filterWeight: !this.state.filterWeight,\n                    }\n                })\n                break\n            default:\n                break\n        }\n    }\n\n    onHamburger(event) {\n        // FIXME: (WIP) add nav functionality\n        alert('(FIXME/WIP) Add nav functionality here.')\n    }\n\n    render() {\n        const { windowWidth } = this.state\n        const styles = {\n            reallyNarrow: windowWidth < 650\n        }\n        const activeGameData = this.state.allGameData.filter( gameData => this.state.activeGameList.includes(gameData.id) )\n        const cachedGameTitles = this.getCachedGameTitles()\n        return (\n            <React.Fragment>\n            <div id=\"page-header\">\n                <button className=\"fa fa-button\" onClick={ (e) => this.onHamburger(e) }><FontAwesomeIcon icon={faBars}/>\n                    <img src={purpleMeeple} alt=\"Boardgameinator logo\" />\n                    <h1>{(this.state.activePoll === 'local') ? 'Boardgameinator' : this.state.activePoll}</h1>\n                </button>\n                <ViewControls \n                sortby={this.state.sortOrder}\n                onsortchange={this.handleSortChange}\n                filtertitles={this.state.filterTitles}\n                filterplayercount={this.state.filterPlayercount}\n                filterweight={this.state.filterWeight}\n                onfilterchange={this.handleFilterChange} />\n            </div>\n            <div id=\"content-wrapper\">\n                <GameList\n                    routedgames={this.state.routedGames}\n                    activegamedata={activeGameData} \n                    cachedgametitles={cachedGameTitles}\n                    onaddcachedtitles={this.onAddCachedTitles}\n                    onaddnewtitles={this.onAddNewTitles}\n                    oncachenewtitles={this.onCacheNewTitles}\n                    activethumbs={this.state.activeThumbs} \n                    sortby={this.state.sortOrder}\n                    filtertitles={this.state.filterTitles}\n                    filterplayercount={this.state.filterPlayercount}\n                    filterweight={this.state.filterWeight}\n                    ondelete={this.onDeleteTitle}\n                    ondeleteall={this.onDeleteAllTitles}\n                    onnewvote={this.onNewVote}\n                    onclearsectionvotes={this.onClearSectionVotes}\n                    activepoll={this.state.activePoll}\n                    onviewpoll={this.onViewPoll}\n                    reallynarrow={styles.reallyNarrow} \n                    user={this.state.user} />\n            </div>\n            </React.Fragment>\n        )\n    }\n}\n\nBoardgameinator.propTypes = {\n    location: PropTypes.object.isRequired,\n}","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Route, BrowserRouter as Router } from 'react-router-dom'\nimport './index.css'\nimport { Boardgameinator } from './Boardgameinator'\n\n\nconst routing = (\n    <Router>\n        <div>\n            <Route path=\"/\" component={Boardgameinator} />\n        </div>\n    </Router>\n)\n\nReactDOM.render(routing, document.getElementById('root'))"],"sourceRoot":""}